2008-12-09  Neutron Soutmun <neo.neutron@gmail.com>

	* weblogin/Makefile.am: Change from EXTRA_DIST to noinst_HEADERS which only
	  pack it in the distribution tarball, do not install it anyway.

2008-12-09  Neutron Soutmun <neo.neutron@gmail.com>

	* +weblogin/Makefile.am: Add makefile for weblogin to install with package.
	* configure.ac, Makefile.am: Update accordingly to weblogin/Makefile.am.
	* NEWS: Change release date to 2008-12-09 due to forgot to install weblogin.

2008-12-03  Neutron Soutmun <neo.neutron@gmail.com>

	* -INSTALL: Drop file the automake --add-missing will create it automatically.
	* +TODO: Add TODO list.
	* NEWS: Update the 0.1.1 released.

2008-12-03  Neutron Soutmun <neo.neutron@gmail.com>

	* src/rahunasd.c: Fix the malfunction rh_sighandler(), handle only SIGTERM and
	  adjust the code to let the program really exit gracefully.

2008-12-03  Neutron Soutmun <neo.neutron@gmail.com>

	* src/rahunasd.c: Fix the worst case that the pid < 0 (fail) is parsed into 
	  the rh_sighandler() which the program must ignore this trigger.

2008-12-03  Neutron Soutmun <neo.neutron@gmail.com>

	* src/rahunasd.{c,h}, src/rh-config.h, src/rh-ipset.{c,h}, 
	  src/rh-task-ipset.c, src/rh-task-memset.c, src/rh-task.h, 
	  src/rh-xmlrpc-cmd.c, src/rh-xmlrpc-server.{c,h}:
	  Use :retab to convert tab to 2 spaces.

2008-12-01  Neutron Soutmun <neo.neutron@gmail.com>

	* example/firewall.sh.in:
	  - Fix the syntax error in excluded ip rules.
	  - Fix the malfunction of whitespace trim in the get_config_value() by
	    only left and right trim rather than trim every whitespace. This error
	    affect the excluded value which have many values whitespace separated.
	  - Fix $N malform declaration cause of the Usage message never show.

2008-11-28  Neutron Soutmun <neo.neutron@gmail.com>

	* weblogin/config.php, weblogin/locale.php: Add default language setting.

2008-11-28  Neutron Soutmun <neo.neutron@gmail.com>

	* src/rh-ipset.c: Fix mem free by replace free() with rh_free() for the 
	  variable allocated memory by rh_malloc() which prevent the double free.

2008-11-28  Neutron Soutmun <neo.neutron@gmail.com>

	* weblogin/locale.php, weblogin/locale/*, +weblogin/messages.php,
	  weblogin/login.php, weblogin/logout.php: 
	  Add multilingual weblogin base on PHP gettext, now supported languages are 
	  Thai and English.
	* weblogin/loading.gif, weblogin/note.txt: 
	  Change the loading animation picture which now is the hourclass spinning 
	  downloaded from www.clipartpoint.com. (Free to use it on website)
	* -weblogin/rahu-{loading,waiting}.gif: Remove unused pictures.
	* weblogin/templates/*/rahunas.css: Add new customized CSS for each template
	  which now can customized independently from the core.
	* weblogin/templates/rahunas/rahunas.html: Adjust the rahunas template.

2008-11-27  Neutron Soutmun <neo.neutron@gmail.com>

	* weblogin/config.php: 
	  - Adjust the weblogin config value to satisfy the default settings of 
	    RahuNAS.
	  - Set rahunas theme to be default theme.
	* weblogin/{indedx,login,logout}.php,
	  weblogin/{rahu_radius.class,rahu_xmlrpc.class,xmlrpc_service}.php:
	  - Convert tab to 2 spaces (Beautify code for text editor compatibility).

2008-11-27  Neutron Soutmun <neo.neutron@gmail.com>

	* -example/rahunas.{default,init,conf}, -example/{firewall,bandwidth}.sh
	  +example/rahunas.{default,init,conf}.in, 
	  +example/{firewall,bandwidth}.sh.in:
	  - Raname the wrapper script and example config files to .in which all of
	    them will be autogenerated on build time with the respective prefix path.
	* configure.ac: Add the files above to AC_CONFIG_FILES.

2008-11-27  Neutron Soutmun <neo.neutron@gmail.com>

	[ Suriya Soutmun ]
	* +lcfg/lcfg_static.{h,c}, +lcfg/Makefile.am, +src/rh-config.c,
	  src/rahunasd.{h,c}:
	  Add liblcfg and their implementation to satisfy RahuNAS requirement.
	* Makefile.am, configure.ac, src/Makefile.am: 
	  Add the lcfg and their implementation to build config and makefile.

	[ Neutron Soutmun ]
	* +example/rahunas.conf: Add example config file.
	* -example/rahunas.firewall, -example/rahunas.bandwidth,
	  +example/firewall.sh, +example/bandwidth.sh:
	  - Rename the wrapper script.
	  - Adjust the firewall.sh to satisfy the config implementation.
	* example/rahunas.default: 
	  Remove the parts the moved to the config file.
	* src/rh-ipset.c, src/rh-task-ipset.c, src/rh-xmlrpc-cmd.c:
	  Update accordingly to new config implementation.

2008-11-26  Neutron Soutmun <neo.neutron@gmail.com>

	* example/rahunas.bandwidth: Fix the script delete all filters rather than 
	  the specified flowid.

2008-11-26  Neutron Soutmun <neo.neutron@gmail.com>

	* -rahunas.{init,default,firewall,bandwidth},
	  +example/rahunas.{init,default,firewall,bandwidth}:
	  Move rahunas.* wrapper scripts to example dir.

2008-11-26  Neutron Soutmun <neo.neutron@gmail.com>

	* configure.ac: Remove old RAHUNAS_VERSION which now replaced by 
	  AC_SUBST(RAHUNAS_VERSION, major.minor.micro). 

2008-11-25  Neutron Soutmun <neo.neutron@gmail.com>

	* rahunas.default: 
	  Add bandwidth shaping support by using the IMQ and iproute2.
	* rahunas.firewall: 
	  Adjust to prevent the re-init firewall that cause the failure on the 
		stop process.
	* rahunas.init: 
	  Adjust the firewall script caller.
	* +rahunas.bandwidth: Add the rahunas bandwidth wrapper script.

	* src/rh-task-bandwidth.{h,c}: Add bandwidth shaping task which response to
	  the WISPr-Bandwidth-Max-{Up,Down} that reply from RADIUS.
	* src/rahunasd.h: Add bandwidth_slot_id into members structure.
	* src/rh-task-dbset.c: 
	  - Add bandwidth_* into dbset_row structure.
	  - Add insert, fetch and restore code of bandwidth_* from DB into dbset_row 
	    structure.
	  - Change task priority to 10. (Lowest priority now).
	* src/rh-task-ipset.c: 
	  Change task priority to 30. 
	* src/rh-task-memset.c: 
	  Change task priority to 40. (Highest priority).
	* src/rh-task.c: 
	  Include and register new task, bandwidth task.
	* src/rh-task.h: 
	  Change the bandwidth_max_* type from long to unsigned long.
	* src/Makefile.am: 
	  Update accordingly to bandwidth task implementation.
	* weblogin/logout.php: 
	  Update CSS style for loginbox background.
	* weblogin/templates/kkulogin/kkulogin.html: 
	  Update KKU-Login template.
	* data/rahunas.db: 
	  Alter the schema of dbset table to support bandwidth fields.

2008-11-20  Neutron Soutmun <neo.neutron@gmail.com>

	* rahunas.firewall: Add excluded IP support.

2008-11-19  Neutron Soutmun <neo.neutron@gmail.com>

	* src/rh-xmlrpc-cmd.c: Fixed half-close socket, cause of the socket stay in 
	  the CLOSE_WAIT state (TCP resources starvation by mistake - forgot to close
	  the socket).

2008-11-18  Neutron Soutmun <neo.neutron@gmail.com>

	* src/rh-ipset.c: 
	  Do not warning in syslog when the shutdown() and close() socket, fix syslog 	  flooding.

2008-11-14  Neutron Soutmun <neo.neutron@gmail.com>

	* src/rh-ipset.c: 
	  Fixed the too many open files due to the uncleanly close sockets.
	* src/rh-task-dbset.c:
	  Fixed the too many open temporary files due to unclosed connections.
	* src/rh-xmlrpc-server.c:
	  Fixed the Session-Timeout handler which it does not set the session_timeout
	  in members data to 0 when the Session-Timeout is not set. 

2008-11-12  Neutron Soutmun <neo.neutron@gmail.com>

	* weblogin/logout.php: Substring the request url to shorten the line
	  when it length longer than 20 chars.

2008-11-11  Neutron Soutmun <neo.neutron@gmail.com>

	* rahunas.{default,firewall}: Add supporting for DHCP and DNS forwarding, 
	  Proxy, Transparent-Proxy and the Natwork Address Translation (Masquerading).
	* weblogin/templates/rahunas/*: Add new login template for rahunas, 
	  "My inspiration" - featuring by my daughter, "Music".
	* weblogin/{login,logout}.php: Adjust to support new template.

2008-11-06  Neutron Soutmun <neo.neutron@gmail.com>

	* src/rahunas.{h,c}, src/rh-task-memset.c, rh-task.h, src/rh-xmlrpc-server.c:
		Add Session-Timeout support

	* weblogin/login.php, weblogin/logout.php, weblogin/rahu_radius.class.php,
	  weblogin/rahu_xmlrpc.class.php:
	  Add Session-Timeout support and prepare the WISPr-Bandwidth-Max-{Down,Up}.

2008-11-03  Neutron Soutmun <neo.neutron@gmail.com>

	* rahunas.firewall:
	  - Adjust the firewall to define new chain for easy start and stop.
	  - The firewall now cleanly start and stop by do not disturb other rules
	    than this script done.
	* rahunas.init: Update respectively to rahunas.firewall changes.

2008-10-24  Neutron Soutmun <neo.neutron@gmail.com>

	* src/rahunasd.h, src/rh-xmlrpc-server.c:
	  Empty MAC Address now substitute by DEFAULT_MAC (00:00:00:00:00:00) to
		support the new ignoremac feature (Tested with the OSPF Routing Protocol).

	* weblogin/config.php, weblogin/index.php, weblogin/login.php, 
	  weblogin/logout.php:
		- Add supporting for https port number other than default 443. 
		- Default https port for RahuNAS is 8443. 
	
	* rahunas.firewall: 
	  - Adjust the wrong connmark from 10 to 0x2; 
	  - Remove unnecessary command.

2008-10-16  Neutron Soutmun <neo.neutron@gmail.com>

	* +weblogin/*: Add the PHP web login.

2008-10-16  Neutron Soutmun <neo.neutron@gmail.com>

	* -rahunas.in: Remove unnecessary.

2008-10-16  Neutron Soutmun <neo.neutron@gmail.com>

	* +rahunas.{init.default,firewall}: Add the support scripts for do the 
	  initialize daemon, firewall and daemon config.
	* data/rahunas.db: Remove the tested data from db.

2008-10-10  Neutron Soutmun <neo.neutron@gmail.com>

	* configure.ac:
	  - Add the module checking for libgda which require to build the new 
	    database session backups (sqlite3).
	  - Add the major, minor and micro variables to easy handle the future 
	    version bump.
	  - Add VERSION and PROGRAM variables which will be used in the core program.
	  - Add data/Makefile.
		- Add src/include/linux/netfilter_ipv4/Makefile to include it in the 
		  distribution. (make dist-*) 
	* src/rahunasd.{h,c}: Update the code which using VERSION and PROGRAM 
		  corresponding to the build config.
	* +data/Makefile.am, +data/rahunas.db, Makefile.am: 
	  Add data dir which now contains sqlite3 db file and update makefile.
	* +src/rh-task-dbset.{h,c}:	
	  Add the database session backups task.
	* src/Makefile.am:
	  - Update corresponding to the new database session backups task.
	  - Add missing header files to rahunasd_SOURCES which they are not included
		  in the distribution. (make dist-*)
	* src/rh-config.h: Define DB_NAME which using by task-dbset.  
	* src/rh-task-ipset.c: 
	  - Update taskprio from 1 to 2 for the appropriate 
	    point of working which now the ipset is the middle priority task.
	  - Update the positions of the logmsg. (Debuging purpose)
	* src/rh-task-memset.c:
	  - Update taskprio from 2 to 3 for the appropriate 
	    point of working which now the memset is the most priority task.
	  - Update the positions of the logmsg. (Debuging purpose)
	* src/rh-task.{h,c}: 
	  - Change the way to handle the tasklist from singly linked-list to the
	    GList from GLib which can handle the forward and backward link. (Doubly
		  linked-list), the tasks eq. stopservice, stopsess, cleanup need to start 
	    from the least priority first. (Prevent the most significant data in 
	    memset was deleted which will cause the failures of the other tasks that 
			depend on it.
	  - Update the struct task structure by remove unneeded *next which now we
	    handle the task list by the GList.
	* src/rh-xmlrpc-server.c: Move the req.id and req.req_opt to the inner of 
	  the condition checking because of their values not even use if the 
	  conditions are not true.
	* +src/include/linux/netfilter_ipv4/Makefile.am: Add the header files in this 
	  dir to EXTRA_DIST which they will be distribute in the distribution.

2008-09-12  Neutron Soutmun <neo.neutron@gmail.com>

	* +src/rh-task-*.{h,c}: 
		- Add the tasks concept of the workers. eg. memset, ipset,
	    dbset and etc. 
	  - Each tasks provide the function to handle each events, 
			eg. init, start and stop service, start and stop session.
	* src/rahunas.{h,c}, src/rh-ipset.{h,c}, src/rh-utils.{h,c},
	  src/rh-xmlrpc-server.c: 
	  Change respectively to new tasks concept and do code beautifier. 
	* +src/rh-config.h: Move the configuration definitions from rahunasd.h.
	* src/Makefile.am: Change respectively to properly build the tasks concept.
	* AUTHORS: Add Suriya Soutmun to the author team.

2008-09-03  Neutron Soutmun <neo.neutron@gmail.com>

	* src/rahunasd.{h,c}: 
	  - Handle the signal and when child process is stopped or restart, 
	    send the stop accounting to Radius with NAS Reboot code.
	* +src/rh-radius.h: Add predefined termination code of Radius.
	* src/rh-xmlrpc-cmd.{h,c}: Change send_xmlrpc_stopacct() API, which provide
	  the ability to send the cause of the stop accounting.

2008-09-02  Neutron Soutmun <neo.neutron@gmail.com>

	* src/rh-xmlrpc-cmd.h, src/rh-utils.h: Add header definitions.

2008-09-02  Neutron Soutmun <neo.neutron@gmail.com>

	* +src/rh-xmlrpc-cmd.{h,c}: Add new xmlrpc client command sender.
	* src/rahunasd.c: Move the send_xmlrpc_stopacct() code to rh-xmlrpc-cmd.
	* src/Makefile.am: Update accordingly to new change.

2008-09-01  Neutron Soutmun <neo.neutron@gmail.com>

	* src/rahunasd.c: Remove unnecessary functions.
	* src/rh-xmlrpc-server.c: Free the allocated memory of the the vars that 
	  calling rh_string_get_sep().

2008-08-31  Neutron Soutmun <neo.neutron@gmail.com>

	* +src/rh-utils.{h,c}: Add new utility functions.
	* src/rahunasd.{h,c}: 
	  - Move rh_malloc() and rh_free() to rh-utils.
	  - include file rh-utils.h which now provide rh_{malloc,free}().
	* src/rh-ipset.c: include file rh-utils.h.
	* src/rh-xmlrpc-server.c:
	  - Implement new function rh_string_get_sep() which more clean looking code.
	* src/Makefile.am: Update accordingly to new change.

2008-08-25  Neutron Soutmun <neo.neutron@gmail.com>

	* src/rh-ipset.c:
	  - Shutdown will not close the socket after finish the request, 
	    try close() to done.

2008-08-23  Neutron Soutmun <neo.neutron@gmail.com>

	* src/rh-ipset.c:
	  - Shutdown the socket after finish the request.
	  - Log the errno of the failure of the kernel_getsocket() to syslog for 
	    later debuging.

2008-08-23  Neutron Soutmun <neo.neutron@gmail.com>

	* src/rahunasd.h:
	  - Fix typo the project name, it is shame.
	  - Change POLLING interval from 30 seconds to 60 seconds, 
	    try to prevent the socket access overload.
	* src/rh-ipset.{h,c}:
	  - Try to open the socket until over the limit GETSOCK_TRIES before exit with 		  EXIT_FAILURE status.

2008-08-22  Neutron Soutmun <neo.neutron@gmail.com>

	* src/rahunasd.c, src/rh-xmlrpc-server.c:
	  - Rename dummy to termstring (make sense).
	  - More preventing the segfault due to print NULL string pointer.

2008-08-21  Neutron Soutmun <neo.neutron@gmail.com>

	* src/rahunasd.{h,c}, src/rh-xmlrpc-server.c:
	  - Prevent the segfault due to the log printing username and session_id 
	    pointing to NULL.
	  - Implement the ipset Flush set command.
	* src/rh-ipset.{h,c}: Add code to support ipset Flush set command.
	* + rahunas.in: Add init script example.

2008-08-21  Neutron Soutmun <neo.neutron@gmail.com>

	* src/rahunasd.c: Remove the including to ipset-control.h which not exist now.

2008-08-21  Neutron Soutmun <neo.neutron@gmail.com>

	* src/include/linux/netfilter_ipv4/ip_set*.h: 
	  add to resolve FTBFS when clone from git (forgot to commit last time).

2008-08-21  Neutron Soutmun <neo.neutron@gmail.com>

	* src/rahunasd.{h,c}, src/rh-ipset.{h,c}, src/rh-xmlrpc-server.c:
	  Implement the native ipset command, the codes are adapted from ipset 
	  userspace program.
	* src/ipset-control.{h,c}: Removed as they are replaced by new native ipset
	  implementation.
	* src/Makefile.am: Adjust to support new native ipset implementation.

2008-08-20  Neutron Soutmun <neo.neutron@gmail.com>

	* src/rahunas.{h,c}:
	  - Replace logmsg which using RH_DEBUG to new DP().

2008-08-20  Neutron Soutmun <neo.neutron@gmail.com>

	* src/rahunas.h:
	  - Add predefine RH_LOG_LEVEL and set it to RH_LOG_NORMAL.
	  - Remove unneccessary code.

2008-08-20  Neutron Soutmun <neo.neutron@gmail.com>

	* src/rahunas.h:
	  - Add timemsg(), static funtion returning the time message for logging. 
	  - Adjust DP() for the DEBUG logging, which activate by define RH_DEBUG in 
	    compilation time.

	* src/rahunas.c:
	  - Adjust logmsg() to use the new timemsg().

2008-08-19  Neutron Soutmun <neo.neutron@gmail.com>

	* src/rahunas.{h,c}:
	  - pipe stderr stream to logfile.

	* src/rahunas.h:
	  - Add minor version numbering to VERSION.
	  - Change MAX_MEMBERS from dec to hex.

2008-08-19  Neutron Soutmun <neo.neutron@gmail.com>

	* === First import the project ===
