commit 33c9a51169f96f5ce4df98727cecff6192be514c
Author: Neutron Soutmun <neo.neutron@gmail.com>
Date:   Thu Aug 7 16:12:49 2014 +0700

    Update Thai translation

    Signed-off-by: Neutron Soutmun <neo.neutron@gmail.com>

 weblogin-po/rahunas-weblogin.pot | 42 +++++++++++++++++++-----------------
 weblogin-po/th.po                | 46 ++++++++++++++++++++++------------------
 2 files changed, 48 insertions(+), 40 deletions(-)

commit 5cf335647e6fcd1acc2261928a8ec4d2d5446ecc
Author: Neutron Soutmun <neo.neutron@gmail.com>
Date:   Thu Aug 7 15:39:50 2014 +0700

    Add cross network roaming

    * In multiple networks (multiple vservers) environment, users may logged in to
      one network and moving to some neighbor networks in the same RahuNAS
      server. As such, the server must check the "secure_token" that has been
      assigned to user on successfully login over *HTTPS*, if the credential
      is valid then sysmtem will close the existing session on previous network and
      start a session on new network with the same properties.

    Signed-off-by: Neutron Soutmun <neo.neutron@gmail.com>

 data/rahunas-db.sql            |   1 +
 src/rahunasd.c                 |   5 ++
 src/rahunasd.h                 |   1 +
 src/rh-task-dbset.c            |  12 ++-
 src/rh-task-memset.c           |   4 +
 src/rh-task.h                  |   1 +
 src/rh-xmlrpc-server.c         | 165 ++++++++++++++++++++++++++++++++++++-----
 src/rh-xmlrpc-server.h         |   6 ++
 weblogin/messages.php          |   1 +
 weblogin/rahu_authen.class.php | 107 ++++++++++++++++++++++++++
 weblogin/rahu_xmlrpc.class.php |  51 ++++++++++++-
 11 files changed, 330 insertions(+), 24 deletions(-)

commit 6c8fc2775a7b1d71071d9f85f15a4a54a483143a
Author: Neutron Soutmun <neo.neutron@gmail.com>
Date:   Tue Aug 5 10:37:55 2014 +0700

    Move rahunas.db to /var/lib/rahunas/db

    Signed-off-by: Neutron Soutmun <neo.neutron@gmail.com>

 src/Makefile.am                         | 2 +-
 tools/rahunas-ipacct.in                 | 2 +-
 tools/rahunas-weblogin-config-update.in | 5 ++++-
 3 files changed, 6 insertions(+), 3 deletions(-)

commit 87002a9ae0a4025ddc4b96e6120c5545a80e4832
Author: Neutron Soutmun <neo.neutron@gmail.com>
Date:   Tue Aug 5 10:19:47 2014 +0700

    Update Thai translation

    Signed-off-by: Neutron Soutmun <neo.neutron@gmail.com>

 weblogin-po/rahunas-weblogin.pot | 50 +++++++++++++++++++++++---------------
 weblogin-po/th.po                | 52 ++++++++++++++++++++++++----------------
 2 files changed, 63 insertions(+), 39 deletions(-)

commit 1be111a1416a7172222da86729f0c4e7c66e0fee
Author: Neutron Soutmun <neo.neutron@gmail.com>
Date:   Tue Aug 5 10:11:49 2014 +0700

    Prepare and show Speed/Data transfer on logout page

    Signed-off-by: Neutron Soutmun <neo.neutron@gmail.com>

 src/rh-xmlrpc-server.c         |   7 +-
 weblogin/rahu_authen.class.php | 154 +++++++++++++++++++++++++++--------------
 weblogin/rahu_xmlrpc.class.php |  10 ++-
 3 files changed, 114 insertions(+), 57 deletions(-)

commit 8002f1c073de1e279d63d9a7300062e8275554e0
Author: Neutron Soutmun <neo.neutron@gmail.com>
Date:   Mon Aug 4 13:14:41 2014 +0700

    Change prio of the download/upload bandwidth class

    Signed-off-by: Neutron Soutmun <neo.neutron@gmail.com>

 tools/rahunas-bandwidth.in | 14 +++++++-------
 1 file changed, 7 insertions(+), 7 deletions(-)

commit b0e76011be91c5585eb1e2cf8b6b4227ce73db5c
Author: Neutron Soutmun <neo.neutron@gmail.com>
Date:   Mon Aug 4 12:39:48 2014 +0700

    Combine ip accouting networks which using same interface

    * tools/rahunas-ipacct.in:
      - The client's networks that using the same interface are combined to a
        single pmacct process, reduce processes spawn for large network with
        L3 deployment.

    Signed-off-by: Neutron Soutmun <neo.neutron@gmail.com>

 tools/rahunas-ipacct.in | 73 +++++++++++++++++++++++++++++++++++++++----------
 1 file changed, 59 insertions(+), 14 deletions(-)

commit 25b9ff29512d3c664269ee365e7d4fad590b23d8
Author: Neutron Soutmun <neo.neutron@gmail.com>
Date:   Mon Aug 4 10:41:12 2014 +0700

    Do not warning for the existing bandwidth class just replace it silently

    Signed-off-by: Neutron Soutmun <neo.neutron@gmail.com>

 tools/rahunas-bandwidth.in | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 929d706d9dfe6042bc863146240099a47646a12d
Author: Neutron Soutmun <neo.neutron@gmail.com>
Date:   Mon Aug 4 09:50:11 2014 +0700

    Replace sqlite busy manual handler with sqlite3_busy_timeout()

    * SQLite3 C API provides the sqlite3_busy_timeout() for handle the
      "database locked" (busy).

    Signed-off-by: Neutron Soutmun <neo.neutron@gmail.com>

 src/rahunasd.c       | 13 +++----------
 src/rahunasd.h       |  1 +
 src/rh-task-dbset.c  | 10 ++--------
 src/rh-task-ipacct.c | 10 ++--------
 4 files changed, 8 insertions(+), 26 deletions(-)

commit bc584aca637bac86d9c405846382e0f1f8a68c41
Author: Neutron Soutmun <neo.neutron@gmail.com>
Date:   Sun Aug 3 22:23:50 2014 +0700

    Set formatted output of bandwidth_slot_id to PRIu16

    * src/rh-task-dbset.c:
      - Set formatted output of bandwidth_slot_id to PRIu16

    Signed-off-by: Neutron Soutmun <neo.neutron@gmail.com>

 src/rh-task-dbset.c | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit f37b20ba70c3ba105cf449c8f1b6f4317e761483
Author: Neutron Soutmun <neo.neutron@gmail.com>
Date:   Tue Jul 29 13:20:17 2014 +0700

    Fix bandwidth shaping with multiple networks on the same interface

    * The rahunas-bandwidth wrapper script does not handle the multiple
      networks on the same interface. The hash-filter should also check the
      network and link to the correct bucket.

    Signed-off-by: Neutron Soutmun <neo.neutron@gmail.com>

 tools/rahunas-bandwidth.in | 22 +++++++++++-----------
 1 file changed, 11 insertions(+), 11 deletions(-)

commit fca92f4d359278bc296bad7149e5ea251baa0be7
Author: Neutron Soutmun <neo.neutron@gmail.com>
Date:   Tue Jul 29 10:34:24 2014 +0700

    Fix the ssh connection to server dropped on rahunasd reload

    * On reload if there are more than 1 configuration using the same external
      interface then the firewall rules will be dropped without condition check.
      The rahunas-firewall script should drop the external firewall rules
      only when nobody on the same external interface reference it.

    Signed-off-by: Neutron Soutmun <neo.neutron@gmail.com>

 tools/rahunas-firewall.in | 37 ++++++++++++++++++++++++-------------
 1 file changed, 24 insertions(+), 13 deletions(-)

commit 2ffe9834bbc067b0dda34f2d870dd48f26f7bd40
Author: Neutron Soutmun <neo.neutron@gmail.com>
Date:   Tue Jul 29 09:31:35 2014 +0700

    Fix warning of rahunas-bandwidth wrapper script

    * The rahunas-bandwidth should not warning on the speed down or up is
      not specified (unlimit setting).

    Signed-off-by: Neutron Soutmun <neo.neutron@gmail.com>

 tools/rahunas-bandwidth.in | 42 ++++++++++++++++++++++++++++++------------
 1 file changed, 30 insertions(+), 12 deletions(-)

commit 350334d42b0010b602d1fc7cdf88bced0c4e43fa
Author: Neutron Soutmun <neo.neutron@gmail.com>
Date:   Tue Jul 29 09:00:51 2014 +0700

    Revert the misunderstand, divison of integer by constant

    * It's not the division of integer by constant but the preprocessor.
      Just redefine the PAGE_SIZE as (sizeof (uint64_t) * 8) instead.
      Thanks to Chatchai Jantaraprim who point this.

    Signed-off-by: Neutron Soutmun <neo.neutron@gmail.com>

 src/rh-task-bandwidth.c | 19 ++++++++-----------
 src/rh-task-bandwidth.h |  2 +-
 2 files changed, 9 insertions(+), 12 deletions(-)

commit 5af1ff281d839caf5e758a39ef318f652c0ee446
Author: Neutron Soutmun <neo.neutron@gmail.com>
Date:   Tue Jul 29 00:09:04 2014 +0700

    Convert bandwidth_slot_id to hex for tc class id

    [rahunasd]
    * Convert bandwidth_slot_id to hex for tc class id in rahunas-bandwidth
      wrapper script. We could not set class id with 5 digits decimal.
      Therefore, the hex conversion is making class id valid.

    Signed-off-by: Neutron Soutmun <neo.neutron@gmail.com>

 tools/rahunas-bandwidth.in | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit b45094871ae658a73c794ab1240d6a0df958662a
Author: Neutron Soutmun <neo.neutron@gmail.com>
Date:   Mon Jul 28 23:50:06 2014 +0700

    Attach the request_url with the redirecting login page request

    [weblogin]

    * The request_url should be attached with the redirecting login page request.
      The user can click 'OK' button and continue browsing the request url on
      access authenticated.

    Signed-off-by: Neutron Soutmun <neo.neutron@gmail.com>

 weblogin/index.php | 6 ++++--
 1 file changed, 4 insertions(+), 2 deletions(-)

commit a18b7232c56737a0fe74b34fb53155c3ab178af9
Author: Neutron Soutmun <neo.neutron@gmail.com>
Date:   Mon Jul 28 22:42:36 2014 +0700

    Initialize the req.bandwidth_slot_id, fixed unusable bandwidth shaping

    * The bandwidth_slot_id should be initialized before start new session,
      uninitialized causes the rahunasd failed to manage slot id and unusable
      bandwidth shaping and crashes.

    Signed-off-by: Neutron Soutmun <neo.neutron@gmail.com>

 src/rh-xmlrpc-server.c | 1 +
 1 file changed, 1 insertion(+)

commit 95f2e30609f280e81b779c35674664a3fe6f8cfd
Author: Neutron Soutmun <neo.neutron@gmail.com>
Date:   Mon Jul 28 22:11:05 2014 +0700

    Using bandwidth_slot_id from request data

    * On restore data (start from crashes), the bandwidth_slot_id is predefined,
      just using it instead, no need to get new slot id.

    Signed-off-by: Neutron Soutmun <neo.neutron@gmail.com>

 src/rh-task-bandwidth.c | 5 +++--
 1 file changed, 3 insertions(+), 2 deletions(-)

commit 1d7379cc39576fc488a0a0dd47f76f87b36bd1d8
Author: Neutron Soutmun <neo.neutron@gmail.com>
Date:   Mon Jul 28 19:50:12 2014 +0700

    Fix bandwidth_slot_id declaration and incorrect slot random

    * The bandwidth_slot_id should be declared as 'uint16_t'.
    * Adjust the slot random to fix the out of bound slot id.
    * Fix division of integer by constant, the slot id random sometimes
      failed badly.

    Signed-off-by: Neutron Soutmun <neo.neutron@gmail.com>

 src/rahunasd.h          |  2 +-
 src/rh-task-bandwidth.c | 34 +++++++++++++++++++---------------
 src/rh-task-bandwidth.h |  2 +-
 src/rh-task-dbset.c     |  2 +-
 src/rh-task.h           |  2 +-
 5 files changed, 23 insertions(+), 19 deletions(-)

commit f2755e88c1b15e149e718ccb4a405b1494984e54
Author: Neutron Soutmun <neo.neutron@gmail.com>
Date:   Mon Jul 28 19:44:39 2014 +0700

    Add self-backtrace on SIGSEGV

    * The rahunasd should be compiled with flags "-ggdb -rdynamic" to expose
      the basic symbols backtrace on SIGSEGV.

    Signed-off-by: Neutron Soutmun <neo.neutron@gmail.com>

 src/rahunasd.c | 15 +++++++++++++++
 1 file changed, 15 insertions(+)

commit f8b93b254222875e21e81fd6995dfb4abe8ab592
Author: Neutron Soutmun <neo.neutron@gmail.com>
Date:   Mon Jul 28 13:59:36 2014 +0700

    Setup link sharing and adjust R2Q of download bandwidth shaping,

    * Setup the tc class to be link sharing with normal/ceil speed.
      By default normal speed is 50% of ceil speed (adjustable).
      Ceil speed is taken from the WISPr-Bandwidth-Max-{Down,Up}.
    * Set R2Q of download bandwidth shaping to 125.

    Signed-off-by: Neutron Soutmun <neo.neutron@gmail.com>

 tools/rahunas-bandwidth.in | 26 +++++++++++++++++---------
 1 file changed, 17 insertions(+), 9 deletions(-)

commit c94381e02e1a5cde2351a5604239a27915c14cfd
Author: Neutron Soutmun <neo.neutron@gmail.com>
Date:   Mon Jul 28 13:38:45 2014 +0700

    Add main config "ip_accounting" to enable/disable IP accounting

    * IP accounting is disabled by default, it should be enabled by

    /etc/rahunas/rahunas.conf
    main = {
      ...
      ...
      ip_accounting = "yes"
    }

    Signed-off-by: Neutron Soutmun <neo.neutron@gmail.com>

 src/rahunasd.c  | 1 +
 src/rh-config.c | 2 ++
 src/rh-config.h | 2 ++
 src/rh-task.c   | 4 +++-
 4 files changed, 8 insertions(+), 1 deletion(-)

commit 8b5ad8ee967656d8ec2bded3b82d6485aefaf0bf
Author: Neutron Soutmun <neo.neutron@gmail.com>
Date:   Mon Jul 28 13:23:10 2014 +0700

    Fix IP accounting service does not stop/start properly

    * On reload, the rahunas-ipacct wrapper script does not check the
      'pmacctd' process properly, hence, there are orphaned 'pmacctd' processes
      remaining.

    Signed-off-by: Neutron Soutmun <neo.neutron@gmail.com>

 tools/rahunas-ipacct.in | 34 +++++++++++++++++++++++++++++++---
 1 file changed, 31 insertions(+), 3 deletions(-)

commit 855116dd245538e6aca6976099e5aa25e7c0c3da
Author: Neutron Soutmun <neo.neutron@gmail.com>
Date:   Mon Jul 28 11:38:16 2014 +0700

    Clarify the return message from rahunas-bandwidth wrapper script

    * On reload, the script should return "Already {started/stopped}" instead of
      "NOT COMPLETED".

    Signed-off-by: Neutron Soutmun <neo.neutron@gmail.com>

 tools/rahunas-bandwidth.in | 4 ++++
 1 file changed, 4 insertions(+)

commit fa8d83900d2bb5ed6fbf3d91e6f2df46d0c18e09
Author: Neutron Soutmun <neo.neutron@gmail.com>
Date:   Mon Jul 28 11:24:36 2014 +0700

    Update weblogin-po translation

    * Update as the php code is reorganized.
    * Update added word Thai translation.

    Signed-off-by: Neutron Soutmun <neo.neutron@gmail.com>

 weblogin-po/POTFILES.in          |   5 +-
 weblogin-po/rahunas-weblogin.pot | 138 +++++++++++++---------------
 weblogin-po/th.po                | 192 +++++++++++++++++++--------------------
 3 files changed, 161 insertions(+), 174 deletions(-)

commit ed3934849a65490aced62193f1930a6d5d1daa13
Author: Neutron Soutmun <neo.neutron@gmail.com>
Date:   Mon Jul 28 10:49:38 2014 +0700

    Renovate the PHP weblogin code

    * The authentication logics (login/logout/message) are now combined and
      reorganized to new class RahuAuthen{Login/Logout}.
    * Switch the template engine to "Smarty" and make the template files to
      fully customizable.
    * Drop outdated templates.
    * Cleanup unused php files.

    Signed-off-by: Neutron Soutmun <neo.neutron@gmail.com>

 weblogin/.htaccess                                 |      2 +-
 weblogin/browscap-cache/browscap.ini               | 396700 ------------------
 weblogin/browscap-cache/cache.php                  |  55755 ---
 weblogin/config.php                                |     94 +-
 weblogin/data/browscap-cache/browscap.ini          | 396700 ++++++++++++++++++
 weblogin/data/browscap-cache/cache.php             |  55755 +++
 weblogin/data/template/cache/.gitkeep              |      0
 weblogin/data/template/compile/.gitkeep            |      0
 weblogin/getmacaddr.php                            |     60 -
 weblogin/header.php                                |     37 -
 weblogin/index.php                                 |     45 +-
 weblogin/libs/Browscap.php                         |   1115 -
 weblogin/libs/Browscap/Browscap.php                |   1115 +
 weblogin/libs/Smarty/Smarty.class.php              |   1588 +
 weblogin/libs/Smarty/SmartyBC.class.php            |    459 +
 weblogin/libs/Smarty/debug.tpl                     |    133 +
 weblogin/libs/Smarty/plugins/block.textformat.php  |    110 +
 weblogin/libs/Smarty/plugins/function.counter.php  |     76 +
 weblogin/libs/Smarty/plugins/function.cycle.php    |    105 +
 weblogin/libs/Smarty/plugins/function.fetch.php    |    219 +
 .../Smarty/plugins/function.html_checkboxes.php    |    235 +
 .../libs/Smarty/plugins/function.html_image.php    |    161 +
 .../libs/Smarty/plugins/function.html_options.php  |    195 +
 .../libs/Smarty/plugins/function.html_radios.php   |    219 +
 .../Smarty/plugins/function.html_select_date.php   |    393 +
 .../Smarty/plugins/function.html_select_time.php   |    364 +
 .../libs/Smarty/plugins/function.html_table.php    |    176 +
 weblogin/libs/Smarty/plugins/function.mailto.php   |    154 +
 weblogin/libs/Smarty/plugins/function.math.php     |     90 +
 .../libs/Smarty/plugins/modifier.capitalize.php    |     87 +
 .../libs/Smarty/plugins/modifier.date_format.php   |     64 +
 .../Smarty/plugins/modifier.debug_print_var.php    |    103 +
 weblogin/libs/Smarty/plugins/modifier.escape.php   |    197 +
 .../libs/Smarty/plugins/modifier.regex_replace.php |     55 +
 weblogin/libs/Smarty/plugins/modifier.replace.php  |     32 +
 weblogin/libs/Smarty/plugins/modifier.spacify.php  |     25 +
 weblogin/libs/Smarty/plugins/modifier.truncate.php |     62 +
 .../libs/Smarty/plugins/modifiercompiler.cat.php   |     28 +
 .../plugins/modifiercompiler.count_characters.php  |     31 +
 .../plugins/modifiercompiler.count_paragraphs.php  |     26 +
 .../plugins/modifiercompiler.count_sentences.php   |     26 +
 .../plugins/modifiercompiler.count_words.php       |     30 +
 .../Smarty/plugins/modifiercompiler.default.php    |     34 +
 .../Smarty/plugins/modifiercompiler.escape.php     |    124 +
 .../plugins/modifiercompiler.from_charset.php      |     32 +
 .../Smarty/plugins/modifiercompiler.indent.php     |     31 +
 .../libs/Smarty/plugins/modifiercompiler.lower.php |     29 +
 .../Smarty/plugins/modifiercompiler.noprint.php    |     23 +
 .../plugins/modifiercompiler.string_format.php     |     24 +
 .../libs/Smarty/plugins/modifiercompiler.strip.php |     32 +
 .../Smarty/plugins/modifiercompiler.strip_tags.php |     28 +
 .../Smarty/plugins/modifiercompiler.to_charset.php |     32 +
 .../Smarty/plugins/modifiercompiler.unescape.php   |     49 +
 .../libs/Smarty/plugins/modifiercompiler.upper.php |     28 +
 .../Smarty/plugins/modifiercompiler.wordwrap.php   |     45 +
 .../Smarty/plugins/outputfilter.trimwhitespace.php |     90 +
 .../Smarty/plugins/shared.escape_special_chars.php |     51 +
 .../plugins/shared.literal_compiler_param.php      |     34 +
 .../libs/Smarty/plugins/shared.make_timestamp.php  |     41 +
 .../libs/Smarty/plugins/shared.mb_str_replace.php  |     55 +
 weblogin/libs/Smarty/plugins/shared.mb_unicode.php |     50 +
 .../libs/Smarty/plugins/shared.mb_wordwrap.php     |     82 +
 .../plugins/variablefilter.htmlspecialchars.php    |     19 +
 .../Smarty/sysplugins/smarty_cacheresource.php     |    390 +
 .../sysplugins/smarty_cacheresource_custom.php     |    267 +
 .../smarty_cacheresource_keyvaluestore.php         |    472 +
 .../Smarty/sysplugins/smarty_config_source.php     |     94 +
 .../smarty_internal_cacheresource_file.php         |    277 +
 .../sysplugins/smarty_internal_compile_append.php  |     51 +
 .../sysplugins/smarty_internal_compile_assign.php  |     87 +
 .../sysplugins/smarty_internal_compile_block.php   |    440 +
 .../sysplugins/smarty_internal_compile_break.php   |     75 +
 .../sysplugins/smarty_internal_compile_call.php    |    129 +
 .../sysplugins/smarty_internal_compile_capture.php |     97 +
 .../smarty_internal_compile_config_load.php        |     83 +
 .../smarty_internal_compile_continue.php           |     76 +
 .../sysplugins/smarty_internal_compile_debug.php   |     42 +
 .../sysplugins/smarty_internal_compile_eval.php    |     72 +
 .../sysplugins/smarty_internal_compile_extends.php |     82 +
 .../sysplugins/smarty_internal_compile_for.php     |    150 +
 .../sysplugins/smarty_internal_compile_foreach.php |    229 +
 .../smarty_internal_compile_function.php           |    165 +
 .../sysplugins/smarty_internal_compile_if.php      |    210 +
 .../sysplugins/smarty_internal_compile_include.php |    258 +
 .../smarty_internal_compile_include_php.php        |    106 +
 .../sysplugins/smarty_internal_compile_insert.php  |    141 +
 .../sysplugins/smarty_internal_compile_ldelim.php  |     40 +
 .../sysplugins/smarty_internal_compile_nocache.php |     73 +
 ...marty_internal_compile_private_block_plugin.php |     86 +
 ...ty_internal_compile_private_function_plugin.php |     72 +
 .../smarty_internal_compile_private_modifier.php   |    140 +
 ...ernal_compile_private_object_block_function.php |     87 +
 ...ty_internal_compile_private_object_function.php |     85 +
 ...y_internal_compile_private_print_expression.php |    156 +
 ...y_internal_compile_private_registered_block.php |    112 +
 ...nternal_compile_private_registered_function.php |     80 +
 ...y_internal_compile_private_special_variable.php |    114 +
 .../sysplugins/smarty_internal_compile_rdelim.php  |     40 +
 .../sysplugins/smarty_internal_compile_section.php |    202 +
 .../smarty_internal_compile_setfilter.php          |     72 +
 .../sysplugins/smarty_internal_compile_while.php   |     94 +
 .../sysplugins/smarty_internal_compilebase.php     |    176 +
 .../Smarty/sysplugins/smarty_internal_config.php   |    305 +
 .../smarty_internal_config_file_compiler.php       |    142 +
 .../sysplugins/smarty_internal_configfilelexer.php |    646 +
 .../smarty_internal_configfileparser.php           |    927 +
 .../Smarty/sysplugins/smarty_internal_data.php     |    561 +
 .../Smarty/sysplugins/smarty_internal_debug.php    |    254 +
 .../sysplugins/smarty_internal_filter_handler.php  |     68 +
 .../smarty_internal_function_call_handler.php      |     53 +
 .../smarty_internal_get_include_path.php           |     46 +
 .../sysplugins/smarty_internal_nocache_insert.php  |     52 +
 .../sysplugins/smarty_internal_parsetree.php       |    393 +
 .../sysplugins/smarty_internal_resource_eval.php   |     93 +
 .../smarty_internal_resource_extends.php           |    110 +
 .../sysplugins/smarty_internal_resource_file.php   |     89 +
 .../sysplugins/smarty_internal_resource_php.php    |    113 +
 .../smarty_internal_resource_registered.php        |     95 +
 .../sysplugins/smarty_internal_resource_stream.php |     80 +
 .../sysplugins/smarty_internal_resource_string.php |     95 +
 .../smarty_internal_smartytemplatecompiler.php     |    131 +
 .../Smarty/sysplugins/smarty_internal_template.php |    708 +
 .../sysplugins/smarty_internal_templatebase.php    |    822 +
 .../smarty_internal_templatecompilerbase.php       |    809 +
 .../sysplugins/smarty_internal_templatelexer.php   |   1488 +
 .../sysplugins/smarty_internal_templateparser.php  |   3244 +
 .../Smarty/sysplugins/smarty_internal_utility.php  |    823 +
 .../sysplugins/smarty_internal_write_file.php      |     89 +
 .../libs/Smarty/sysplugins/smarty_resource.php     |    880 +
 .../Smarty/sysplugins/smarty_resource_custom.php   |     94 +
 .../sysplugins/smarty_resource_recompiled.php      |     34 +
 .../sysplugins/smarty_resource_uncompiled.php      |     42 +
 .../libs/Smarty/sysplugins/smarty_security.php     |    463 +
 weblogin/login.php                                 |    226 +-
 weblogin/logout.php                                |    237 +-
 weblogin/networkchk.php                            |     47 -
 weblogin/note.txt                                  |      2 -
 weblogin/radius-dbconfig.php                       |      6 -
 weblogin/rahu_authen.class.php                     |    473 +
 weblogin/rahu_i18n.class.php                       |     36 +-
 weblogin/rahu_langsupport.php                      |     13 -
 weblogin/rahu_render.class.php                     |    136 +-
 weblogin/templates/kkulogin/css/kkulogin.css       |     39 -
 weblogin/templates/kkulogin/images/bg.gif          |    Bin 846 -> 0 bytes
 weblogin/templates/kkulogin/images/head01.gif      |    Bin 1329 -> 0 bytes
 weblogin/templates/kkulogin/images/kku.gif         |    Bin 10141 -> 0 bytes
 weblogin/templates/kkulogin/images/tail01.gif      |    Bin 1347 -> 0 bytes
 weblogin/templates/kkulogin/kkulogin.html          |    110 -
 weblogin/templates/kkuwifi/css/kkuwifi.css         |     39 -
 weblogin/templates/kkuwifi/images/bg_02.jpg        |    Bin 1451 -> 0 bytes
 weblogin/templates/kkuwifi/images/bullet01.gif     |    Bin 53 -> 0 bytes
 weblogin/templates/kkuwifi/images/button02.jpg     |    Bin 2914 -> 0 bytes
 weblogin/templates/kkuwifi/images/note.jpg         |    Bin 10039 -> 0 bytes
 weblogin/templates/kkuwifi/images/w2_01.jpg        |    Bin 22018 -> 0 bytes
 weblogin/templates/kkuwifi/images/w2_02.jpg        |    Bin 49959 -> 0 bytes
 weblogin/templates/kkuwifi/images/w2_03.jpg        |    Bin 71529 -> 0 bytes
 weblogin/templates/kkuwifi/images/w2_04.jpg        |    Bin 17817 -> 0 bytes
 weblogin/templates/kkuwifi/kkuwifi.html            |    161 -
 .../rahunas-bootstrap/css/bootstrap-theme.css      |     97 +-
 .../rahunas-bootstrap/css/bootstrap-theme.css.map  |      2 +-
 .../rahunas-bootstrap/css/bootstrap-theme.min.css  |      6 +-
 .../templates/rahunas-bootstrap/css/bootstrap.css  |   5302 +-
 .../rahunas-bootstrap/css/bootstrap.css.map        |      2 +-
 .../rahunas-bootstrap/css/bootstrap.min.css        |      6 +-
 .../css/fonts/glyphicons-halflings-regular.eot     |    Bin 20290 -> 20335 bytes
 .../css/fonts/glyphicons-halflings-regular.svg     |     94 +-
 .../css/fonts/glyphicons-halflings-regular.ttf     |    Bin 41236 -> 41280 bytes
 .../css/fonts/glyphicons-halflings-regular.woff    |    Bin 23292 -> 23320 bytes
 .../rahunas-bootstrap/css/rahunas-plain.css        |    116 +
 .../rahunas-bootstrap/css/rahunas-simple.css       |    113 -
 .../templates/rahunas-bootstrap/css/rahunas.css    |      9 -
 .../rahunas-bootstrap/css/rh-s3Slider.css          |     62 -
 .../rahunas-bootstrap/images/photo/slide-01.jpg    |    Bin 0 -> 545833 bytes
 .../rahunas-bootstrap/images/photo/slide-02.jpg    |    Bin 0 -> 594737 bytes
 .../rahunas-bootstrap/images/photo/slide-03.jpg    |    Bin 0 -> 565146 bytes
 .../rahunas-bootstrap/images/slide-01.jpg          |    Bin 545833 -> 0 bytes
 .../rahunas-bootstrap/images/slide-02.jpg          |    Bin 594737 -> 0 bytes
 .../rahunas-bootstrap/images/slide-03.jpg          |    Bin 565146 -> 0 bytes
 .../templates/rahunas-bootstrap/index-plain.html   |     86 +
 weblogin/templates/rahunas-bootstrap/index.html    |    184 +
 .../rahunas-bootstrap/js/bootstrap-dropdown.js     |     50 -
 .../templates/rahunas-bootstrap/js/bootstrap.js    |    617 +-
 .../rahunas-bootstrap/js/bootstrap.min.js          |      4 +-
 weblogin/templates/rahunas-bootstrap/js/html5.js   |      4 -
 .../templates/rahunas-bootstrap/js/s3Slider.js     |    107 -
 .../libs/jasny-bootstrap/css/jasny-bootstrap.css   |    621 +
 .../jasny-bootstrap/css/jasny-bootstrap.css.map    |      1 +
 .../jasny-bootstrap/css/jasny-bootstrap.min.css    |      7 +
 .../libs/jasny-bootstrap/js/jasny-bootstrap.js     |   1024 +
 .../libs/jasny-bootstrap/js/jasny-bootstrap.min.js |      6 +
 .../rahunas-bootstrap/rahunas-bootstrap-plain.html |     42 -
 .../rahunas-bootstrap/rahunas-bootstrap.html       |    117 -
 weblogin/templates/rahunas/css/rahunas.css         |     39 -
 weblogin/templates/rahunas/images/rahunas.png      |    Bin 160054 -> 0 bytes
 weblogin/templates/rahunas/images/rahunas.xcf      |    Bin 1276972 -> 0 bytes
 weblogin/templates/rahunas/rahunas.html            |     80 -
 weblogin/user.class.php                            |    143 -
 weblogin/xmlrpc_service.php                        |     14 +-
 198 files changed, 485384 insertions(+), 458221 deletions(-)

commit d73edb66b116687b751b39f74f451e3aa66dec50
Author: Neutron Soutmun <neo.neutron@gmail.com>
Date:   Mon Jul 28 08:50:21 2014 +0700

    Should sleep a moment before retry open sqlite3 database

    * On high loads, sometimes the rahunasd could not open or execute the
      command due to the database lock failed which multiple processes try
      to access the database file concurrently, therefore, should sleep a
      moment before retry.

    Signed-off-by: Neutron Soutmun <neo.neutron@gmail.com>

 src/rahunasd.c       | 1 +
 src/rh-task-dbset.c  | 1 +
 src/rh-task-ipacct.c | 1 +
 3 files changed, 3 insertions(+)

commit 6c708ce4b852ce59ae65b8b33099263ce237a07c
Author: Neutron Soutmun <neo.neutron@gmail.com>
Date:   Mon Jul 21 14:32:22 2014 +0700

    Fix another notices on PHP display_errors = On

    Signed-off-by: Neutron Soutmun <neo.neutron@gmail.com>

 weblogin/rahu_i18n.class.php | 11 ++++++++---
 1 file changed, 8 insertions(+), 3 deletions(-)

commit dce803aec990a1ac6c0f6b81da1c336a4fcefa94
Author: Neutron Soutmun <neo.neutron@gmail.com>
Date:   Mon Jul 21 14:21:02 2014 +0700

    Fix notices/warnings on PHP display_errors = On

    [weblogin]
    * Fix some notices/warnings on PHP display_errors = On

    Signed-off-by: Neutron Soutmun <neo.neutron@gmail.com>

 weblogin/getmacaddr.php        |  4 ++--
 weblogin/login.php             | 12 ++++++++----
 weblogin/logout.php            |  4 +++-
 weblogin/rahu_radius.class.php |  5 +++++
 weblogin/rahu_render.class.php |  4 +++-
 weblogin/rahu_xmlrpc.class.php | 40 ++++++++++++++++++++++------------------
 6 files changed, 43 insertions(+), 26 deletions(-)

commit 47acac0f6b45b921b58c1d0bca2c96939f978cad
Author: Neutron Soutmun <neo.neutron@gmail.com>
Date:   Mon Jul 21 12:57:43 2014 +0700

    Make squid-auth-helper build to be optional

    * As I personaly not interested in Squid (for now), but the squid-auth-helper
      may be useful for the others. Therefore, just add the configure option to
      enable it on build time if required.

      $ ./configure --enable-squid-auth-helper

    Signed-off-by: Neutron Soutmun <neo.neutron@gmail.com>

 configure.ac      | 8 ++++++++
 tools/Makefile.am | 3 +++
 2 files changed, 11 insertions(+)

commit 39c339cf664e9329f7bf3caa0f73470377aa5dbc
Author: Neutron Soutmun <neo.neutron@gmail.com>
Date:   Mon Jul 21 12:14:08 2014 +0700

    Add IP accounting implementation

    * IP accounting implementation requires the "pmacct" package to work
      properly.

    ** Note: For upgrading process the existing rahunas.db SHOULD BE REMOVED,
             The new startup script will create new rahunas.db automatically,
             new schema structure is required for rahunasd to work properly.

    [rahunasd]
    * Add rh-task-ipacct to start/stop pmacct via rahunas-ipacct script wrapper.
    * Send xmlrpc with download/upload bytes data included on AcctStop and
      AcctUpdate (Interim-Update).
    * Interim-Update should be sent by interval as specified in vserver config
      "interim_interval" field or INTERIM_INTERVAL = 600 (seconds) by default.
    * Add new sqlite3 schema to automatic create db if not exists and drop
      rahunas.db from source tree as unused and outdated.

    [weblogin]
    * Add AcctUpdate (Interim-Update) implementation support.

    Signed-off-by: Neutron Soutmun <neo.neutron@gmail.com>

 configure.ac                            |   1 +
 data/Makefile.am                        |   6 +-
 data/rahunas-db.sql                     |  59 ++++++++++
 data/rahunas.db                         | Bin 5120 -> 0 bytes
 src/Makefile.am                         |   3 +
 src/rahunasd.c                          |  90 +++++++++++++-
 src/rahunasd.h                          |   5 +
 src/rh-config.c                         |   2 +
 src/rh-config.h                         |   2 +
 src/rh-server.c                         |   1 +
 src/rh-task-dbset.c                     |   8 +-
 src/rh-task-ipacct.c                    | 201 ++++++++++++++++++++++++++++++++
 src/rh-task-ipacct.h                    |  13 +++
 src/rh-task.c                           |   1 +
 src/rh-utils.h                          |   2 +
 src/rh-xmlrpc-cmd.c                     |  74 +++++++++++-
 src/rh-xmlrpc-cmd.h                     |   1 +
 src/rh-xmlrpc-server.c                  |  10 +-
 tools/Makefile.am                       |   1 +
 tools/rahunas-ipacct.in                 | 167 ++++++++++++++++++++++++++
 tools/rahunas-weblogin-config-update.in |   5 +-
 weblogin/rahu_radius.class.php          |  15 ++-
 weblogin/rahu_xmlrpc.class.php          |  11 +-
 weblogin/xmlrpc_service.php             |  54 +++++++++
 24 files changed, 714 insertions(+), 18 deletions(-)

commit 22712dfd762f599907fba51d55a8237dc30ba812
Author: Neutron Soutmun <neo.neutron@gmail.com>
Date:   Sun Jul 20 12:44:49 2014 +0700

    Deduplicate the stopacct PHP code

    * weblogin/logout.php:
      - Drop stopacct code and let the rahunasd send back xmlrpc for
        stopacct instead.
    * src/rh-xmlrpc-server.c:
      - Send xmlrpc for stopacct on stopsession command process.

    Signed-off-by: Neutron Soutmun <neo.neutron@gmail.com>

 src/rh-xmlrpc-server.c |  6 +++++-
 weblogin/logout.php    | 19 -------------------
 2 files changed, 5 insertions(+), 20 deletions(-)

commit 118cc244518f5945e0ddb2a38eb3d6a8d3dcdd9b
Author: Neutron Soutmun <neo.neutron@gmail.com>
Date:   Sat Jul 19 19:52:05 2014 +0700

    Add rh_cmd_exec () that reusable

    * src/rh-utils.{h,c}:
      - Add rh_cmd_exec () that reusable in any tasks which execute external
        script and get the return code and/or get result message.
    * src/rh-task-{bandwidth,iptables,conntrack}.c:
      - Using rh_cmd_exec () to eliminate duplicate codes.

    Signed-off-by: Neutron Soutmun <neo.neutron@gmail.com>

 src/rh-task-bandwidth.c | 70 +++++++++----------------------------------------
 src/rh-task-conntrack.c | 65 ++++++++-------------------------------------
 src/rh-task-iptables.c  | 46 +++-----------------------------
 src/rh-utils.c          | 61 ++++++++++++++++++++++++++++++++++++++++++
 src/rh-utils.h          |  3 +++
 5 files changed, 90 insertions(+), 155 deletions(-)

commit 0b4b6d47e285a347babf45de13bf4a23bf30a793
Author: Neutron Soutmun <neo.neutron@gmail.com>
Date:   Sat Jul 19 19:58:36 2014 +0700

    Fix invalid type passing to ip_tostring() on debug enabled

    Signed-off-by: Neutron Soutmun <neo.neutron@gmail.com>

 src/rh-ipset.c | 16 ++++++++--------
 1 file changed, 8 insertions(+), 8 deletions(-)

commit a9452ebc369cf0d16654acabe03c72b9f8c3d1ae
Author: Neutron Soutmun <neo.neutron@gmail.com>
Date:   Thu Jul 10 17:31:36 2014 +0700

    Support <!-- Slide Images Container --> tag in template file

    [weblogin]
    * weblogin/rahu_render.class.php:
      - Replace the <!-- Slide Images Container --> tag with the
        auto-generated html elements to form the twitter-bootstrap carousel.
        Every images in <template path>/images/ will be used to setup
        carousel.
    * weblogin/templates/rahunas-bootstrap/rahunas-bootstrap.html:
      - Replace the carousel hard-coded setup with new tag.

    Signed-off-by: Neutron Soutmun <neo.neutron@gmail.com>

 weblogin/rahu_render.class.php                     | 73 ++++++++++++++++++++--
 .../rahunas-bootstrap/rahunas-bootstrap.html       | 28 +--------
 2 files changed, 70 insertions(+), 31 deletions(-)

commit b840eb5b36bf4597d01e7889d60673c8332a82f3
Author: Neutron Soutmun <neo.neutron@gmail.com>
Date:   Thu Jul 10 13:55:31 2014 +0700

    Update rh-checkrad.in which added date/time stamp on message log

    [netsnmp-module]
    * netsnmp-module/sciprts/rh-checkrad.in:
      - Add date/time stamp on message log

    Signed-off-by: Neutron Soutmun <neo.neutron@gmail.com>

 netsnmp-module/scripts/rh-checkrad.in | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 9d66c0917a103af2975dbcc63db180003b73be05
Author: Neutron Soutmun <neo.neutron@gmail.com>
Date:   Thu Jul 10 00:23:56 2014 +0700

    Do not show serviceclass label if no description

    [weblogin]
    * weblogin/logout.php:
      - Do not show serviceclass label if no description

    Signed-off-by: Neutron Soutmun <neo.neutron@gmail.com>

 weblogin/logout.php | 3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

commit c47a513f3d94503750a34424349f3d4ec4128343
Author: Neutron Soutmun <neo.neutron@gmail.com>
Date:   Wed Jul 9 23:45:20 2014 +0700

    Detect browsers with browscap and add -plain version template support

    [weblogin]
    * weblogin/libs/Broscap.php, weblogin/browscap-cache/{browscap.ini,cache.php}:
      - Add lib and data for browscap - browsers detection.
    * weblogin/rahu_render.class.php:
      - Add browser detection implementation and render -plain template
        on browser that does not support modern features.
    * weblogin/templates/rahunas-bootstrap/*:
      - The template is updated, the bootstrap is updated to version 3.1.0
      - The -plain template is added. Just simple HTML/CSS.

    Signed-off-by: Neutron Soutmun <neo.neutron@gmail.com>

 weblogin/browscap-cache/browscap.ini               | 396700 ++++++++++++++++++
 weblogin/browscap-cache/cache.php                  |  55755 +++
 weblogin/libs/Browscap.php                         |   1115 +
 weblogin/rahu_render.class.php                     |     18 +-
 .../rahunas-bootstrap/css/bootstrap-theme.css      |    347 +
 .../rahunas-bootstrap/css/bootstrap-theme.css.map  |      1 +
 .../rahunas-bootstrap/css/bootstrap-theme.min.css  |      7 +
 .../templates/rahunas-bootstrap/css/bootstrap.css  |   5831 +
 .../rahunas-bootstrap/css/bootstrap.css.map        |      1 +
 .../rahunas-bootstrap/css/bootstrap.min.css        |    337 +-
 .../templates/rahunas-bootstrap/css/docs.min.css   |      6 +
 .../css/fonts/glyphicons-halflings-regular.eot     |    Bin 0 -> 20290 bytes
 .../css/fonts/glyphicons-halflings-regular.svg     |    229 +
 .../css/fonts/glyphicons-halflings-regular.ttf     |    Bin 0 -> 41236 bytes
 .../css/fonts/glyphicons-halflings-regular.woff    |    Bin 0 -> 23292 bytes
 .../rahunas-bootstrap/css/rahunas-simple.css       |    113 +
 .../templates/rahunas-bootstrap/css/rahunas.css    |     15 +-
 .../templates/rahunas-bootstrap/js/bootstrap.js    |   1951 +
 .../rahunas-bootstrap/js/bootstrap.min.js          |      6 +
 .../templates/rahunas-bootstrap/js/docs.min.js     |     16 +
 .../templates/rahunas-bootstrap/js/html5shiv.js    |      8 +
 .../templates/rahunas-bootstrap/js/jquery.min.js   |     10 +-
 .../templates/rahunas-bootstrap/js/respond.min.js  |      5 +
 .../rahunas-bootstrap/rahunas-bootstrap-plain.html |     42 +
 .../rahunas-bootstrap/rahunas-bootstrap.html       |    186 +-
 25 files changed, 462277 insertions(+), 422 deletions(-)

commit 870b941df7d992224759837d9e2d810e7e96dbb5
Author: Neutron Soutmun <neo.neutron@gmail.com>
Date:   Wed Jul 9 23:37:40 2014 +0700

    Drop squid_helper.php, no longer used

    [weblogin]
    * weblogin/squid_helper.php:
      - Drop, no longer used.

    Signed-off-by: Neutron Soutmun <neo.neutron@gmail.com>

 weblogin/squid_helper.php | 81 -----------------------------------------------
 1 file changed, 81 deletions(-)

commit d7c305acfc7d7e7a97c40266352041702f7c7a1f
Author: Neutron Soutmun <neo.neutron@gmail.com>
Date:   Wed Jul 9 23:30:01 2014 +0700

    Update loading.gif to new modern hourglass

    [weblogin]
    * weblogin/loading.gif:
      - Update to new modern hourglass, thanks to Preloaders.net for good
        work.

    Signed-off-by: Neutron Soutmun <neo.neutron@gmail.com>

 weblogin/loading.gif | Bin 25156 -> 140467 bytes
 1 file changed, 0 insertions(+), 0 deletions(-)

commit 7b1905d5bc572357febce86ea8f6e054bd0bbb57
Author: Neutron Soutmun <neo.neutron@gmail.com>
Date:   Wed Jul 9 23:25:18 2014 +0700

    Add "HTTP/1.1 511 Network Authentication Required" support

    [weblogin]
    * weblogin/index.php:
      - Add "HTTP/1.1 511 Network Authentication Required" support.
      - Add meta "refresh" - 3000 ms (3 s) - for some browsers does not
        support javascript.

    Signed-off-by: Neutron Soutmun <neo.neutron@gmail.com>

 weblogin/index.php | 5 ++++-
 1 file changed, 4 insertions(+), 1 deletion(-)

commit b5679df9cd9d2ee2307f52997def7c73a6162b3e
Author: Neutron Soutmun <neo.neutron@gmail.com>
Date:   Wed Jul 9 23:17:58 2014 +0700

    Move *.mo exclusion from .gitignore to weblogin-po/.gitignore

    Signed-off-by: Neutron Soutmun <neo.neutron@gmail.com>

 .gitignore             | 1 -
 weblogin-po/.gitignore | 3 ++-
 2 files changed, 2 insertions(+), 2 deletions(-)

commit b03f6063f35f4a330fee10d9c8243db358f84480
Author: Neutron Soutmun <neo.neutron@gmail.com>
Date:   Wed Jul 9 23:12:46 2014 +0700

    Update weblogin translation since chpwd.php was removed

    [weblogin-po]
    * weblogin-po/POTFILES.in:
      - Drop chpwd.php
    * weblogin-po/rahunas-weblogin.pot:
      - Auto-generated update
    * weblogin-po/th.po:
      - Drop the chpwd.php translations.
      - Translate index.php messages.
    * .gitignore:
      - Do not include *.mo to the repository.

    Signed-off-by: Neutron Soutmun <neo.neutron@gmail.com>

 .gitignore                       |  1 +
 weblogin-po/POTFILES.in          |  1 -
 weblogin-po/rahunas-weblogin.pot | 49 +++++++-------------------------
 weblogin-po/th.po                | 60 +++++++++++-----------------------------
 4 files changed, 27 insertions(+), 84 deletions(-)

commit a4d686c337537972c50ee0a99b0a4fd2e7a53791
Author: Neutron Soutmun <neo.neutron@gmail.com>
Date:   Wed Jul 9 23:05:36 2014 +0700

    Drop chpwd.php, no longer used

    [weblogin]
    * weblogin/chpwd.php, weblogin/{login,logout}.php:
      - Drop chpwd.php, no longer used.

    Signed-off-by: Neutron Soutmun <neo.neutron@gmail.com>

 weblogin/chpwd.php  | 175 ----------------------------------------------------
 weblogin/login.php  |   2 -
 weblogin/logout.php |   2 -
 3 files changed, 179 deletions(-)

commit 4a686bfda532eb07e16bd2f57596109a7ff0adcb
Author: Neutron Soutmun <neo.neutron@gmail.com>
Date:   Wed Jul 9 21:15:16 2014 +0700

    Send Accouting-Off on service stop, no iterating

    [rahunasd]
    * Send Accounting-Off to RADIUS on service stop to force all logged-in users
      accouting stopped with the terminated cause of "NAS Request".
    * No more iterating on active users and stop one by one on service stop.
      Most of the time in high-load system stop failed or inconsistently sync with
      RADIUS.
    * Handle the xmlrpc request return code, request retry if necessary.
    * All data should be removed from database on service stop.

    [weblogin]
    * Add Accounting-Off implementation to xmlrpc service.

    Signed-off-by: Neutron Soutmun <neo.neutron@gmail.com>

 src/rahunasd.c                 | 24 ++++++------
 src/rh-task-dbset.c            |  4 +-
 src/rh-task-ipset.c            | 40 ++++++-------------
 src/rh-xmlrpc-cmd.c            | 67 +++++++++++++++++++++++++++----
 src/rh-xmlrpc-cmd.h            |  1 +
 weblogin/rahu_radius.class.php | 52 ++++++++++++++++++------
 weblogin/xmlrpc_service.php    | 89 +++++++++++++++++++++++++-----------------
 7 files changed, 181 insertions(+), 96 deletions(-)

commit 08570c18147bf02d328e9c584cfc79202c47271a
Author: Neutron Soutmun <neo.neutron@gmail.com>
Date:   Tue Jul 8 22:20:23 2014 +0700

    Adjust the bandwidth slot-id to 64bits buckets

    Signed-off-by: Neutron Soutmun <neo.neutron@gmail.com>

 src/rh-task-bandwidth.c | 36 ++++++++++++++++--------------------
 src/rh-task-bandwidth.h | 12 ++++++------
 2 files changed, 22 insertions(+), 26 deletions(-)

commit b783e788d91aa24cf1bf84aa16229c3d6869a811
Author: Neutron Soutmun <neo.neutron@gmail.com>
Date:   Tue Jul 8 20:49:54 2014 +0700

    Renovate the rahunas-bandwidth wrapper script

    * tools/rahunas-bandwidth.in:
      - Implement IP hash-filter to improve performance on high-loads
        system.
      - Add speed settings to fine tune the packets scheduling parameters
        (htb qdisc - burst).
      - Revise the add/remove class, filter which it is setup incorrectly.
      - Calculate the burst size with HZ=1000 (Assume that the target system
        is high resolution timer). HZ=1000 is from the experiments,
        trial-n-error.
      - Add hfsc qdisc - optional (EXPERIMENTAL)

    Signed-off-by: Neutron Soutmun <neo.neutron@gmail.com>

 tools/rahunas-bandwidth.in | 337 ++++++++++++++++++++++++++++++++++-----------
 1 file changed, 257 insertions(+), 80 deletions(-)

commit 81d400557af5af3d02dd44cd985e149f5e455ff5
Author: Neutron Soutmun <neo.neutron@gmail.com>
Date:   Thu Jun 5 13:17:33 2014 +0700

    Check for existence of radius_cvt_{attr_type}

    Call the function that does not exists will throw an error.

    Signed-off-by: Neutron Soutmun <neo.neutron@gmail.com>

 weblogin/rahu_radius.class.php | 6 ++++--
 1 file changed, 4 insertions(+), 2 deletions(-)

commit 9dc12c78bfbce4c64a35119c6688b850903771d5
Author: Neutron Soutmun <neo.neutron@gmail.com>
Date:   Sun Aug 18 22:42:30 2013 +0700

    Bump version to 0.2.6, fix the RAHUNAS_VERSION declaration

    Signed-off-by: Neutron Soutmun <neo.neutron@gmail.com>

 configure.ac | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit bbbb4dbdc32b2eef80c801da3f5de9ba8adca76c
Author: Neutron Soutmun <neo.neutron@gmail.com>
Date:   Sun Aug 18 22:39:22 2013 +0700

    Fix rahunas netsnmp module crash from invalid records

    [rahunas-netsnmp]
    * netsnmp-module/rhsnmp.c:
      - Skip the invalid records as it made the rahunas netsnmp module
        crash.

    Signed-off-by: Neutron Soutmun <neo.neutron@gmail.com>

 netsnmp-module/rhsnmp.c | 7 +++++++
 1 file changed, 7 insertions(+)

commit 6aea7729e9dbecd07fff1afe0464c57b3656532c
Author: Neutron Soutmun <neo.neutron@gmail.com>
Date:   Sun Aug 18 22:28:45 2013 +0700

    Fix bandwidth slot reservation from misbehavior

    [rahunasd]
    * src/rh-task-bandwidth.c:
      - The reservation slots are not initialized.
      - Bandwith slot reservation could run into the infinite loop,
        to prevent this issue, keep seeding of random number change every loop.
      - The process does not clear the reservation when the user logout.

    Signed-off-by: Neutron Soutmun <neo.neutron@gmail.com>

 src/rh-task-bandwidth.c | 50 ++++++++++++++++++++++++++++++++++++++++++-------
 1 file changed, 43 insertions(+), 7 deletions(-)

commit 98d2adf9dceadd529e61c9d6c13d88bd83cbcd47
Author: Neutron Soutmun <neo.neutron@gmail.com>
Date:   Sun Aug 18 22:24:23 2013 +0700

    Fix the ifbs setup failed for some networks

    [rahunasd]
    * src/rh-config.c:
      - The process could not differentiate vlanA and vlanAx or
        vlanAxx, then treats them all as the same network.
        Fix by compare the whole string of interface's name with configured
        networks list.
      - Fix the ifb reservation as it could not reach the 64 networks due
        to the 1 << 63 is overflow, it should be 1llu << 63 instead.

    Signed-off-by: Neutron Soutmun <neo.neutron@gmail.com>

 src/rh-config.c | 16 +++++++++-------
 1 file changed, 9 insertions(+), 7 deletions(-)

commit f2aad2b2d85b8896e09ae81d1da732d2d0c815c6
Author: Neutron Soutmun <neo.neutron@gmail.com>
Date:   Mon May 13 14:37:09 2013 +0700

    === Release 0.2.5 ===

    [build]
    - Bump version to 0.2.5
    - Update Changelog

    [weblogin]
    - Update po files

    Signed-off-by: Neutron Soutmun <neo.neutron@gmail.com>

 ChangeLog                        | 61 +++++++++++++++++++++++++++++++++++++++-
 configure.ac                     |  2 +-
 weblogin-po/rahunas-weblogin.pot | 10 +++----
 weblogin-po/th.po                |  8 +++---
 4 files changed, 70 insertions(+), 11 deletions(-)

commit 0c2d6d09caf7d7e6d72fd0ec29e4b7b0d4e536bd
Author: Neutron Soutmun <neo.neutron@gmail.com>
Date:   Wed Apr 10 21:31:49 2013 +0700

    Fix DNS interception in "bridge" mode

    Signed-off-by: Neutron Soutmun <neo.neutron@gmail.com>

 tools/rahunas-firewall.in | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 2b70cbe6fbccb812dec200ea389ad0606a5425f5
Author: Neutron Soutmun <neo.neutron@gmail.com>
Date:   Fri Mar 8 12:49:41 2013 +0700

    Should only intercept the DNS request from clients

 tools/rahunas-firewall.in | 3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

commit b901f94a82c417008fceb670d9a61a1181c56173
Author: Neutron Soutmun <neo.neutron@gmail.com>
Date:   Wed Nov 7 15:45:47 2012 +0700

    Add DNS intercept option and fix bashisms

 tools/rahunas-firewall.in | 9 +++++++--
 1 file changed, 7 insertions(+), 2 deletions(-)

commit 2c3669c2a8054b43288188827c0eefa44e2f3baf
Author: Neutron Soutmun <neo.neutron@gmail.com>
Date:   Sun Sep 2 09:44:40 2012 +0700

    Fix typo, escape username and password

 weblogin/user.class.php | 12 ++++++++----
 1 file changed, 8 insertions(+), 4 deletions(-)

commit d4608e62ac8ebd3615c16b4a1ded19ff5e229db5
Author: Neutron Soutmun <neo.neutron@gmail.com>
Date:   Thu Aug 30 08:41:23 2012 +0700

    === Release 0.2.4 ===

 ChangeLog | 113 ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
 1 file changed, 113 insertions(+)

commit af77d25e5ba976a13c03f385ef8805b91bc037b6
Author: Neutron Soutmun <neo.neutron@gmail.com>
Date:   Thu Aug 30 08:38:08 2012 +0700

    Update weblogin translation template files

 weblogin-po/rahunas-weblogin.pot | 4 ++--
 weblogin-po/th.po                | 2 +-
 2 files changed, 3 insertions(+), 3 deletions(-)

commit 59cb9e73b3060c5aa737e5ddbf24465dd6ed74b0
Author: Neutron Soutmun <neo.neutron@gmail.com>
Date:   Thu Aug 30 08:35:46 2012 +0700

    Bump version to 0.2.4

 configure.ac | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 2f94d9785ab44ff254750a795cd4ff7b6ee5aa0d
Author: Neutron Soutmun <neo.neutron@gmail.com>
Date:   Thu Aug 30 08:30:20 2012 +0700

    Fix the helper scripts get stuck

    * tools/rahunas-{bandwidth,firewall,weblogin-config-update}.in:
      - The helper scripts get stuck in the case that serviceclass enabled
        but no any config files in /etc/rahunas/serviceclass.d.
        The 'cat' and 'grep' without any files parameter cause this bug.

 tools/rahunas-bandwidth.in              | 3 ++-
 tools/rahunas-firewall.in               | 8 +++++---
 tools/rahunas-weblogin-config-update.in | 8 +++++---
 3 files changed, 12 insertions(+), 7 deletions(-)

commit e81e0cf0afdca048fec2a2bdaf113e48bb3e3ac1
Author: Neutron Soutmun <neo.neutron@gmail.com>
Date:   Wed Aug 29 11:35:44 2012 +0700

    === Release 0.2.3 ===

    - Update weblogin translation files

 configure.ac                     | 2 +-
 weblogin-po/rahunas-weblogin.pot | 6 +++---
 weblogin-po/th.po                | 4 ++--
 3 files changed, 6 insertions(+), 6 deletions(-)

commit b366206feaf4179a66aa15a97dc42f89fd6c12e7
Author: Neutron Soutmun <neo.neutron@gmail.com>
Date:   Mon Aug 27 11:04:38 2012 +0700

    Fix conntrack cut bugs and ignore firewall warnings

    * tools/rahunas-conntrack.in:
      - Parsing the client's ip to function.
      - Fix the calling of conntrack tool by wrapping with su command that
        it forks properly now.
      - Reduce the DELAY time to 1.
    * tools/rahunas-firewall.in:
      - Ignore warning of non-existent service class rules in table raw
        and rawnat.
    * weblogin/login.php:
      - Add the success login redirection time delay to 2 seconds as it
        is needed for the conntrack tool to finish their work.

 tools/rahunas-conntrack.in | 13 ++++++-------
 tools/rahunas-firewall.in  | 20 ++++++++++++++++----
 weblogin/login.php         |  3 +++
 3 files changed, 25 insertions(+), 11 deletions(-)

commit bc6a03b349df2dcca3c5c9daaaf2a4d373294b76
Author: Neutron Soutmun <neo.neutron@gmail.com>
Date:   Mon Aug 20 09:05:12 2012 +0700

    === Release 0.2.2 ===

    - Update weblogin translation files

 configure.ac                     | 2 +-
 weblogin-po/rahunas-weblogin.pot | 4 ++--
 weblogin-po/th.po                | 2 +-
 3 files changed, 4 insertions(+), 4 deletions(-)

commit 989b6b18e7da851da707cc3d2fa8e0edec25c3bd
Author: Neutron Soutmun <neo.neutron@gmail.com>
Date:   Mon Aug 20 09:03:00 2012 +0700

    Update weblogin pot/po file

 weblogin-po/rahunas-weblogin.pot | 42 ++++++++++++++++++++--------------------
 weblogin-po/th.po                | 40 +++++++++++++++++++-------------------
 2 files changed, 41 insertions(+), 41 deletions(-)

commit 0aa85e02734c8753f0607a04a822488c61d702b2
Author: Neutron Soutmun <neo.neutron@gmail.com>
Date:   Mon Aug 20 08:54:52 2012 +0700

    === Release 0.2.1 ===

 ChangeLog | 1698 ++++++++++++++++++++++++++++++++++++++++++++++++++++++++-----
 NEWS      |   17 +
 2 files changed, 1590 insertions(+), 125 deletions(-)

commit c7b99e77b6401db80ca0faf8395824a3fe04cc92
Author: Neutron Soutmun <neo.neutron@gmail.com>
Date:   Mon Aug 20 08:30:04 2012 +0700

    Bump version to 0.2.1

 configure.ac | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 39e4ea5404bf72d82bd6c6346c42f92ba1fe74e3
Author: Neutron Soutmun <neo.neutron@gmail.com>
Date:   Thu Jun 28 10:17:24 2012 +0700

    Also checking for "Password Has Expired" reply message

 weblogin/rahu_radius.class.php | 3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

commit 580cc827b1c8c0254012bd221096a78c6eb9a269
Author: Neutron Soutmun <neo.neutron@gmail.com>
Date:   Wed Jun 27 20:33:03 2012 +0700

    Move serviceclass rules to policy setup

    * tools/rahunas-firewall.in:
      - Move seviceclass rules to policy setup as it make the firewall
        script cleanup the rules properly.

 tools/rahunas-firewall.in | 36 ++++++++++++++++++------------------
 1 file changed, 18 insertions(+), 18 deletions(-)

commit 1b2e1013de3f7b56e7a585ee4e42abf1e0c99393
Author: Neutron Soutmun <neo.neutron@gmail.com>
Date:   Wed Jun 27 17:08:23 2012 +0700

    Fix the conntrack cut did not forked and delay as expect

 tools/rahunas-conntrack.in | 9 +++++++--
 1 file changed, 7 insertions(+), 2 deletions(-)

commit da1a8466fda71e8637ef6dec6ebe2a80549404ba
Author: Neutron Soutmun <neo.neutron@gmail.com>
Date:   Wed Jun 27 11:51:49 2012 +0700

    Show session remain time instead of session time for timed limit user

    * weblogin/logout.php:
      - Show session remain time instead of session time for timed limit user.
    * weblogin-po/rahunas-weblogin.pot, weblogin-po/th.po:
      - Update translation for new string.

 weblogin-po/rahunas-weblogin.pot | 50 ++++++++++++++++++++++------------------
 weblogin-po/th.po                | 50 ++++++++++++++++++++++------------------
 weblogin/logout.php              | 17 +++++++-------
 3 files changed, 63 insertions(+), 54 deletions(-)

commit e61d4402f29b23e983a745e6b99e817559437c37
Author: Neutron Soutmun <neo.neutron@gmail.com>
Date:   Wed Jun 27 11:00:35 2012 +0700

    Prevent double submission and PHP session is no needed now

    * weblogin/{login,logout}.php:
      - Prevent double submission by adding onsubmit() function handler which the
        second submit would be rejected.
      - Rearrange the code to hide the form on the data was submitted.
    * weblogin/login.php:
      - Drop <body onload='...'> and let the templates to done it by themself.
    * weblogin/rahu_i18n.class.php:
      - Drop PHP session and replaces by cookies.
    * weblogin/rahu_radius.class.php:
      - Drop all PHP session implementation as it is no needed.

 weblogin/login.php             | 61 +++++++++++++++++++++++-------------------
 weblogin/logout.php            | 25 ++++++++---------
 weblogin/rahu_i18n.class.php   | 12 ++++++---
 weblogin/rahu_radius.class.php | 38 ++++++++------------------
 4 files changed, 65 insertions(+), 71 deletions(-)

commit 026fe054ec890dc0500bb509a66b6c98c67a01c2
Author: Neutron Soutmun <neo.neutron@gmail.com>
Date:   Mon Jun 25 23:08:04 2012 +0700

    Delay for 5 seconds before cut-off the client's conntracks

 tools/rahunas-conntrack.in | 5 +++--
 1 file changed, 3 insertions(+), 2 deletions(-)

commit d5d60e82a8ec45727bbd4c57de1b1a86a501b2c2
Author: Neutron Soutmun <neo.neutron@gmail.com>
Date:   Thu Jun 21 22:37:13 2012 +0700

    Fix the service class slot id reservation failed

    * src/rh-task-serviceclass.c (_sc_get_slot_id):
      - The SQL for slot id selection is incorrect, it should not return any
        rows for none of slot reserved for specified id.

 src/rh-task-serviceclass.c | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit d28a422f86b1deae0cbcdf1c4d390e1ae0e15734
Author: Neutron Soutmun <neo.neutron@gmail.com>
Date:   Thu Jun 21 16:59:58 2012 +0700

    Using vserver id as nas port to support darksolar control panel

    * weblogin/{login,logout,xmlrpc_service}.php:
      - Using vserver id as nas port for RADIUS accounting.
    * weblogin/rahu_radius.class.php:
      - Value of RADIUS_NAS_PORT should be passed as int.

 weblogin/login.php             | 2 +-
 weblogin/logout.php            | 2 +-
 weblogin/rahu_radius.class.php | 2 +-
 weblogin/xmlrpc_service.php    | 2 +-
 4 files changed, 4 insertions(+), 4 deletions(-)

commit 08fc310e56c74580c85261a65b51e1e50071c83e
Author: Neutron Soutmun <neo.neutron@gmail.com>
Date:   Wed Jun 20 18:07:43 2012 +0700

    Revert "Redirecting with 302 Move temporary instead of javascript."

    This reverts commit bf193dec6b6e73b6f697bb3e9ce1e2cb6c13d113.

    * Javascript could delay the request and virtually drop the non-brower
      clients.

 weblogin/index.php | 47 +++++++++++++++++++++++++++++++++++++++++++----
 1 file changed, 43 insertions(+), 4 deletions(-)

commit 5148bda7bbd98fd4785612c6c24e2ca52f6a790e
Author: Neutron Soutmun <neo.neutron@gmail.com>
Date:   Wed Jun 20 17:55:43 2012 +0700

    Change excluded traffic connmark to 6

    * tools/rahunas-firewall.in:
      - Change excluded traffic connmark to 6.
      - Do not redirect the traffic with connmark 6 to intecepting http
        proxy.

 tools/rahunas-firewall.in | 8 ++++++--
 1 file changed, 6 insertions(+), 2 deletions(-)

commit 90c6dd83e797556f29a617ef8c5db9fe1619352f
Author: Neutron Soutmun <neo.neutron@gmail.com>
Date:   Tue Jun 19 00:07:09 2012 +0700

    Redirecting with 302 Move temporary instead of javascript.

 weblogin/index.php | 47 ++++-------------------------------------------
 1 file changed, 4 insertions(+), 43 deletions(-)

commit fd91e5cc38719731b05c3857c6455e1978ff5bce
Author: Neutron Soutmun <neo.neutron@gmail.com>
Date:   Mon Jun 18 12:09:53 2012 +0700

    Add connection tracking cutter

    * configure.ac, src/Makefile.am, tools/Makefile.am:
      - Add connection tracking cutter.
    * src/rh-task-connection.{h,c}:
      - Connection cut on start/stop session.
    * tools/rahunas-conntrack.in:
      - Wrapper script. (requires conntrack tools from conntrack package)

 configure.ac               |   1 +
 src/Makefile.am            |   3 +
 src/rh-task-conntrack.c    | 180 +++++++++++++++++++++++++++++++++++++++++++++
 src/rh-task-conntrack.h    |  13 ++++
 src/rh-task.c              |   3 +
 tools/Makefile.am          |   1 +
 tools/rahunas-conntrack.in |  34 +++++++++
 7 files changed, 235 insertions(+)

commit 0f67438c2e79e12f05f8697f1219c65873e912aa
Author: Neutron Soutmun <neo.neutron@gmail.com>
Date:   Sun Jun 17 11:10:37 2012 +0700

    Fix compiler warning

 tools/squid-auth-helper.c | 8 ++++----
 1 file changed, 4 insertions(+), 4 deletions(-)

commit 2e7fd56a772bb741e5f3ca6556d1bd3f5650320a
Author: Neutron Soutmun <neo.neutron@gmail.com>
Date:   Sun Jun 17 11:04:52 2012 +0700

    Sync rahunas ipset header and fix compiler warning

    * src/ipset/ip_set_rahunas_ipiphash.h:
      - Sync rahunas ipset ipiphash header.
    * src/ipset/ip_set_{rahunas,rahunas_ipiphash}.h:
      - Fix compiler warning.

 src/ipset/ip_set_rahunas.h          | 3 +++
 src/ipset/ip_set_rahunas_ipiphash.h | 7 ++++---
 2 files changed, 7 insertions(+), 3 deletions(-)

commit 396e28fcd67965f0ada4c0e1b77482c538197ee1
Author: Neutron Soutmun <neo.neutron@gmail.com>
Date:   Sat Jun 16 21:47:22 2012 +0700

    Correct the definition of task ipset header declaration

 src/rh-task-ipset.h | 8 ++++----
 1 file changed, 4 insertions(+), 4 deletions(-)

commit 0ec295789ced293fa2fd1f779573226092909acc
Author: Neutron Soutmun <neo.neutron@gmail.com>
Date:   Mon Feb 6 13:25:28 2012 +0700

    weblogin: Update login/logout and bump copyright years

 weblogin/login.php      | 140 ++++++++++++++++++++++++------------------------
 weblogin/logout.php     |   7 ++-
 weblogin/user.class.php |   7 ++-
 3 files changed, 81 insertions(+), 73 deletions(-)

commit a0df05fb914d4ff98177f08efb761aeccc7fefbd
Author: Neutron Soutmun <neo.neutron@gmail.com>
Date:   Wed Dec 28 15:34:21 2011 +0700

    weblogin: Workaround for IE9

    * weblogin/templates/rahunas-bootstrap/rahunas-bootstrap.html:
      - Change DOCTYPE to html without any further attributes which is a
        declaration for HTML5.
      - The page show blank screen on IE9, just workaround by also load the
        html5.js even loading on IE9.

 weblogin/templates/rahunas-bootstrap/rahunas-bootstrap.html | 6 +++---
 1 file changed, 3 insertions(+), 3 deletions(-)

commit 823108d8770786f2ef1ae5aae248241916093346
Merge: 55d7ffd 9b9e13b
Author: Neutron Soutmun <neo.neutron@gmail.com>
Date:   Thu Oct 6 16:29:36 2011 +0700

    Merge branch 'feature/squid-auth-helper-mt' into develop

commit 9b9e13bd4b3785fb55a4554ca02ceae0e7f34fd7
Author: Neutron Soutmun <neo.neutron@gmail.com>
Date:   Thu Oct 6 16:19:04 2011 +0700

    squid-auth-helper multi-threaded support

      * tools/squid-auth-helper.c:
        - Support the concurrency > 1 in squid config setting. Could reduce
          the children to get more memory back as it is not necessary to
          spawn children much to serve the same scale now.
        - Create up to 8 threads to serve the requests.

 tools/squid-auth-helper.c | 209 +++++++++++++++++++++++++++++++++-------------
 1 file changed, 151 insertions(+), 58 deletions(-)

commit 6ff4a7845cd86f6a6af7c80845bf3f5ae04e9cfc
Author: Neutron Soutmun <neo.neutron@gmail.com>
Date:   Tue Oct 4 20:18:59 2011 +0700

    Fix memleaks on client socket fail

      * xmlrpc/xmlrpc-client.c (gnet_xmlrcp_client_new):
        - Fix memleaks on client socket fail.

 xmlrpc/xmlrpc-client.c | 1 +
 1 file changed, 1 insertion(+)

commit 55d7ffd24d04ed8fba2d1e40c03cf08c5786a095
Author: Neutron Soutmun <neo.neutron@gmail.com>
Date:   Tue Oct 4 17:36:00 2011 +0700

    Change default weblogin template to rahunas-bootstrap

      * example/rahunas-vserver.conf.in:
        - Change default weblogin template to rahunas-bootstrap.

 example/rahunas-vserver.conf.in | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 4f41bd281e34bb390f60ea5e482fe163ea080fb6
Author: Neutron Soutmun <neo.neutron@gmail.com>
Date:   Tue Oct 4 17:27:26 2011 +0700

    Update weblogin pot file and Thai translation

      * weblogin-po/rahunas-weblogin.pot:
        - Update.
      * weblogin-po/th.po:
        - Merge and update Thai translation.

 weblogin-po/rahunas-weblogin.pot | 65 ++++++++++++++++---------------
 weblogin-po/th.po                | 84 ++++++++++++++++++++--------------------
 2 files changed, 76 insertions(+), 73 deletions(-)

commit fa1a62327e5879206569bb8b3154fe72ede099c6
Author: Neutron Soutmun <neo.neutron@gmail.com>
Date:   Tue Oct 4 17:18:16 2011 +0700

    Update wording in the change password page

      * weblogin/chpwd.php, weblogin/user.class.php:
        - Update wording.

 weblogin/chpwd.php      | 6 +++---
 weblogin/user.class.php | 4 ++--
 2 files changed, 5 insertions(+), 5 deletions(-)

commit 3a845dd46340cce0aff10685d72437f72570920f
Merge: 2ad9b50 60eb140
Author: Neutron Soutmun <neo.neutron@gmail.com>
Date:   Tue Oct 4 17:11:36 2011 +0700

    Merge branch 'feature/new-weblogin' into develop

commit 2ad9b50d37d7540cc6819836f4ebf0317a482ecd
Author: Neutron Soutmun <neo.neutron@gmail.com>
Date:   Tue Oct 4 17:10:05 2011 +0700

    Forgot to add POTFILES.in

      * weblogin-po/POTFILES.in:
        - Forgot to add POTFILES.in, the file list the translateable string
          files.

 weblogin-po/POTFILES.in | 7 +++++++
 1 file changed, 7 insertions(+)

commit 60eb1400da19d19a353827a9e0a9b15188125174
Author: Neutron Soutmun <neutron@rahunas.(none)>
Date:   Mon Oct 3 21:14:41 2011 +0700

    Set language regarding Accept-Language HTTP header

      * weblogin/rahu_i18n.class.php (getAcceptLanguage):
        - Add private method to get/parse/manipulate the user accept language and
          get one of them that we have supported.
      * weblogin/rahu_i18n.class.php (localeSetup):
        - Using the info from getAcceptLanguage() to set the language for user on
          initial.

 weblogin/rahu_i18n.class.php | 37 +++++++++++++++++++++++++++++++++++--
 1 file changed, 35 insertions(+), 2 deletions(-)

commit cf064010f0e32d0f9adb07901672fab7a8290666
Author: Neutron Soutmun <neutron@rahunas.(none)>
Date:   Mon Oct 3 14:46:59 2011 +0700

    Update the old patterns to support new design

    	* weblogin/templates/{rahunas,kkulogin,kkuwifi}:
        - Update to support new weblogin design.

 weblogin/templates/kkulogin/css/kkulogin.css | 39 ++++++++++++++++++++++++++++
 weblogin/templates/kkulogin/kkulogin.html    | 12 +++++++++
 weblogin/templates/kkulogin/rahunas.css      | 39 ----------------------------
 weblogin/templates/kkuwifi/css/kkuwifi.css   | 39 ++++++++++++++++++++++++++++
 weblogin/templates/kkuwifi/kkuwifi.html      | 12 +++++++++
 weblogin/templates/kkuwifi/rahunas.css       | 39 ----------------------------
 weblogin/templates/rahunas/css/rahunas.css   | 39 ++++++++++++++++++++++++++++
 weblogin/templates/rahunas/rahunas.css       | 39 ----------------------------
 weblogin/templates/rahunas/rahunas.html      | 34 +++++++++++++++++++++++-
 9 files changed, 174 insertions(+), 118 deletions(-)

commit d82fe1578097b5b642aedcdae21bcec37d2bcaab
Author: Neutron Soutmun <neutron@rahunas.(none)>
Date:   Mon Oct 3 14:15:53 2011 +0700

    Add new weblogin template "rahunas-bootstrap"

    	* templates/rahunas-bootstrap/*:
        - The twitter-bootstrap web framework + s3slider based weblogin template,
          fully support the new weblogin design.

 .../rahunas-bootstrap/css/bootstrap.min.css        | 330 +++++++++++++++++++++
 .../templates/rahunas-bootstrap/css/rahunas.css    |  84 ++++++
 .../rahunas-bootstrap/css/rh-s3Slider.css          |  62 ++++
 .../rahunas-bootstrap/images/slide-01.jpg          | Bin 0 -> 545833 bytes
 .../rahunas-bootstrap/images/slide-02.jpg          | Bin 0 -> 594737 bytes
 .../rahunas-bootstrap/images/slide-03.jpg          | Bin 0 -> 565146 bytes
 .../rahunas-bootstrap/js/bootstrap-dropdown.js     |  50 ++++
 weblogin/templates/rahunas-bootstrap/js/html5.js   |   4 +
 .../templates/rahunas-bootstrap/js/jquery.min.js   |   4 +
 .../templates/rahunas-bootstrap/js/s3Slider.js     | 107 +++++++
 .../rahunas-bootstrap/rahunas-bootstrap.html       | 127 ++++++++
 11 files changed, 768 insertions(+)

commit 5c032f4acf402cdeea59f145273094eb374082b8
Author: Neutron Soutmun <neutron@rahunas.(none)>
Date:   Mon Oct 3 14:10:33 2011 +0700

    Add i18n, render class

    	* weblogin/rahu_i18n.class.php, rahu_langsupport.php:
        - Add i18n class which replaces the old locale codes.
      * weblogin/rahu_render.class.php:
        - Add render class which provides the functions of template rendering.
      * weblogin/locale.php:
        - Drop as unneeded, replaced by i18n class.
      * weblogin/login.php, weblogin/logout.php, weblogin/chpwd.php:
        - Change accordingly to i18n and render class.
        - The languages list now should be replaced the "<!-- LanguageList -->" in
          the template.
        - Also replace the "<!-- ChangePassword -->" with the change password link.

 weblogin/chpwd.php             |  37 ++++++--------
 weblogin/locale.php            | 101 --------------------------------------
 weblogin/login.php             |  41 ++++++----------
 weblogin/logout.php            |  38 ++++++---------
 weblogin/rahu_i18n.class.php   | 107 +++++++++++++++++++++++++++++++++++++++++
 weblogin/rahu_langsupport.php  |  13 +++++
 weblogin/rahu_render.class.php |  76 +++++++++++++++++++++++++++++
 7 files changed, 242 insertions(+), 171 deletions(-)

commit 662ae783f4b889624897e562deae1621c84f60f4
Author: Neutron Soutmun <neo.neutron@gmail.com>
Date:   Sat Oct 1 13:03:28 2011 +0700

    Use autopoint to manage the weblogin translation

      * configure.ac:
        - Add AM_GNU_GETTEXT{_VERSION} to initialize gettext.
        - Add weblogin-po/Makefile.in to AC_CONFIG_FILES.
      * autogen.sh:
        - Add autopoint.
      * config.h.in:
        - Update accordingly to new generated by autopoint.
      * weblogin/messages.po, weblogin/th_TH/*:
        - Drop as unneeded.
      * weblogin/locale/*, weblogin-po/*:
        - Move weblogin/locale to weblogin-po.
      * weblogin-po/LINGUAS:
        - Add th to the languages list.
      * weblogin-po/Makevars, weblogin-po/rahunas-weblogin.pot:
        - Add initial setup for gettext translation build.
      * weblogin-po/th.po:
        - Migrate old translation.
      * Makefile.am:
        - Add weblogin-po to SUBDIRS.
      * .gitignore, weblogin-po/.gitignore:
        - Ignore auto-generated files by autopoint.

 .gitignore                                    |   2 +
 Makefile.am                                   |   2 +-
 autogen.sh                                    |   1 +
 config.h.in                                   |  29 ++++
 configure.ac                                  |   5 +
 weblogin-po/.gitignore                        |  10 ++
 weblogin-po/LINGUAS                           |   1 +
 weblogin-po/Makevars                          |  41 ++++++
 weblogin-po/rahunas-weblogin.pot              | 190 ++++++++++++++++++++++++++
 weblogin-po/th.po                             | 189 +++++++++++++++++++++++++
 weblogin/locale/messages.po                   | 150 --------------------
 weblogin/locale/th_TH/LC_MESSAGES/messages.mo | Bin 2942 -> 0 bytes
 weblogin/locale/th_TH/LC_MESSAGES/messages.po | 157 ---------------------
 13 files changed, 469 insertions(+), 308 deletions(-)

commit 2f9fc9abf92804e53d4d2ef00ce5ac4c107b389b
Author: Neutron Soutmun <neo.neutron@gmail.com>
Date:   Fri Sep 30 11:38:05 2011 +0700

    Install rh-checkrad as sbin scripts

      * configure.ac:
        - Add netsnmp-module/scripts/rh-checkrad to AC_CONFIG_FILES.
      * netsnmp-module/rh-checkrad.in:
        - Rename rh-checkrad to rh-checkrad.in
        - Make the script using the path from configure on build time.
      * netsnmp-module/Makefile.am:
        - Install rh-checkrad as sbin scripts.

 configure.ac                          |  1 +
 netsnmp-module/Makefile.am            |  4 ++-
 netsnmp-module/scripts/rh-checkrad    | 58 ------------------------------
 netsnmp-module/scripts/rh-checkrad.in | 67 +++++++++++++++++++++++++++++++++++
 4 files changed, 71 insertions(+), 59 deletions(-)

commit c6d18525d064b54b66d4adbf14dbb1d0dd3818ae
Author: Neutron Soutmun <neo.neutron@gmail.com>
Date:   Thu Sep 29 15:04:29 2011 +0700

    Add timeout to checkrad script

      * netsnmp-module/scripts/rh-checkrad:
        - Add timeout and retry.

 netsnmp-module/scripts/rh-checkrad | 4 +++-
 1 file changed, 3 insertions(+), 1 deletion(-)

commit 353d6b30430fdad1dea311839b45390251ea3bed
Author: Neutron Soutmun <neo.neutron@gmail.com>
Date:   Thu Sep 29 14:01:50 2011 +0700

    Add sample checkrad script for RahuNAS

      * netsnmp-module/Makefile.am, scripts/rh-checkrad:
        - Add sample checkrad script for RahuNAS.

 netsnmp-module/Makefile.am         |  2 +-
 netsnmp-module/scripts/rh-checkrad | 56 ++++++++++++++++++++++++++++++++++++++
 2 files changed, 57 insertions(+), 1 deletion(-)

commit c16d18ecfd95c1c78a42cb262d9b7cdafddc5064
Author: Neutron Soutmun <neo.neutron@gmail.com>
Date:   Thu Sep 29 12:07:42 2011 +0700

    Should send the client ip to radius instead

      * weblogin/rahu_radius.class.php (rahu_radius_acct):
        - Should send the client ip to radius instead.

 weblogin/rahu_radius.class.php | 1 -
 1 file changed, 1 deletion(-)

commit 241c8ba7ced2f25d02969e27323bb1b8b5b5bca7
Author: Neutron Soutmun <neo.neutron@gmail.com>
Date:   Thu Sep 29 02:11:57 2011 +0700

    Update login table on database updated

      * netsnmp-module/Makefile.am:
        - Define RAHUNAS_DB.
      * netsnmp-module/rhsnmp.c (rh_update_data, rh_remove_old_data_set,
        rh_add_new_data_set):
        - Make function static.
      * netsnmp-module/rhsnmp.c (rh_update_data):
        - Notify the update-thread when the database has been updated.
        - Still update every 30 seconds which beware the missing events.

 netsnmp-module/Makefile.am |  1 +
 netsnmp-module/rhsnmp.c    | 82 +++++++++++++++++++++++++++++++++++++++++-----
 2 files changed, 75 insertions(+), 8 deletions(-)

commit 928656f5b79b62a860c982ffd2989b6f9a40c4d3
Author: Neutron Soutmun <neo.neutron@gmail.com>
Date:   Thu Sep 29 00:56:31 2011 +0700

    Update .gitignore

      * .gitignore:
        - Update to ignore config.guess, config.h.in~, config.sub ltmain.sh.

 .gitignore | 4 ++++
 1 file changed, 4 insertions(+)

commit e0a807ca49747f3403a280d5255b11e6ef26ad02
Author: Neutron Soutmun <neo.neutron@gmail.com>
Date:   Thu Sep 29 00:50:55 2011 +0700

    Add netsnmp-module

      * configure.ac:
        - Add AC_CONFIG_MACRO_DIR.
        - Add AC_PROG_LIBTOOL, LT_INIT.
        - Drop AC_PROG_RANLIB as superseded by AC_PROG_LIBTOOL.
        - Add --enable-netsnmp-module and check for "net-snmp-config" on
          enabled.
        - Add netsnmp-module/Makefile to AC_CONFIG_FILES.
      * Makefile.am:
        - Add netsnmp-module to SUBDIRS.
      * autogen.sh:
        - Add libtoolize.
      * config.h.in:
        - Updated.
      * netsnmp-module/*:
        - Add netsnmp-module and drafted RAHUNAS-MIB.

 Makefile.am                     |   3 +-
 autogen.sh                      |   1 +
 config.h.in                     |   3 +
 configure.ac                    |  22 ++-
 netsnmp-module/Makefile.am      |  34 +++++
 netsnmp-module/mibs/RAHUNAS-MIB |  90 ++++++++++++
 netsnmp-module/rhsnmp.c         | 303 ++++++++++++++++++++++++++++++++++++++++
 netsnmp-module/rhsnmp.h         |   8 ++
 8 files changed, 462 insertions(+), 2 deletions(-)

commit 042b4814fa2a8b03499cb161d26f42807a2a2217
Author: Neutron Soutmun <neo.neutron@gmail.com>
Date:   Thu Sep 29 00:40:54 2011 +0700

    Update the database schema

      * data/rahunas.db:
        - Update the database schema, add service_class (string) and
          service_class_slot_id (int).

 data/rahunas.db | Bin 5120 -> 5120 bytes
 1 file changed, 0 insertions(+), 0 deletions(-)

commit dc6cdce2418f218dcb7797fb6efecfe424d83b0d
Author: Neutron Soutmun <neo.neutron@gmail.com>
Date:   Thu Sep 29 00:37:23 2011 +0700

    Add rh_ prefix to major,minor,micro define

      * configure.ac:
        - Add rh_ prefix to major, minor, micro define to prevent the
          confusion as they are used in libtool scripts.

 configure.ac | 8 ++++----
 1 file changed, 4 insertions(+), 4 deletions(-)

commit 73da9daaa0c2bbf2116a51186a27efaa4618d41d
Author: Neutron Soutmun <neo.neutron@gmail.com>
Date:   Thu Sep 29 00:27:38 2011 +0700

    Switch to sqlite3 native API

      * configure.ac:
        - Drop libgda check.
        - Add libsqlite3 check.
      * src/Makefile.am:
        - Drop libgda cflags/libs.
        - Add libsqlite3 cflags/libs.
        - Rename RAHUNAS_DB_DIR to RAHUNAS_DB which now declare the fullpath
          to db file.
      * src/rh-task-dbset.c, src/rh-task-serviceclass.c:
        - Migrate to libsqlite3 native API.

 configure.ac               |  10 +-
 src/Makefile.am            |   6 +-
 src/rh-task-dbset.c        | 432 ++++++++++++++++++---------------------------
 src/rh-task-serviceclass.c |  62 ++++---
 4 files changed, 219 insertions(+), 291 deletions(-)

commit 3b60405304d9d393a2ed0d36f9e43f539f961c44
Author: Neutron Soutmun <neo.neutron@gmail.com>
Date:   Thu Sep 29 00:10:48 2011 +0700

    Add mode to open() as it's required for hardening build

      * src/rh-utils.c (rh_openlog, rh_writepid):
        - Add mode to the third arguments of open() as it's required for
          hardening build if the flags O_CREAT is present. Mode is currently
          set to 0744 for both log and pid file.
        - Add missing header include (sys/types.h).

 src/rh-utils.c | 7 +++++--
 1 file changed, 5 insertions(+), 2 deletions(-)

commit 783022e757b1298d4c5afb8b37f1306d8213147d
Author: Neutron Soutmun <neo.neutron@gmail.com>
Date:   Tue Sep 13 15:23:06 2011 +0700

    Fix session_id is empty in case already in session

      * weblogin/rahu_radius.class.php (gen_session_id):
        - Fix session_id is empty by mistake in the case that the session_id already
          in the session variable. Should set the $this->session_id too.

 weblogin/rahu_radius.class.php | 28 ++++++++++++++--------------
 1 file changed, 14 insertions(+), 14 deletions(-)

commit c8fddb10fb08fae598bfe41af818eb83deb209fc
Author: Suriya Soutmun <darksolar@gmail.com>
Date:   Mon Sep 26 18:19:01 2011 +0700

    Destroy object after used.

      * weblogin/chpwd.php:
        - unset object after not use it.

 weblogin/chpwd.php | 1 +
 1 file changed, 1 insertion(+)

commit 19132fabee7df241e326981abdeff05319df84bd
Author: Suriya Soutmun <darksolar@gmail.com>
Date:   Mon Sep 26 18:08:55 2011 +0700

    Add change password page.

      * weblogin/{chpwd.php, radius-dbconfig.php, user.class.php}:
        - chpwd.php is a password changer page after password has been changed it
          will redirect to login page.
        - radius-dbconfig.php is a config file store detail to connect to
          radius database backend.
        - user.class.php is a class file to create a radius database connection
          object and use it to check and change password.

 weblogin/chpwd.php           | 181 +++++++++++++++++++++++++++++++++++++++++++
 weblogin/radius-dbconfig.php |   6 ++
 weblogin/user.class.php      | 136 ++++++++++++++++++++++++++++++++
 3 files changed, 323 insertions(+)

commit 5d2b232350232d3c7e8e8fd416c2d84bf9df27e6
Author: Neutron Soutmun <neo.neutron@gmail.com>
Date:   Tue Sep 13 14:21:45 2011 +0700

    Remove white-spaces from the username

      * weblogin/login.php:
        - Remove white-spaces from the username

 weblogin/login.php | 1 +
 1 file changed, 1 insertion(+)

commit 6661f09a2e6f822ef068c383527094aec7b7b5e4
Author: Neutron Soutmun <neo.neutron@gmail.com>
Date:   Wed Sep 7 18:23:16 2011 +0700

    Prevent double login, invalid logout/update info

      * weblogin/rahu_radius.class.php (gen_session_id):
        - Keep the generated session_id in the session variable to prevent the
          double login with different session_id by mistake.
      * weblogin/rahu_radius.class.php (rahu_radius_acct):
        - Do not permit the requests that have no session_id.

 weblogin/rahu_radius.class.php | 34 ++++++++++++++++++++++++++++++++--
 1 file changed, 32 insertions(+), 2 deletions(-)

commit 34a6ec5005b242b699dcd00b4ac1dae47ae806cf
Author: Neutron Soutmun <neo.neutron@gmail.com>
Date:   Wed Sep 7 17:25:29 2011 +0700

    Fix program die on SIGPIPE

      * src/rahunasd.c (main):
        - Program should ignore SIGPIPE.

 src/rahunasd.c | 1 +
 1 file changed, 1 insertion(+)

commit 67e9c0f2e49be66f8b024a9ec3ab409e74b5045d
Author: Neutron Soutmun <neo.neutron@gmail.com>
Date:   Tue Jun 21 16:47:10 2011 +0700

    === Release 0.2.0 ===

 NEWS | 8 ++++++++
 1 file changed, 8 insertions(+)

commit 0689196636498f5ef2219550ec79bf0f7c40aa41
Author: Neutron Soutmun <neo.neutron@gmail.com>
Date:   Tue Jun 21 13:31:28 2011 +0700

    Add config.h.in back after accidentally removed.

 config.h.in | 111 ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
 1 file changed, 111 insertions(+)

commit 4b5d05b46785f944e0d4ba506afeb9df499a6aac
Author: Neutron Soutmun <neo.neutron@gmail.com>
Date:   Tue Jun 21 11:08:58 2011 +0700

    Fix compiler warnings

      * src/rahunasd.c:
        - Declare termstring = "" instead.
      * src/rh-ipset.{h, c}:
        - Declare unsigned variable as unsigned int instead.
      * src/rh-ipset.c (set_ipiphash_adtip):
        - Fix typo which should call set_ipiphash_adtip_nb() instead.
      * src/rh-serviceclass.c, src/rh-task-serviceclass.c:
        - Include string.h to fix the compiler warnings.
      * src/rh-serviceclass.{h,c}:
        - Replace struct main_server and struct serviceclass with RHMainServer and
          RHSvClass respectively.
      * src/rh-task-ipset.c (set_cleanup):
        - Fix wrong type casting.
      * src/rh-task-memset.c (startsess):
        - Fix compiler warnnings on assigning "const char *" to "char *" variable.
      * src/rh-task-serviceclass.c:
        - Fix compiler warnnings on rh_free().
        - Free member->mapping_ip before assign new data.
      * src/Makefile.am:
        - Add src/ipset/*.h headers to makefile which they should included in
          tarball.

 src/Makefile.am            |  5 ++++
 src/rahunasd.c             |  2 +-
 src/rh-ipset.c             | 14 +++++------
 src/rh-ipset.h             | 14 +++++------
 src/rh-serviceclass.c      | 62 +++++++++++++++++++++++-----------------------
 src/rh-serviceclass.h      | 26 +++++++++----------
 src/rh-task-ipset.c        |  2 +-
 src/rh-task-memset.c       |  9 ++++---
 src/rh-task-serviceclass.c |  9 ++++++-
 9 files changed, 79 insertions(+), 64 deletions(-)

commit cb5371333692435b9818b9043a26980e404202d1
Author: Neutron Soutmun <neo.neutron@gmail.com>
Date:   Mon Jun 20 22:46:42 2011 +0700

    Cherry-picks the code from 0.1.x branch

      * The codes have been refactor and fix the compiler warnings.
      * Adjust the codes for new API changes from 0.1.x branch.

 configure.ac                                  |   4 +-
 data/rahunas.db                               | Bin 7168 -> 5120 bytes
 src/Makefile.am                               |   3 +-
 src/rahunasd.c                                | 166 +++++++++++++++++++++-----
 src/rahunasd.h                                |   4 +-
 src/rh-config.c                               |  96 +++++++--------
 src/rh-config.h                               |   4 +-
 src/rh-ipset.c                                |  24 ++--
 src/rh-ipset.h                                |  10 +-
 src/rh-server.c                               |  64 +++++-----
 src/rh-server.h                               |  32 +++--
 src/rh-serviceclass.h                         |   2 +
 src/rh-task-bandwidth.c                       |  33 ++---
 src/rh-task-bandwidth.h                       |   8 +-
 src/rh-task-dbset.c                           |  40 ++++---
 src/rh-task-dbset.h                           |   4 +-
 src/rh-task-ipset.c                           |  27 +++--
 src/rh-task-ipset.h                           |   4 +-
 src/rh-task-iptables.c                        |  25 ++--
 src/rh-task-iptables.h                        |   4 +-
 src/rh-task-memset.c                          |  45 +++----
 src/rh-task-memset.h                          |   8 +-
 src/rh-task-serviceclass.c                    |  26 ++--
 src/rh-task-serviceclass.h                    |   6 +-
 src/rh-task.c                                 |  30 ++---
 src/rh-task.h                                 |  44 +++----
 src/rh-utils.c                                |  19 +--
 src/rh-utils.h                                |   6 +-
 src/rh-xmlrpc-cmd.c                           |   2 +-
 src/rh-xmlrpc-cmd.h                           |   2 +-
 src/rh-xmlrpc-server.c                        |  39 ++++--
 tools/Makefile.am                             |   3 +-
 weblogin/locale/th_TH/LC_MESSAGES/messages.mo | Bin 3348 -> 2942 bytes
 33 files changed, 473 insertions(+), 311 deletions(-)

commit 215b3eba66c465438d9ed78037766d0f7f7b4dea
Author: Neutron Soutmun <neo.neutron@gmail.com>
Date:   Tue Aug 3 11:33:34 2010 +0700

    Do not kill farpd if state file does not exists

 tools/rahunas-firewall.in | 5 ++++-
 1 file changed, 4 insertions(+), 1 deletion(-)

commit bcaa56a1aacfdd97e998a3a689c6505d9d498193
Author: Neutron Soutmun <neo.neutron@gmail.com>
Date:   Mon Aug 2 18:27:04 2010 +0700

    Update weblogin messages and translations

 weblogin/locale/messages.po                   |  91 ++++++++++++++-------
 weblogin/locale/th_TH/LC_MESSAGES/messages.mo | Bin 2942 -> 3348 bytes
 weblogin/locale/th_TH/LC_MESSAGES/messages.po | 111 +++++++++++++++++---------
 3 files changed, 135 insertions(+), 67 deletions(-)

commit 9cc499e6aa2f0efe017f2068a42fac839e7dad53
Author: Neutron Soutmun <neo.neutron@gmail.com>
Date:   Mon Aug 2 18:03:02 2010 +0700

    Class-Of-Service description return to weblogin

      * Serviceclass description return to weblogin and display to user.
      * "Expired" was renamed to "Session End".
      * Session Time now display in human readable form.

 src/rahunasd.h                 |  1 +
 src/rh-task-memset.c           |  1 +
 src/rh-task-serviceclass.c     |  1 +
 src/rh-xmlrpc-server.c         |  5 +++--
 weblogin/logout.php            | 47 +++++++++++++++++++++++++++++++++++++-----
 weblogin/rahu_xmlrpc.class.php |  7 +++++--
 6 files changed, 53 insertions(+), 9 deletions(-)

commit 8597e18a98e752c070e5e0e6bcc476434e00376b
Author: Neutron Soutmun <neo.neutron@gmail.com>
Date:   Mon Aug 2 16:52:57 2010 +0700

    Don't show error for invalid serviceclass request

 src/rh-task-serviceclass.c | 4 ++++
 1 file changed, 4 insertions(+)

commit 6e30b688454c216e2301e6982a97c96fd8979803
Author: Neutron Soutmun <neo.neutron@gmail.com>
Date:   Mon Aug 2 16:11:13 2010 +0700

    Add fakearpd setup and update example configs

      * Add fakearpd setup into firewall script.
      * Update example configs.
      * Login page should get the SERVICECLASS_ATTRIBUTE from config.

 example/rahunas-serviceclass.conf.in    | 29 ++++++++++++++--------------
 example/rahunas-vserver.conf.in         |  3 ++-
 example/rahunas.conf.in                 |  6 +++++-
 src/rh-config.c                         |  2 ++
 tools/rahunas-firewall.in               | 34 +++++++++++++++++++++++++++++++++
 tools/rahunas-weblogin-config-update.in |  2 ++
 weblogin/login.php                      |  6 +++++-
 7 files changed, 64 insertions(+), 18 deletions(-)

commit 0fe3338bb0575f76a17fae81826cb8a06cc892e2
Author: Neutron Soutmun <neo.neutron@gmail.com>
Date:   Sun Aug 1 11:03:04 2010 +0700

    Fix database not update

      * Fix database not update due to not enough buffer space for string.
      * Fix daemon that could not start on RH_DEBUG is defined (Debug mode).

 src/rh-task-dbset.c    | 4 ++--
 src/rh-task-iptables.c | 5 +++--
 2 files changed, 5 insertions(+), 4 deletions(-)

commit 02490869b15736707d50f900a6af8fc9a5fa46a2
Author: Neutron Soutmun <neo.neutron@gmail.com>
Date:   Sun Aug 1 09:38:58 2010 +0700

    Bump version to 0.2.0

      * Bump version to 0.2.0 as next release which does not backward compattible
        with the old 0.1.x at all.
      * 0.2.x should setup on Debian GNU/Linux Squeeze or later only.

 configure.ac | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit b757414513a523a3d56a017e5cc41fc24bb68c8a
Author: Neutron Soutmun <neo.neutron@gmail.com>
Date:   Sat Jul 31 19:35:13 2010 +0700

    Fix and update serviceclass

      * XML-RPC server correctly parsing the class-of-service parameter.
      * Update firewall script to fix the rules of service class support
        do not work as expect.
      * Fix serviceclass task which segfault on stop session.

 src/rh-task-serviceclass.c | 13 ++++++--
 src/rh-xmlrpc-server.c     |  3 ++
 tools/rahunas-firewall.in  | 76 +++++++++++++++++++++++++++-------------------
 3 files changed, 57 insertions(+), 35 deletions(-)

commit 3cbe0c2fb30e0b5337ba35e14fb6cafda374e7b9
Author: Neutron Soutmun <neo.neutron@gmail.com>
Date:   Fri Jul 30 18:07:26 2010 +0700

    Remove unused VIP_* from weblogin config update

 tools/Makefile.am                       | 1 -
 tools/rahunas-weblogin-config-update.in | 4 ----
 2 files changed, 5 deletions(-)

commit 43154f8625f76af133f75133b2517fd6565f6b35
Author: Neutron Soutmun <neo.neutron@gmail.com>
Date:   Thu Jul 29 23:34:53 2010 +0700

    Add implementation of class-of-service

      * Add new implementation of class-of-service which respect to the RADIUS
        Attribute "WISPr-Billing-Class-Of-Service"
      * Remove the concept of vip users and use the class-of-service concept which
        more flexibility instead.
      * Update the firewall script which "--option ! xxx" is deprecated and should
        replaced by "! --option xxx".
      * Update the firewall script to support the serviceclass concept.
      * Update weblogin which should send the class-of-service name when RADIUS
        return this attribute back.
      * src/include has been removed (no needs).

 configure.ac                                      |   1 -
 src/Makefile.am                                   |  12 +-
 src/include/linux/netfilter_ipv4/ip_set.h         | 499 ----------------------
 src/include/linux/netfilter_ipv4/ip_set_rahunas.h |  45 --
 src/ipset/ip_set.h                                |   2 +
 src/ipset/ip_set_hashes.h                         | 314 ++++++++++++++
 src/ipset/ip_set_rahunas_ipiphash.h               |  38 ++
 src/rahunasd.c                                    |  36 ++
 src/rahunasd.h                                    |   3 +
 src/rh-config.c                                   |  73 +++-
 src/rh-config.h                                   |  17 +-
 src/rh-ipset.c                                    |  71 +++
 src/rh-ipset.h                                    |   7 +-
 src/rh-server.c                                   |   1 +
 src/rh-server.h                                   |  16 +-
 src/rh-serviceclass.c                             | 310 ++++++++++++++
 src/rh-serviceclass.h                             |  37 ++
 src/rh-task-dbset.c                               |  20 +-
 src/rh-task-memset.c                              |  10 +
 src/rh-task-serviceclass.c                        | 300 +++++++++++++
 src/rh-task-serviceclass.h                        |  12 +
 src/rh-task.c                                     |   3 +
 src/rh-task.h                                     |   2 +
 src/rh-xmlrpc-server.c                            |  12 +-
 tools/rahunas-firewall.in                         | 103 +++--
 tools/rahunas-vipmap.in                           |  29 --
 weblogin/login.php                                |  11 +-
 27 files changed, 1304 insertions(+), 680 deletions(-)

commit 732bc1be8e814ff17f8d31268e1de28124d93aeb
Author: Neutron Soutmun <neo.neutron@gmail.com>
Date:   Sat Jul 3 22:56:12 2010 +0700

    Add example/rahunas-serviceclass.conf.in

 example/rahunas-serviceclass.conf.in | 67 ++++++++++++++++++++++++++++++++++++
 1 file changed, 67 insertions(+)

commit 91cc1f0494e2742d8912b634840f407467867384
Author: Neutron Soutmun <neo.neutron@gmail.com>
Date:   Sat Jul 3 22:44:35 2010 +0700

    Add serviceclass config

 configure.ac                    |   1 +
 data/rahunas.db                 | Bin 5120 -> 7168 bytes
 example/Makefile.am             |   3 +-
 example/rahunas-vserver.conf.in |   5 -
 src/Makefile.am                 |   5 +-
 src/rahunasd.h                  |   1 -
 src/rh-config.c                 | 114 ++++++++++++++-----
 src/rh-config.h                 |  22 ++--
 src/rh-server.c                 |   5 -
 src/rh-server.h                 |   1 -
 src/rh-task-ipset.c             |  26 -----
 src/rh-task-iptables.c          |  14 +--
 src/rh-task-vipmap.c            | 243 ----------------------------------------
 src/rh-task-vipmap.h            |  17 ---
 src/rh-task.c                   |   3 -
 src/rh-task.h                   |   2 -
 src/rh-xmlrpc-server.c          |   8 +-
 17 files changed, 110 insertions(+), 360 deletions(-)

commit 220ede90c3faa437b8d007e8a21f95f9593f5b97
Author: Neutron Soutmun <neo.neutron@gmail.com>
Date:   Wed Jun 2 20:33:16 2010 +0700

    Fix incorrect data from set

 src/rahunasd.c |  22 ++++++------
 src/rh-ipset.c | 104 ++++++++++++++++++++++++++++++++++++++++++++++++++-------
 src/rh-ipset.h |   3 ++
 3 files changed, 107 insertions(+), 22 deletions(-)

commit 515ff2ddacebb620c4e26ed850fd078bc8326b6b
Author: Neutron Soutmun <neo.neutron@gmail.com>
Date:   Tue Jun 1 17:27:58 2010 +0700

    Suppressed warning message of libgda

      * Suppressed warning message of libgda, only existent objects which parsing to
        *_unref () function.

 src/rh-task-dbset.c | 23 ++++++++++++++++-------
 1 file changed, 16 insertions(+), 7 deletions(-)

commit 0ad914f16f45bc416845896689a33f167f5042b4
Author: Neutron Soutmun <neo.neutron@gmail.com>
Date:   Tue Jun 1 14:16:46 2010 +0700

    Fix dbset failed to query

      * Could not query to database due to invalid parser, should create parser.

 src/rh-task-dbset.c | 39 ++++++++++++++++++++++++++++-----------
 1 file changed, 28 insertions(+), 11 deletions(-)

commit b813a36b8aa5f1fd2232fa35f3fa834eed82cfd4
Author: Neutron Soutmun <neo.neutron@gmail.com>
Date:   Tue Jun 1 13:36:43 2010 +0700

    Add ipset headers, rahunas updated struct changes

 src/Makefile.am            |   1 +
 src/ipset/ip_set.h         | 569 +++++++++++++++++++++++++++++++++++++++++++++
 src/ipset/ip_set_bitmaps.h | 120 ++++++++++
 src/ipset/ip_set_rahunas.h |  48 ++++
 src/rahunasd.c             |   4 +-
 src/rh-ipset.h             |   4 +-
 src/rh-task-ipset.c        |   2 +-
 7 files changed, 743 insertions(+), 5 deletions(-)

commit 5b03d8ef2ea0413facfc3de5765dedf570413239
Author: Neutron Soutmun <neo.neutron@gmail.com>
Date:   Tue Jun 1 09:52:25 2010 +0700

    Update IPSET_VERSION to 4.2

 src/Makefile.am | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit bb07c0dc0f8f1a1ae27a95e6d73a0a7cabaa989b
Author: Neutron Soutmun <neo.neutron@gmail.com>
Date:   Sun May 30 17:23:04 2010 +0700

    Migrating to libgda-4, some APIs changes

      * Migrating to libgda-4, some APIs changes (no backward compatibility)
      * libgda-3 stop supporting at 0.1.7

 configure.ac        |   2 +-
 src/rh-task-dbset.c | 135 +++++++++++++++++++++-------------------------------
 2 files changed, 56 insertions(+), 81 deletions(-)

commit dbdf730fcc6eb10d03996a16635dcd61e3f4475c
Author: Neutron Soutmun <neo.neutron@gmail.com>
Date:   Tue May 25 11:37:05 2010 +0700

    Do nothing when no vipuser request

 config.h.in          | 111 ---------------------------------------------------
 src/rh-task-vipmap.c |   6 +++
 2 files changed, 6 insertions(+), 111 deletions(-)

commit 3cb3fa84ccae9037456fa5639c821072e1008eae
Author: Neutron Soutmun <neo.neutron@gmail.com>
Date:   Wed May 12 00:52:29 2010 +0700

    Add tools/rahunas-vipmap.in

 configure.ac            |  1 +
 tools/Makefile.am       |  1 +
 tools/rahunas-vipmap.in | 29 +++++++++++++++++++++++++++++
 3 files changed, 31 insertions(+)

commit 51ab753fe09334e3fdb1e236991bc8bc761f24df
Author: Neutron Soutmun <neo.neutron@gmail.com>
Date:   Wed May 12 00:34:20 2010 +0700

    Add new task the vipmap task

 src/Makefile.am                |   5 +-
 src/rahunasd.h                 |   1 +
 src/rh-config.c                |   7 ++
 src/rh-config.h                |   2 +
 src/rh-server.c                |   5 +
 src/rh-server.h                |   1 +
 src/rh-task-ipset.c            |  28 +++++
 src/rh-task-vipmap.c           | 237 +++++++++++++++++++++++++++++++++++++++++
 src/rh-task-vipmap.h           |  17 +++
 src/rh-task.c                  |   3 +
 src/rh-task.h                  |   2 +
 src/rh-xmlrpc-server.c         |  12 ++-
 tools/rahunas-firewall.in      |   2 +
 weblogin/login.php             |  15 ++-
 weblogin/rahu_radius.class.php |   2 +
 15 files changed, 334 insertions(+), 5 deletions(-)

commit 36a0e5221c990a88845b49a130d1ecaf98b08848
Author: Neutron Soutmun <neo.neutron@gmail.com>
Date:   Tue May 11 17:56:57 2010 +0700

    Add vip_ip field into dbset table in database

 data/rahunas.db | Bin 5120 -> 5120 bytes
 1 file changed, 0 insertions(+), 0 deletions(-)

commit ba96d443f9d765f2bc3bba150f6c9a7e860f2e5e
Author: Neutron Soutmun <neo.neutron@gmail.com>
Date:   Tue May 11 17:46:20 2010 +0700

    Add vipmap to rahunas config

      * Add vipmap to rahunas config.
      * firwall script now setup the vipmap properly.

 src/rahunasd.c            | 25 -------------------------
 src/rh-config.c           | 23 +++++++++++++++++++++++
 src/rh-config.h           |  4 ++++
 src/rh-task-iptables.c    | 16 +++++++++++-----
 tools/rahunas-firewall.in | 10 +++++-----
 5 files changed, 43 insertions(+), 35 deletions(-)

commit 06ccf5c2be67c30786d69cfc0f595d0866ca8627
Author: Neutron Soutmun <neo.neutron@gmail.com>
Date:   Tue May 11 15:16:41 2010 +0700

    Ignore error warning on kill farpd process

 tools/rahunas-firewall.in | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 9e0edab4df3702f2fb13a5997fd34174d27cc8e7
Author: Neutron Soutmun <neo.neutron@gmail.com>
Date:   Tue May 11 13:19:48 2010 +0700

    Add vipmap to config and scripts

 example/rahunas-vserver.conf.in         |  5 +++
 tools/rahunas-firewall.in               | 55 +++++++++++++++++++++++++++++++++
 tools/rahunas-weblogin-config-update.in |  4 +++
 3 files changed, 64 insertions(+)

commit d1175cd01729fc971450428163831c7080bc86d4
Author: Neutron Soutmun <neo.neutron@gmail.com>
Date:   Sat Sep 19 18:46:23 2009 +0700

    Bump version to 0.1.8

 configure.ac | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 6bfc4df01c9d7a55c8cb20e27577efa910712d95
Author: Neutron Soutmun <neo.neutron@gmail.com>
Date:   Sat Sep 19 18:45:30 2009 +0700

    === Release 0.1.7 ===

 NEWS | 5 +++++
 1 file changed, 5 insertions(+)

commit 85ae78e4e6a2069ffee336d33834a7eb84254ee1
Author: Neutron Soutmun <neo.neutron@gmail.com>
Date:   Sat Sep 19 18:40:33 2009 +0700

    Yet another fix firewall script for _ext_fw

      * Keep the external interfaces list in state file for inter-call process

 tools/rahunas-firewall.in | 9 +++++----
 1 file changed, 5 insertions(+), 4 deletions(-)

commit da073f8a69753a15298bfde3407d5563594472db
Author: Neutron Soutmun <neo.neutron@gmail.com>
Date:   Sat Sep 19 18:05:11 2009 +0700

    Fix firewall script to stop _ext_fw properly

 tools/rahunas-firewall.in | 18 ++++++++++++------
 1 file changed, 12 insertions(+), 6 deletions(-)

commit 6860f2707d8da41d7d90511b3309d1853988731a
Author: Neutron Soutmun <neo.neutron@gmail.com>
Date:   Sat Sep 19 16:20:28 2009 +0700

    Bump version to 0.1.7

 configure.ac | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit a43ab21a62266b9a4671bd81894022e56934c27e
Author: Neutron Soutmun <neo.neutron@gmail.com>
Date:   Sat Sep 19 16:13:38 2009 +0700

    === Release 0.1.6 ===

 NEWS | 8 ++++++++
 1 file changed, 8 insertions(+)

commit f947fbf519faeaa105b8df830c6030924a957e16
Author: Neutron Soutmun <neo.neutron@gmail.com>
Date:   Sat Sep 19 15:58:29 2009 +0700

    Add .gitignore

 .gitignore | 8 ++++++++
 1 file changed, 8 insertions(+)

commit c9d8db9916965607ae249b301f1991b931044ee8
Author: Neutron Soutmun <neo.neutron@gmail.com>
Date:   Sat Sep 19 15:50:15 2009 +0700

    Add common firewall code

      [ Security Fix ]
      * Add common firewall code with new extra config fields in rahunas
        main config file.
      * If no new config fields setting, the old behavior is used which the
        external interfaces accept all connections.

 example/rahunas.conf.in   |  4 ++++
 tools/rahunas-firewall.in | 49 ++++++++++++++++++++++++++++++++++++++++++++---
 2 files changed, 50 insertions(+), 3 deletions(-)

commit aefa26aefdd4538de7337e9c9b0cced45abb1d74
Author: Neutron Soutmun <neo.neutron@gmail.com>
Date:   Fri Sep 18 17:29:58 2009 +0700

    Fix daemon get stuck at 100% CPU when no log file

      * Fix daemon get stuck when the log file does not exists, requested access
        to the file is not allowed or any errors. (Thanks Theppitak for the issue
        of this case)

 src/rahunasd.c | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 8099ec906a89243a29bf56431c7f4ad523fdbf67
Merge: 32a7d0b 3a492ca
Author: Neutron Soutmun <neo.neutron@gmail.com>
Date:   Fri Sep 18 17:19:32 2009 +0700

    Merge branch 'squid-helper'

commit 3a492caaf18e4f9cf7353f9fc766ff40b9a5f6e8
Author: Theppitak Karoonboonyanan <thep@linux.thai.net>
Date:   Fri Sep 18 12:51:49 2009 +0700

    Do not made a persistent conn, per request instead

      * Do not made a persistent xmlrpc connection from the helper to rahunasd,
        made the connection per request instead (more consistent).
      * Return the IP address rather than throw an error and die.

 tools/squid-auth-helper.c | 38 +++++++++++++++++++++++---------------
 1 file changed, 23 insertions(+), 15 deletions(-)

commit 32a7d0b3c2cb9590acab21127c832ac496991463
Author: Neutron Soutmun <neo.neutron@gmail.com>
Date:   Fri Sep 18 12:48:36 2009 +0700

    Do not match the rate limit request from localhost

 tools/rahunas-firewall.in | 13 +++++++++----
 1 file changed, 9 insertions(+), 4 deletions(-)

commit ad5b5e3bf7cfb41faf68cf39fb6878f172f99ce8
Author: Neutron Soutmun <neo.neutron@gmail.com>
Date:   Wed Sep 16 13:07:48 2009 +0700

    Bump version to 0.1.6

 configure.ac | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 40e65736b51757710a627c021a149b01856fd3e8
Author: Neutron Soutmun <neo.neutron@gmail.com>
Date:   Wed Sep 16 12:28:03 2009 +0700

    Add squid external auth helper

      * Add squid-auth-helper that provides the function for squid proxy/cache to
        requests the username with respect to client's IP.
        Squid using this information for logging and users tracking later.
      * Update Makefile.am to support squid-auth-helper build.

 src/Makefile.am           |   2 +-
 tools/Makefile.am         |  16 ++++
 tools/squid-auth-helper.c | 190 ++++++++++++++++++++++++++++++++++++++++++++++
 3 files changed, 207 insertions(+), 1 deletion(-)

commit d676a993abcb8f5e93a382a8d8c96e154d3511e3
Author: Neutron Soutmun <neo.neutron@gmail.com>
Date:   Mon Jul 20 15:01:36 2009 +0700

    Prevent bandwidth script from non-existing iface

      * Prevent the bandwidth script from non-existing interface name.
      * State the return message "NOT COMPLETED" from bandwidth script is error,
        which need to do something such as in the add and remove bandwidth slot to
        retry for 3 times when this error occured before give up.

 src/rh-task-bandwidth.c    |  7 +++-
 tools/rahunas-bandwidth.in | 94 +++++++++++++++++++++++++++++++---------------
 2 files changed, 70 insertions(+), 31 deletions(-)

commit 3a270e6b9c8024f92173abe5abff7e7326d1b062
Author: Neutron Soutmun <neo.neutron@gmail.com>
Date:   Sat Jul 4 15:48:02 2009 +0700

    Remove vlan_* config fields from example config

      - Remove vlan_* config fields, handle externaly.

 example/rahunas-vserver.conf.in | 3 ---
 1 file changed, 3 deletions(-)

commit 6e28b633ff202a5f94cfba5ae3ed6b1bdc114c53
Author: Neutron Soutmun <neo.neutron@gmail.com>
Date:   Sat Jul 4 15:40:09 2009 +0700

    Support multiple ext-dev in rahunas-firewall

      + Suuport multiple externel device in rahunas-firewall, now in config file
        can enter more than one device in the dev_external field. (Will solve the
        masquerade issue in the load balance system)
      + Detect the ip of the proxy host which it is the local interface and open
        port at the firewall for authenticated users.

 tools/rahunas-firewall.in | 82 ++++++++++++++++++++++++++++++++++++++---------
 1 file changed, 67 insertions(+), 15 deletions(-)

commit c651b1df6cb843dbdb44bf3395551bccc274866d
Author: Neutron Soutmun <neo.neutron@gmail.com>
Date:   Thu Jul 2 19:14:47 2009 +0700

    Fix typo in rahunas-firewall

 tools/rahunas-firewall.in | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit a8b045f5f30a07399baf17a451ccc1ffe89fc00e
Author: Neutron Soutmun <neo.neutron@gmail.com>
Date:   Sun Jun 21 10:09:04 2009 +0700

    Fix the ifb initial on config reload

      * The ifb does not reinitial when reloading config that cuases the bandwidth
        task does not work correctly after reload.

 src/rh-task-bandwidth.c | 4 +++-
 1 file changed, 3 insertions(+), 1 deletion(-)

commit 01863bb35ee1addfb4ee2537a72e21586da5cfb1
Author: Neutron Soutmun <neo.neutron@gmail.com>
Date:   Thu Jun 18 20:52:30 2009 +0700

    Fix ifb_reserved, fault bit shifting

      * Fix the ifb_reserved that doing the fault bit shifting which cause the
        program running in malfunction, the maximum ifb is ifb8 rather than
        ifb31 (i386) or ifb63 (amd64).

 src/rh-config.c | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit c5765564ff34716a76660e3a1acd1733bbd764f2
Author: Neutron Soutmun <neo.neutron@gmail.com>
Date:   Mon Jun 15 11:03:03 2009 +0700

    Remove leading and trailing of get string

 src/rh-utils.c | 4 +++-
 1 file changed, 3 insertions(+), 1 deletion(-)

commit 3c938ec1ba5298fbc2ff0c1d8bb91a4c842188c9
Author: Neutron Soutmun <neo.neutron@gmail.com>
Date:   Tue Jun 9 10:32:33 2009 +0700

    Bump version to 0.1.5

 configure.ac | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 7d86850b98014981d02f95c933296d84099e874a
Author: Neutron Soutmun <neo.neutron@gmail.com>
Date:   Tue Jun 9 10:29:51 2009 +0700

    === Release 0.1.4 ===

      * Update ChangeLog (git log --stat).
      * Remove weblogin/ChangeLog, now merge in ChangeLog.

 ChangeLog          | 2917 +++++++++++++++++++++++++++++++++++++++-------------
 weblogin/ChangeLog |    4 -
 2 files changed, 2206 insertions(+), 715 deletions(-)

commit 7751a641e2a294d986b002dd01264b7d068258a2
Author: Neutron Soutmun <neo.neutron@gmail.com>
Date:   Tue Jun 9 10:24:52 2009 +0700

    Bump version to 0.1.4

      * Bump version to 0.1.4 and prepare to release.
      * Add forgotten example/Makefile.am.

 NEWS                | 17 ++++++++++++++++-
 configure.ac        |  2 +-
 example/Makefile.am |  3 +++
 3 files changed, 20 insertions(+), 2 deletions(-)

commit bae014d9f22e13f6115d53d154e6489f20ae00e4
Author: Neutron Soutmun <neo.neutron@gmail.com>
Date:   Tue Jun 9 10:07:55 2009 +0700

    Adjust build system config and install files

      * Adjust build system config to install the files to appropriate paths.
      * The MAINTAINERCLEANFILES was added.
      * Now rahunas.db installed into the default directory /var/lib/rahunas.
      * RahuNAS daemon executable file (rahunasd) now installed into /usr/sbin.
      * Tool scripts now installed into the /usr/sbin and their names change to
        satisfy the debian policy.

 Makefile.am                                  |   2 +-
 configure.ac                                 |  17 +-
 data/Makefile.am                             |   8 +-
 example/rahunas.init.in                      |   6 +-
 lcfg/Makefile.am                             |   3 +-
 src/Makefile.am                              |  78 +--
 src/include/linux/netfilter_ipv4/Makefile.am |   3 -
 src/rh-task-bandwidth.c                      |  12 +-
 src/rh-task-dbset.c                          |   2 +-
 src/rh-task-iptables.c                       |   8 +-
 tools/Makefile.am                            |   6 +
 tools/bandwidth.sh.in                        | 287 -----------
 tools/firewall.sh.in                         | 729 ---------------------------
 tools/rahunas-bandwidth.in                   | 287 +++++++++++
 tools/rahunas-firewall.in                    | 729 +++++++++++++++++++++++++++
 tools/rahunas-weblogin-config-update.in      | 116 +++++
 tools/weblogin-config-update.sh.in           | 116 -----
 xmlrpc/Makefile.am                           |   2 +
 18 files changed, 1212 insertions(+), 1199 deletions(-)

commit 927d0c70c763dcf56e6f12ebe02a51688468a5c3
Author: Neutron Soutmun <neo.neutron@gmail.com>
Date:   Mon Jun 8 21:12:46 2009 +0700

    Follow the flawfinder guideline

      * Reduce the vulnerability code by follow the advice of flawfinder.
      * Just finish one of the TODO lists.

 TODO                    |  1 -
 src/rahunasd.c          |  3 ++-
 src/rh-config.c         | 10 ++++++----
 src/rh-ipset.c          | 11 +++++++----
 src/rh-task-bandwidth.c | 14 +++++++-------
 src/rh-task-dbset.c     |  9 +++++----
 src/rh-task-memset.c    | 10 +++++-----
 7 files changed, 32 insertions(+), 26 deletions(-)

commit 5987af1b79b0c1fbd4aa9d30a53ec6879853ece3
Author: Neutron Soutmun <neo.neutron@gmail.com>
Date:   Mon Jun 8 18:36:19 2009 +0700

    Masquerading now do not mention the output iface

      * To do the masquerading now do not mention the output interface.
      * Flexible to the network configuration that have many paths to route,
        such as the network load balancing.

 tools/firewall.sh.in | 3 +--
 1 file changed, 1 insertion(+), 2 deletions(-)

commit 2f0141c49bb55157f24738404aa77367a6a45fed
Author: Neutron Soutmun <neo.neutron@gmail.com>
Date:   Mon Jun 8 18:29:43 2009 +0700

    Implement IFB to replace the IMQ

      * IFB (Intermediate Functional Block) is more clearly work in the SMP.
      * Implement IFB on config, bandwidth task and support scripts.
      * IMQ is now deprecated. (not support).

 src/rh-config.c         | 135 ++++++++++++++++++++++++++++++++++++++++++++++++
 src/rh-config.h         |  21 ++++++++
 src/rh-task-bandwidth.c |  78 +++++++++++++++++++++-------
 tools/bandwidth.sh.in   |  86 ++++++++++++++++++++++++------
 tools/firewall.sh.in    |   8 ---
 5 files changed, 286 insertions(+), 42 deletions(-)

commit 03dc5e370ef4fbf66e34cbe5bc5b878ed764149c
Author: Neutron Soutmun <neo.neutron@gmail.com>
Date:   Mon Jun 8 11:19:03 2009 +0700

    Fix bashisms and enable http login

      * Fix bashisms of firewall.sh script.
      * Enable http login which only https enabled before.
      * Do not redirect the local web traffic to the proxy.

 tools/firewall.sh.in               |  8 +++++---
 tools/weblogin-config-update.sh.in | 13 +++++++++++--
 2 files changed, 16 insertions(+), 5 deletions(-)

commit 96808c5450804cf9cc6a590500ccce6131c2b937
Author: Neutron Soutmun <neo.neutron@gmail.com>
Date:   Sat May 30 14:10:21 2009 +0700

    Update translating text

 weblogin/locale/messages.po                   |  66 +++++++++++++----------
 weblogin/locale/th_TH/LC_MESSAGES/messages.mo | Bin 2988 -> 2942 bytes
 weblogin/locale/th_TH/LC_MESSAGES/messages.po |  73 ++++++++++++++++----------
 weblogin/logout.php                           |   2 +-
 4 files changed, 84 insertions(+), 57 deletions(-)

commit 9679928e3424ddb216ce7cb6ae23351b51728b78
Author: Neutron Soutmun <neo.neutron@gmail.com>
Date:   Sat May 30 06:29:48 2009 +0700

    Adjust firewall script, handle bittorrent throttle

      - The firewall script now handle bittorrent throttle properly.
      - Adjust the priority of the throttle filter which more important over
        the users' session filter.

 tools/bandwidth.sh.in | 12 ++++++------
 tools/firewall.sh.in  |  4 ++--
 2 files changed, 8 insertions(+), 8 deletions(-)

commit a0fbd8081aad14716555b28cab27c19b76973eea
Author: Neutron Soutmun <neo.neutron@gmail.com>
Date:   Thu May 7 20:30:56 2009 +0700

    Fix mis-used log_end_msg with log_action_msg

    	* examples/rahunas.init.in: Fix mis-used log_end_msg with the log_action_msg.

 ChangeLog               |  4 ++++
 example/rahunas.init.in | 14 ++++++--------
 2 files changed, 10 insertions(+), 8 deletions(-)

commit a68d42f968bde01a20d55ffc7c9cd33656fbb900
Author: Neutron Soutmun <neo.neutron@gmail.com>
Date:   Wed May 6 10:43:45 2009 +0700

    Handle the virtual server for squid helper

    2009-05-06  Neutron Soutmun <neo.neutron@gmail.com>

    	* weblogin/squid_helper.php: Handle the virtual server for squid helper.

 ChangeLog                 |  4 ++++
 weblogin/squid_helper.php | 16 ++++++++++------
 2 files changed, 14 insertions(+), 6 deletions(-)

commit 15110c771604f44d1b149a66b2d4f09f00fb585c
Author: Neutron Soutmun <neo.neutron@gmail.com>
Date:   Mon May 4 08:24:31 2009 +0700

    Adjust the generated session_id

    [core]
    2009-05-04  Neutron Soutmun <neo.neutron@gmail.com>

    	* +weblogin/ChangeLog: Fork the changelog for weblogin.

    [weblogin]
    2009-05-04  Neutron Soutmun <neo.neutron@gmail.com>

    	* rahu_radius.class.php:
    	  - Adjust the generated session_id to always be the same string length.

 ChangeLog                      | 4 ++++
 weblogin/ChangeLog             | 4 ++++
 weblogin/rahu_radius.class.php | 7 +++++--
 3 files changed, 13 insertions(+), 2 deletions(-)

commit 71de5a9f4a4ecbedfd441ffb2fe546714d77239e
Author: Neutron Soutmun <neo.neutron@gmail.com>
Date:   Thu Apr 30 16:13:55 2009 +0700

    Add the updating table nas in database

    2009-04-30  Neutron Soutmun <neo.neutron@gmail.com>

    	* tools/weblogin-config-update.sh.in: Add the updating table nas in database.

 ChangeLog                          |  4 ++++
 tools/weblogin-config-update.sh.in | 26 ++++++++++++++++++++++++++
 2 files changed, 30 insertions(+)

commit 58a7596ffa8e80a6c8db834191f7ce1f45fd44f9
Author: Neutron Soutmun <neo.neutron@gmail.com>
Date:   Thu Apr 30 13:38:23 2009 +0700

    Add table nas into schema

    2009-04-30  Neutron Soutmun <neo.neutron@gmail.com>

    	* data/rahunas.db: Add table nas into schema.

 ChangeLog       |   4 ++++
 data/rahunas.db | Bin 3072 -> 5120 bytes
 2 files changed, 4 insertions(+)

commit cc256e1ea17aa9076b61545f70aa23f191790a80
Author: Neutron Soutmun <neo.neutron@gmail.com>
Date:   Wed Apr 29 08:46:42 2009 +0700

    Fix regenerate/reload weblogin PHP config file

    2009-04-29  Neutron Soutmun <neo.neutron@gmail.com>

    	* example/rahunas.init.in: Fix regenerate/reload weblogin PHP config file.

 ChangeLog               | 4 ++++
 example/rahunas.init.in | 5 ++++-
 2 files changed, 8 insertions(+), 1 deletion(-)

commit 2c382b427d652c3a7166f5516bafbae8cae543fd
Author: Neutron Soutmun <neo.neutron@gmail.com>
Date:   Mon Apr 27 19:22:35 2009 +0700

    Fix the segfault on reloading config files

    2009-04-27  Neutron Soutmun <neo.neutron@gmail.com>

    	* src/rh-server.c: Fix the segfault on reloading config files.

 ChangeLog       | 4 ++++
 src/rh-server.c | 2 +-
 2 files changed, 5 insertions(+), 1 deletion(-)

commit f1184f9058b0f965c8cada118eee1e542b26d70b
Author: Neutron Soutmun <neo.neutron@gmail.com>
Date:   Mon Apr 27 09:08:18 2009 +0700

    Adjust the reload function

    2009-04-27  Neutron Soutmun <neo.neutron@gmail.com>

    	* example/rahunas.init.in:
    	  - Adjust the reload function to show status message propperly.

 ChangeLog               | 5 +++++
 example/rahunas.init.in | 6 ------
 2 files changed, 5 insertions(+), 6 deletions(-)

commit aace70f808787e6416462b9148cc6777dd2b0ec3
Author: Neutron Soutmun <neo.neutron@gmail.com>
Date:   Mon Apr 27 08:48:29 2009 +0700

    Add config reloading

    2009-04-27  Neutron Soutmun <neo.neutron@gmail.com>

    	* src/rahunas.c, src/rh-config.h, src/rh-ipset.c, src/rh-server.{h,c},
    	  src/rh-task-dbset.c, src/rh-task-ipset.c, src/rh-task-iptables.c,
    	  src/rh-task-memset.c:
    	  - Add config reloading by issue SIGHUP.
    	  - Adjust the tasks to the changes of config reloading.
    	* example/rahunas.init.in:
    	  - Add reload function.
    	  - In restart command, try to start if the process is not running.
    	* tools/firewall.sh.in: Add the KEEP_SET funtionality.

 ChangeLog               |  12 ++++
 example/rahunas.init.in |  25 ++++++-
 src/rahunasd.c          |  73 ++++++++++++++++++---
 src/rh-config.h         |   9 +++
 src/rh-ipset.c          |   2 +-
 src/rh-server.c         | 169 ++++++++++++++++++++++++++++++++++++++++++------
 src/rh-server.h         |   8 ++-
 src/rh-task-dbset.c     |   3 +
 src/rh-task-ipset.c     |   6 ++
 src/rh-task-iptables.c  |   8 ++-
 src/rh-task-memset.c    |   6 ++
 tools/firewall.sh.in    |   4 +-
 12 files changed, 288 insertions(+), 37 deletions(-)

commit 94c9e9e68a52a85cada2842d74d51b9407ccf5b2
Author: Neutron Soutmun <neo.neutron@gmail.com>
Date:   Thu Apr 23 10:19:24 2009 +0700

    Handle start-stop process, fix firewall script

    2009-04-23  Neutron Soutmun <neo.neutron@gmail.com>

    	* example/rahunas.init.in:
    	  - Adjust the code to handle the start and stop process.
    	  - Waiting for the process really stop.
    	* tools/firewall.sh.in: Prevent the script to start the same rules again for
    	  each virtual server.

 ChangeLog               |   8 ++++
 example/rahunas.init.in | 118 +++++++++++++++++++++++++++++++++---------------
 tools/firewall.sh.in    |  18 ++++++--
 3 files changed, 105 insertions(+), 39 deletions(-)

commit 32a2b8614528260422ecc05a560bd58085982248
Author: Neutron Soutmun <neo.neutron@gmail.com>
Date:   Tue Apr 21 23:13:44 2009 +0700

    Prevent double login

    2009-04-21  Neutron Soutmun <neo.neutron@gmail.com>

    	* src/rh-xmlrpc-server.c: Prevent the client to double login by mistake.

 ChangeLog              |  4 ++++
 src/rh-xmlrpc-server.c | 15 ++++++++++-----
 2 files changed, 14 insertions(+), 5 deletions(-)

commit f94bd5c0aac9b3add3e205e811907cd60f9bb1f5
Author: Neutron Soutmun <neo.neutron@gmail.com>
Date:   Mon Apr 20 17:19:20 2009 +0700

    Call weblogin-config-update.sh on service start

    2009-04-20  Neutron Soutmun <neo.neutron@gmail.com>

    	* example/rahunas.init.in: Call weblogin-config-update.sh to generate config
    	  every time the service start.

 ChangeLog               | 5 +++++
 example/rahunas.init.in | 2 ++
 2 files changed, 7 insertions(+)

commit ca3a480eac5252c2fd4f7e4a3509e2082b69d686
Author: Neutron Soutmun <neo.neutron@gmail.com>
Date:   Mon Apr 20 17:14:05 2009 +0700

    Add weblogin config in php update

    2009-04-20  Neutron Soutmun <neo.neutron@gmail.com>

    	* +tools/weblogin-config-update.sh.in: Add new weblogin config in php update script.
    	* configure.ac: Updated accordingly.

 ChangeLog                          |  5 +++
 configure.ac                       |  1 +
 tools/weblogin-config-update.sh.in | 81 ++++++++++++++++++++++++++++++++++++++
 3 files changed, 87 insertions(+)

commit ebf1b313a3bf00f239329f7fe3a81e40e23b0296
Author: Neutron Soutmun <neo.neutron@gmail.com>
Date:   Mon Apr 20 14:21:34 2009 +0700

    Add new iptables handle task

    2009-04-20  Neutron Soutmun <neo.neutron@gmail.com>

    	* +src/rh-task-iptables.{h,c}:
    	  Add new iptables handle, preparing for configuration reloading.
    	* src/Makefile.am: Changed accordingly, iptables handle.
    	* src/rh-config.{h,c}: Add more config fields.
    	* src/rh-task-{bandwidth,dbset,ipset,memset}.c, src/rh-task.{h,c}:
    	  Change the {start,stop}service API and use them to do the task only when
    	  the service is start or stop.
    	* src/rahunasd.c, src/rh-server.c: Changed accordingly, {start,stop}service.
    	* tools/firewall.sh.in: Adapted to the new iptables handle.

 ChangeLog               |  12 +++
 src/Makefile.am         |   2 +
 src/rahunasd.c          |  11 ++-
 src/rh-config.c         | 182 ++++++++++++++++++++++++++++++++++--
 src/rh-config.h         |  40 +++++++-
 src/rh-server.c         |  33 ++++++-
 src/rh-task-bandwidth.c |  37 +++-----
 src/rh-task-dbset.c     |  52 +++++------
 src/rh-task-ipset.c     |  38 ++++----
 src/rh-task-iptables.c  | 216 +++++++++++++++++++++++++++++++++++++++++++
 src/rh-task-iptables.h  |  11 +++
 src/rh-task-memset.c    |  29 +++---
 src/rh-task.c           |  65 ++++++-------
 src/rh-task.h           |  16 ++--
 tools/firewall.sh.in    | 240 +++++++++++++++++++++++++++---------------------
 15 files changed, 737 insertions(+), 247 deletions(-)

commit ad04bbc3dc5adfe3e75690b34a04448840efeffb
Author: Neutron Soutmun <neo.neutron@gmail.com>
Date:   Sat Apr 18 12:33:01 2009 +0700

    Handle dhcp request, tune http access performance

    2009-04-18  Neutron Soutmun <neo.neutron@gmail.com>

    	* example/{rahunas,rahunas-vserver}.conf.in, tools/firewall.sh.in:
    	  - Remove dhcp field from vserver config due to the dhcp request is broadcast
    	    message could not be classified which vserver it is.
    	  - Remove dhcp_range from vserver config which will consider later how to
    	    handle it.
    	  - Move the dhcp firewall code from vserver section to policy.
    	  - Adjust the webserver access limit rate for performance tuning.

 ChangeLog                       | 10 +++++++++
 example/rahunas-vserver.conf.in |  2 --
 example/rahunas.conf.in         |  2 ++
 tools/firewall.sh.in            | 50 +++++++++++++++++++++++++----------------
 4 files changed, 43 insertions(+), 21 deletions(-)

commit ae7e7e4f3e3672207f051839f33df6649f41dca1
Author: Neutron Soutmun <neo.neutron@gmail.com>
Date:   Sat Apr 18 12:01:22 2009 +0700

    Move neccessary scripts to tools/

    2009-04-18  Neutron Soutmun <neo.neutron@gmail.com>

    	* -example/{bandwidth,firewall}.sh.in, +tools/{bandwidth,firewall}.sh.in:
    	  Move now considered neccessary scripts from example/ to tools/.
    	* configure.ac: Update accordingly.

    	* data/rahunas.db: Change the primary key from only session_id to
    	  vserver_id,ip and mac which will prevent the same client login twice by
    	  mistake.

 ChangeLog               |  10 +
 configure.ac            |   4 +-
 data/rahunas.db         | Bin 3072 -> 3072 bytes
 example/bandwidth.sh.in | 233 ----------------
 example/firewall.sh.in  | 686 ------------------------------------------------
 tools/bandwidth.sh.in   | 233 ++++++++++++++++
 tools/firewall.sh.in    | 686 ++++++++++++++++++++++++++++++++++++++++++++++++
 7 files changed, 931 insertions(+), 921 deletions(-)

commit 8ecd62957f2caca419e633605e4b81d2936660ae
Author: Neutron Soutmun <neo.neutron@gmail.com>
Date:   Mon Apr 6 09:08:31 2009 +0700

    Add additional firewall rules to allow clients

    2009-04-06  Neutron Soutmun <neo.neutron@gmail.com>

    	* example/firewall.sh.in: Add the additional rules to allow in some situation
    	  the connections could not established before the FORWARD rules allow the
    	  clients, thus the connections never mark.  Just allow them passthrough the
    	  rules if the connections do not mark but the clients are in the set
    	  (allow them).

 ChangeLog              | 8 ++++++++
 example/firewall.sh.in | 8 ++++++++
 2 files changed, 16 insertions(+)

commit b5e3f15c3ecb424e105dd5a93288c5f134de6816
Author: Neutron Soutmun <neo.neutron@gmail.com>
Date:   Mon Apr 6 00:26:38 2009 +0700

    Fix the member deleted during polling process

    2009-04-06  Neutron Soutmun <neo.neutron@gmail.com>

    	* src/rahunasd.c, src/rh-task-{memset,ipset}.c: Fix the member deleted during
    	  polling process that cause the process will stop unexpectly.
    	* src/rh-task-dbset.c:
    	  - Using task_req and rh_task_startsess to restore set data from DB instead
    	    of manual call.
    	* src/rh-task.h: Add bandwidth_slot_id into task_req structure.
    	* src/rh-xmlrpc-server.c: Initial session_start = 0 to trigger the program
    	  to use the current timestamp;

 ChangeLog              | 11 ++++++++
 src/rahunasd.c         |  4 +--
 src/rh-task-dbset.c    | 68 +++++++++++++-------------------------------------
 src/rh-task-ipset.c    |  4 +--
 src/rh-task-memset.c   | 23 +++++++++++------
 src/rh-task.h          |  1 +
 src/rh-xmlrpc-server.c |  1 +
 7 files changed, 49 insertions(+), 63 deletions(-)

commit 59f8607b48ef867c2d3338c9c840006b0f459b9d
Author: Neutron Soutmun <neo.neutron@gmail.com>
Date:   Fri Apr 3 08:57:10 2009 +0700

    Add caught exception for 'XML_RPC2_CurlException'

    2009-04-03  Neutron Soutmun <neo.neutron@gmail.com>

    	* weblogin/{login,squid_helper}.php: Add caught exception for
    	  'XML_RPC2_CurlException' which thrown on server unreachable.

 ChangeLog                 | 5 +++++
 weblogin/login.php        | 3 +++
 weblogin/squid_helper.php | 2 ++
 3 files changed, 10 insertions(+)

commit 25f5f8d725eebedddfef0077d95b9b3d0f9f4d8b
Author: Neutron Soutmun <neo.neutron@gmail.com>
Date:   Fri Apr 3 02:39:00 2009 +0700

    Fix the clients stuck, due to xmlrpc service fail

    Clients stuck at the end of the service restarted.

    Find the way to handle the xmlrpc client for multiple network,
    which in the first time design to be it's virtual server ip
    but the problem is the limitation of gnet_xmlrpc_client_new()
    that can only parse the "localhost" as the hostname.
    Therefore try to workaround by create the alias in the
    apache config to do the special /rahunas_service path to
    serve the xmlrpc stop accouting request.

    2009-04-03  Neutron Soutmun <neo.neutron@gmail.com>

    	* src/rh-config.{h,c}, src/rh-server.c , src/rh-xmlrpc-cmd.c:
    	  - Drop all xml_serv_* due to now only the "localhost" that
    	    gnet_xmlrpc_client_new() can make a connection to.
    	  - Substitute xml_serv_* with the XMLSERVICE_HOST, XMLSERVICE_URL and
    	    XMLSERVICE_PORT.
    	  - According to XMLSERVICE_URL  "/rahunas_service/xmlrpc_service.php",
    	    needs the special apache config to do the alias for this path,
    	    will do in the debian apache config file for example.

 ChangeLog           | 11 +++++++++++
 src/rh-config.c     |  7 -------
 src/rh-config.h     |  4 +---
 src/rh-server.c     |  3 ---
 src/rh-xmlrpc-cmd.c |  8 ++------
 5 files changed, 14 insertions(+), 19 deletions(-)

commit be3e4fa56f7e43b75f2c89ace6fa22246dae41bb
Author: Neutron Soutmun <neo.neutron@gmail.com>
Date:   Fri Apr 3 01:01:49 2009 +0700

    Drop xml_serv_host, use vserver_ip instead

    2009-04-03  Neutron Soutmun <neo.neutron@gmail.com>

    	* src/rh-config.{h,c}, src/rh-server.c , src/rh-xmlrpc-cmd.c:
    	  - Drop xml_serv_host from config list and replaced by vserver_ip.
    	  - Try to sending XML-RPC command via vserver_ip.

    	* weblogin/xmlrpc_service.php: Add the ip parameter checking to get the
    	  appropriate config from list.

 ChangeLog                   |  9 +++++++++
 src/rh-config.c             | 10 +++++-----
 src/rh-config.h             |  2 +-
 src/rh-server.c             |  4 ++--
 src/rh-xmlrpc-cmd.c         | 10 +++++++++-
 weblogin/xmlrpc_service.php |  4 ++++
 6 files changed, 30 insertions(+), 9 deletions(-)

commit 96fd48162ebc677ff5afbfb50d777369a8b71fd0
Author: Neutron Soutmun <neo.neutron@gmail.com>
Date:   Thu Apr 2 23:25:39 2009 +0700

    Fix the firewall script for bittorrent blocking

    2009-04-02  Neutron Soutmun <neo.neutron@gmail.com>

    	* example/firewall.sh.in: Fix the script do not add bittorrent blocking rules
    	  due to the miss point of condition check.

 ChangeLog              | 5 +++++
 example/firewall.sh.in | 5 ++---
 2 files changed, 7 insertions(+), 3 deletions(-)

commit d7b5c9ef3d2899b883f4c37a7ac27700a662dbff
Author: Neutron Soutmun <neo.neutron@gmail.com>
Date:   Thu Apr 2 17:58:54 2009 +0700

    Update example config file

    2009-04-02  Neutron Soutmun <neo.neutron@gmail.com>

    	* example/{rahunas,rahunas-vserver}.conf.in,
    	  example/rahunas.default.in:
    	  Substitute @prefix@ with the appropriate variables for each location,
    	  @prefix@/etc with @sysconfdir@, @prefix@/var with @localstatedir@.

 ChangeLog                       | 7 +++++++
 example/rahunas-vserver.conf.in | 2 ++
 example/rahunas.conf.in         | 4 ++--
 example/rahunas.default.in      | 2 +-
 4 files changed, 12 insertions(+), 3 deletions(-)

commit fed57f628ee442ebece8c924b104e220bd169b45
Author: Neutron Soutmun <neo.neutron@gmail.com>
Date:   Tue Mar 31 23:48:07 2009 +0700

    Bump version to 0.1.3

    2009-03-31  Neutron Soutmun <neo.neutron@gmail.com>

    	* configure.ac: Bump version to 0.1.3

 ChangeLog    | 4 ++++
 configure.ac | 2 +-
 2 files changed, 5 insertions(+), 1 deletion(-)

commit 8a08898437cea973302c8e04b31c4de7b8bd273b
Author: Neutron Soutmun <neo.neutron@gmail.com>
Date:   Tue Mar 31 23:37:39 2009 +0700

    === Release 0.1.2 ===

    2009-03-31  Neutron Soutmun <neo.neutron@gmail.com>

    	=== Release 0.1.2 ===
    	* NEWS: Update for 0.1.2 release.
    	* TODO: Remove VLAN support, already implemented.

 ChangeLog |  6 ++++++
 NEWS      | 25 +++++++++++++++++++++++++
 TODO      |  1 -
 3 files changed, 31 insertions(+), 1 deletion(-)

commit d5429ac493626297fd051130458377c954ff3cda
Author: Neutron Soutmun <neo.neutron@gmail.com>
Date:   Tue Mar 31 23:04:41 2009 +0700

    Add virtual server concepts for multiple network.

    2009-03-31  Neutron Soutmun <neo.neutron@gmail.com>

    	* +src/rh-server.{h,c}:
    	  - Add virtual server concepts, make the clients from different interface to
    	    access the particular virtual server, differentiate clients by their IP.

    	* src/rahunasd.{h,c}, src/rh-config.{c,h}, src/rh-ipset.{h,c},
    	  src/rh-task.{h,c}, src/rh-task-{bandwidth,dbset,ipset,memset}.{h,c},
    	  src/rh-utils.{h,c}, src/rh-xmlrpc-cmd.{h,c}, src/rh-xmlrpc-server.c:
    	  - Redesign, rewrite and adjust the code to support the virtual server
    	    concepts.
    	  - Improve the memory management by replace old static memory allocation by
    	    dynamic memory allocation (GList), therefore fix the memory leak in
    	    earlier version.

    	* example/{bandwidth.sh.in,firewall.sh.in},
    	  example/rahunas.conf.in,
    	  +example/rahunas-vserver.conf.in:
    	  - Add new virtual server config example file which need to put into the
    	    config directory (default: /etc/rahunas/rahunas.d).
    	  - Update config file to support the new virtual server concepts,
    	    for earlier config file is not compatible now.
    	  - Update the bandwidth and firewall example script to support virtual
    	    server.

    	* configure.ac, Makefile.am: Update make file according to new changes.

    	* weblogin/networkchk.php: Add new client's IP check for determine the
    	  network of each client and get the appropriate config,
    	  differentiate client to access the particular virtual server by vserver_id.

    	* weblogin/{config,index,locale,login,logout}.php,
    	  weblogin/rahu_xmlrpc.class.php: Adjust for virtual server concepts.

 ChangeLog                       |  34 +++
 configure.ac                    |   1 +
 data/rahunas.db                 | Bin 3072 -> 3072 bytes
 example/bandwidth.sh.in         |  95 ++++----
 example/firewall.sh.in          | 495 +++++++++++++++++++++++++++-------------
 example/rahunas-vserver.conf.in |  39 ++++
 example/rahunas.conf.in         | 105 +--------
 src/Makefile.am                 |   6 +-
 src/rahunasd.c                  | 308 ++++++++++---------------
 src/rahunasd.h                  |  14 +-
 src/rh-config.c                 | 173 +++++++++++---
 src/rh-config.h                 |  39 +++-
 src/rh-ipset.c                  |  80 ++++---
 src/rh-ipset.h                  |  12 +-
 src/rh-server.c                 | 167 ++++++++++++++
 src/rh-server.h                 |  36 +++
 src/rh-task-bandwidth.c         | 141 +++++++-----
 src/rh-task-bandwidth.h         |  23 +-
 src/rh-task-dbset.c             | 208 ++++++++++++-----
 src/rh-task-dbset.h             |   2 +-
 src/rh-task-ipset.c             |  97 ++++----
 src/rh-task-ipset.h             |   2 +-
 src/rh-task-memset.c            | 214 ++++++++++-------
 src/rh-task-memset.h            |   4 +-
 src/rh-task.c                   |  89 ++++----
 src/rh-task.h                   |  49 ++--
 src/rh-utils.c                  | 123 ++++++++++
 src/rh-utils.h                  |  11 +
 src/rh-xmlrpc-cmd.c             |  34 +--
 src/rh-xmlrpc-cmd.h             |   2 +-
 src/rh-xmlrpc-server.c          | 148 +++++++-----
 weblogin/config.php             |   9 +-
 weblogin/index.php              |   5 +
 weblogin/locale.php             |   5 +
 weblogin/login.php              |   8 +-
 weblogin/logout.php             |  14 +-
 weblogin/networkchk.php         |  47 ++++
 weblogin/rahu_xmlrpc.class.php  |  16 +-
 38 files changed, 1875 insertions(+), 980 deletions(-)

commit 7c6d7c9643ce0f11b6084a68e24c9117fe4c2111
Author: Neutron Soutmun <neo.neutron@gmail.com>
Date:   Wed Mar 18 07:18:03 2009 +0700

    Fix P2P upload, move P2P config to rahunas.conf.in

    2009-03-18  Neutron Soutmun <neo.neutron@gmail.com>

    	* example/bandwidth.sh.in, example/rahunas.conf.in:
    	  - Fix P2P upload slot that miss config to use P2P download.
    	  - Move P2P shaping config from bandwidth.sh.in to rahunas.conf.in.

 ChangeLog               | 6 ++++++
 example/bandwidth.sh.in | 7 +++----
 example/rahunas.conf.in | 2 ++
 3 files changed, 11 insertions(+), 4 deletions(-)

commit 6039434e0eb51730e71d9fa14c221dc798a8bc89
Author: Neutron Soutmun <neo.neutron@gmail.com>
Date:   Tue Mar 17 13:57:36 2009 +0700

    Fix the wrong rules, really allow Bittorrent user

    2009-03-17  Neutron Soutmun <neo.neutron@gmail.com>

    	* example/firewall.sh.in: Fix the allow ip list could not using Bittorrent due	  to the wrong rules.

 ChangeLog              | 4 ++++
 example/firewall.sh.in | 5 +----
 2 files changed, 5 insertions(+), 4 deletions(-)

commit 33c75887eef8c5ffefe745cc30381c6e7e5e4a3d
Author: Neutron Soutmun <neo.neutron@gmail.com>
Date:   Tue Mar 17 13:20:05 2009 +0700

    Fix the copyright year

    2009-03-17  Neutron Soutmun <neo.neutron@gmail.com>

    	* weblogin/*.php: Fix the copyright year from 2007-2008 to 2008-2009,
    	  crazy me forgot even the year.
    	* weblogin/squid_helper.php: Add the license text as same as the whole
    	  project.

 ChangeLog                      |  7 +++++++
 weblogin/config.php            |  2 +-
 weblogin/header.php            |  2 +-
 weblogin/index.php             |  2 +-
 weblogin/locale.php            |  2 +-
 weblogin/login.php             |  2 +-
 weblogin/logout.php            |  2 +-
 weblogin/messages.php          |  2 +-
 weblogin/rahu_dictionary.php   |  2 +-
 weblogin/rahu_radius.class.php |  2 +-
 weblogin/rahu_xmlrpc.class.php |  2 +-
 weblogin/squid_helper.php      | 31 +++++++++++++++++++++++++++++++
 weblogin/xmlrpc_service.php    |  2 +-
 13 files changed, 49 insertions(+), 11 deletions(-)

commit a09e08a351364229050df06a3c87d7871cb018e6
Author: Neutron Soutmun <neo.neutron@gmail.com>
Date:   Tue Mar 17 13:09:47 2009 +0700

    Add squid helper to get the username

    2009-03-17  Neutron Soutmun <neo.neutron@gmail.com>

    	* weblogin/squid_helper.php:
    	  - Add squid helper to get the username from rahunasd via XMLRPC,
    	    using the squid external_acl_type config option to archeive the point.

 ChangeLog                 |  6 ++++++
 weblogin/squid_helper.php | 44 ++++++++++++++++++++++++++++++++++++++++++++
 2 files changed, 50 insertions(+)

commit d7c24ae802e2ce208d63e02030041791f845b00f
Author: Neutron Soutmun <neo.neutron@gmail.com>
Date:   Tue Mar 17 12:54:32 2009 +0700

    Add bittorrent allow list support

    2009-03-17  Neutron Soutmun <neo.neutron@gmail.com>

    	* example/firewall.sh.in, example/rahunas.conf.in:
    	  - Add the bittorrent allow list in config file and according support
    	    firewall script

 ChangeLog               |  6 ++++++
 example/firewall.sh.in  | 34 +++++++++++++++++++++++++++++++---
 example/rahunas.conf.in |  1 +
 3 files changed, 38 insertions(+), 3 deletions(-)

commit c27325e7c0b6d282b36f307b6d4eda0d9ca42531
Author: Neutron Soutmun <neo.neutron@gmail.com>
Date:   Thu Mar 12 19:39:22 2009 +0700

    Update TODO list.

    2009-03-12  Neutron Soutmun <neo.neutron@gmail.com>

    	* TODO: Update TODO list.

 ChangeLog | 4 ++++
 TODO      | 1 +
 2 files changed, 5 insertions(+)

commit 9f0c89df4e8415fac95d461caf2a7e18132ef2c4
Author: Neutron Soutmun <neo.neutron@gmail.com>
Date:   Thu Mar 12 19:15:53 2009 +0700

    Remove debian/*,propose upload to debian branch

 debian/changelog                     |   5 --
 debian/compat                        |   1 -
 debian/control                       |  42 -----------
 debian/copyright                     |  29 --------
 debian/examples/config.php           |  21 ------
 debian/examples/rahunas.conf         | 100 --------------------------
 debian/rahunas-weblogin.apache2.conf |  56 ---------------
 debian/rahunas-weblogin.docs         |   1 -
 debian/rahunas-weblogin.postinst     |  47 -------------
 debian/rahunas-weblogin.postrm       |  60 ----------------
 debian/rahunas.default               |   8 ---
 debian/rahunas.docs                  |   3 -
 debian/rahunas.init                  |  76 --------------------
 debian/rahunas.logrotate             |  13 ----
 debian/rahunas.postinst              |  17 -----
 debian/rahunas.postrm                |  18 -----
 debian/rules                         | 132 -----------------------------------
 debian/watch                         |   2 -
 18 files changed, 631 deletions(-)

commit d8fb0a8cd1934f72dea14e2261ca2a63b50ede06
Merge: 44f56b1 9820572
Author: Neutron Soutmun <neo.neutron@gmail.com>
Date:   Thu Mar 12 19:08:02 2009 +0700

    Merge branch 'upstream'

commit 982057252e0147f034019e855ae8d9b85358c5dd
Author: Neutron Soutmun <neo.neutron@gmail.com>
Date:   Thu Mar 12 19:04:57 2009 +0700

    Add the license text, BSD License to PHP code.

    2009-03-12  Neutron Soutmun <neo.neutron@gmail.com>

    	* weblogin/{config.php, header.php, index.php, locale.php, login.php,
    	  logout.php, messages.php, rahu_dictionary.php, rahu_radius.class.php,
    	  rahu_xmlrpc.class.php, xmlrpc_service.php}:
    	  - Add the license text, consider to use the BSD License to respect the PHP
    	    and PEAR community.
    	  - Beautify the code by remove unnecessary leading spaces to conform the
    	    code style of the whole project.

 ChangeLog                      |  10 +++
 weblogin/config.php            |  32 ++++++++++
 weblogin/header.php            |  32 ++++++++++
 weblogin/index.php             |  32 ++++++++++
 weblogin/locale.php            | 138 +++++++++++++++++++++++++----------------
 weblogin/login.php             |  32 ++++++++++
 weblogin/logout.php            |  32 ++++++++++
 weblogin/messages.php          |  32 ++++++++++
 weblogin/rahu_dictionary.php   |  80 +++++++++++++++++-------
 weblogin/rahu_radius.class.php |  36 +++++++++++
 weblogin/rahu_xmlrpc.class.php |  35 +++++++++++
 weblogin/xmlrpc_service.php    |  32 ++++++++++
 12 files changed, 446 insertions(+), 77 deletions(-)

commit 44f56b156a1e8c8a8f266b53c0cc6f0ea4f97c98
Author: Neutron Soutmun <neo.neutron@gmail.com>
Date:   Wed Feb 25 03:36:03 2009 +0700

    Initial import debian/ into repository

 debian/changelog                     |   5 ++
 debian/compat                        |   1 +
 debian/control                       |  42 +++++++++++
 debian/copyright                     |  29 ++++++++
 debian/examples/config.php           |  21 ++++++
 debian/examples/rahunas.conf         | 100 ++++++++++++++++++++++++++
 debian/rahunas-weblogin.apache2.conf |  56 +++++++++++++++
 debian/rahunas-weblogin.docs         |   1 +
 debian/rahunas-weblogin.postinst     |  47 +++++++++++++
 debian/rahunas-weblogin.postrm       |  60 ++++++++++++++++
 debian/rahunas.default               |   8 +++
 debian/rahunas.docs                  |   3 +
 debian/rahunas.init                  |  76 ++++++++++++++++++++
 debian/rahunas.logrotate             |  13 ++++
 debian/rahunas.postinst              |  17 +++++
 debian/rahunas.postrm                |  18 +++++
 debian/rules                         | 132 +++++++++++++++++++++++++++++++++++
 debian/watch                         |   2 +
 18 files changed, 631 insertions(+)

commit 20d320c0bd3c5422cf526cb9b249a1ae52a76652
Merge: e29b312 358103f
Author: Neutron Soutmun <neo.neutron@gmail.com>
Date:   Thu Feb 12 10:21:55 2009 +0700

    Merge branch 'branch-0.1.1'

commit 358103f81b27d2046409a2c75e920b66c49cf2c1
Author: Neutron Soutmun <neo.neutron@gmail.com>
Date:   Thu Feb 12 10:20:23 2009 +0700

    Fix firewall.sh.in, iptables 1.4.2+ warning

    2009-02-12  Neutron Soutmun <neo.neutron@gmail.com>

    	* example/firewall.sh.in:
    		- Fix the iptables-1.4.2 and/or later warning of the using filter rules
    	    ACCEPT, DROP, REJECT in the nat table by move and adjust the filter rules
    			in nat table to the filter table (INPUT).
    		- Remove the "set -e" from script to let the script running even though the
    		  script has some errors. (prevent the unpredictable event when the new
    			user table was added)

 ChangeLog              | 10 ++++++++++
 example/firewall.sh.in | 25 ++++++++++++-------------
 2 files changed, 22 insertions(+), 13 deletions(-)

commit e29b312b6a7fdf230b7f8f6bbd941f343ff281b4
Author: Neutron Soutmun <neo.neutron@gmail.com>
Date:   Mon Feb 9 19:36:03 2009 +0700

    Bump version to 0.1.2

    2009-02-09  Neutron Soutmun <neo.neutron@gmail.com>

    	* configure.ac: Bump version to 0.1.2 (forgot for a long time)

 ChangeLog    | 4 ++++
 configure.ac | 2 +-
 2 files changed, 5 insertions(+), 1 deletion(-)

commit f507faf0f99419fa9ddcbfcb4fe5807a5bb95641
Author: Neutron Soutmun <neo.neutron@gmail.com>
Date:   Mon Feb 9 19:30:04 2009 +0700

    Redesign firewall and bandwidth scripts

    2009-02-09  Neutron Soutmun <neo.neutron@gmail.com>

    	* example/{bandwidth,firewall}.sh.in:
    		- Redesign the firewall rules and the bandwidth management to support the
    		  bandwidth of the network interface.
    		- Reduce the bandwidth slots from 9998 to 9900, 100 slots approximately,
    		  reserved for the other purposes than the users bandwidth shapping.
    	* src/rh-task-bandwidth.c: Reduce the maximum slots respectively to
    		  new changes.

 ChangeLog               |  10 +++++
 example/bandwidth.sh.in | 115 ++++++++++++++++++++++++++++++++++++------------
 example/firewall.sh.in  | 100 ++++++++++++++++++++++++++++++++++-------
 src/rh-task-bandwidth.c |   4 +-
 4 files changed, 184 insertions(+), 45 deletions(-)

commit 02cfe2c709890e5818fa7cf3e5777d20e5003603
Author: Neutron Soutmun <neo.neutron@gmail.com>
Date:   Thu Jan 29 22:30:31 2009 +0700

    New upstream release 0.2.0 of liblcfg, updated

    2009-01-29  Neutron Soutmun <neo.neutron@gmail.com>

    	* lcfg/lcfg_static.{h,c}: New upstream release 0.2.0 of liblcfg.

 ChangeLog          |   6 +-
 lcfg/lcfg_static.c | 281 ++++++++++++++++++++++++++++++++++++++++++++++++-----
 lcfg/lcfg_static.h |  64 +++++++++++-
 3 files changed, 325 insertions(+), 26 deletions(-)

commit 7dc3e62a6d30fae802d0b101d0f3f2e07cd63199
Author: Neutron Soutmun <neo.neutron@gmail.com>
Date:   Tue Jan 27 13:34:30 2009 +0700

    Add the XMLRPC interface for admin to reset user

    2008-01-27  Neutron Soutmun <neo.neutron@gmail.com>

    	* src/rh-task-memset.c, src/rh-xmlrpc-server.c: Add the XMLRPC interface for
    	  admin to reset user and other termination cuase support by parsing cause id.
    	* weblogin/rahu_xmlrpc.class.php, weblogin/logout.php:
    	  Implement the new XMLRPC interface changes.

 ChangeLog                      |  7 +++++++
 src/rh-task-memset.c           |  6 ++++++
 src/rh-xmlrpc-server.c         | 17 ++++++++++++++++-
 weblogin/logout.php            |  3 ++-
 weblogin/rahu_xmlrpc.class.php |  5 +++--
 5 files changed, 34 insertions(+), 4 deletions(-)

commit 0772fb869e567701fad27ed2924e1da6d3694429
Author: Suriya Soutmun <darksolar@gmail.com>
Date:   Wed Jan 7 19:39:18 2009 +0700

    Distribute whole weblogin dir

    2009-01-07  Suriya Soutmun <darksolar@gmail.com>

    	* configure.ac, Makefile.am: Add weblogin to EXTRA_DIST to distribute the
    		whole weblogin dir.
    	* -weblogin/Makfile.am: Removed unnecessary now.

 ChangeLog            |  6 ++++++
 Makefile.am          |  3 ++-
 configure.ac         |  1 -
 weblogin/Makefile.am | 53 ----------------------------------------------------
 4 files changed, 8 insertions(+), 55 deletions(-)

commit 66759a6a84157bea8ee3eaf8ad64daebf113d974
Author: Neutron Soutmun <neo.neutron@gmail.com>
Date:   Tue Dec 9 17:49:18 2008 +0700

    Include the weblogin files in tarball

    2008-12-09  Neutron Soutmun <neo.neutron@gmail.com>

    	* weblogin/Makefile.am: Change my mind, do not install weblogin only
    	  distribute it in the tarball.

 ChangeLog            |  5 ++++
 weblogin/Makefile.am | 64 ++++++++++++++++++++++++++++++++++++++++++----------
 2 files changed, 57 insertions(+), 12 deletions(-)

commit 8606d15e50a6814125c2f90f840168f1da9b5186
Author: Neutron Soutmun <neo.neutron@gmail.com>
Date:   Tue Dec 9 17:21:01 2008 +0700

    Rewrite weblogin/Makefile.am to install properly

    2008-12-09  Neutron Soutmun <neo.neutron@gmail.com>

    	* weblogin/Makefile.am: Rewrite makefile to install weblogin properly.

 ChangeLog            |  4 ++++
 weblogin/Makefile.am | 62 +++++++++-------------------------------------------
 2 files changed, 14 insertions(+), 52 deletions(-)

commit d6db53dc311feecf9e867baf36c82ee00a842bd1
Author: Neutron Soutmun <neo.neutron@gmail.com>
Date:   Tue Dec 9 16:50:19 2008 +0700

    Revert "Change from EXTRA_DIST to noinst_HEADERS"

    This reverts commit c3bf8f84778287cb5ea752b99f2dfa3180b8a5b3.

 ChangeLog            | 5 -----
 weblogin/Makefile.am | 8 ++++++--
 2 files changed, 6 insertions(+), 7 deletions(-)

commit c3bf8f84778287cb5ea752b99f2dfa3180b8a5b3
Author: Neutron Soutmun <neo.neutron@gmail.com>
Date:   Tue Dec 9 16:25:01 2008 +0700

    Change from EXTRA_DIST to noinst_HEADERS

    2008-12-09  Neutron Soutmun <neo.neutron@gmail.com>

    	* weblogin/Makefile.am: Change from EXTRA_DIST to noinst_HEADERS which only
    	  pack it in the distribution tarball, do not install it anyway.

 ChangeLog            | 5 +++++
 weblogin/Makefile.am | 8 ++------
 2 files changed, 7 insertions(+), 6 deletions(-)

commit d6e2759a76fe6d5284862de4686c62ad39697615
Author: Neutron Soutmun <neo.neutron@gmail.com>
Date:   Tue Dec 9 15:21:47 2008 +0700

    Add weblogin/Makefile.am to install with package

    2008-12-09  Neutron Soutmun <neo.neutron@gmail.com>

    	* +weblogin/Makefile.am: Add makefile for weblogin to install with package.
    	* configure.ac, Makefile.am: Update accordingly to weblogin/Makefile.am.
    	* NEWS: Change release date to 2008-12-09 due to forgot to install weblogin.

 ChangeLog            |  6 ++++++
 Makefile.am          |  2 +-
 NEWS                 |  2 +-
 configure.ac         |  1 +
 weblogin/Makefile.am | 55 ++++++++++++++++++++++++++++++++++++++++++++++++++++
 5 files changed, 64 insertions(+), 2 deletions(-)

commit 1e9d893a4cea2d3af765e9272d8fc67be5add0af
Author: Neutron Soutmun <neo.neutron@gmail.com>
Date:   Wed Dec 3 21:39:51 2008 +0700

    Update NEWS, TODO and released

    2008-12-03  Neutron Soutmun <neo.neutron@gmail.com>

    	* -INSTALL: Drop file the automake --add-missing will create it automatically.
    	* +TODO: Add TODO list.
    	* NEWS: Update the 0.1.1 released.

 ChangeLog |  6 ++++++
 INSTALL   |  0
 NEWS      | 29 +++++++++++++++++++++++++++++
 TODO      |  3 +++
 4 files changed, 38 insertions(+)

commit ced0165ec003f62981e745e2eac2ee6dc380680c
Author: Neutron Soutmun <neo.neutron@gmail.com>
Date:   Wed Dec 3 19:59:07 2008 +0700

    Carefully handle the signal, exit gracefully

    2008-12-03  Neutron Soutmun <neo.neutron@gmail.com>

    	* src/rahunasd.c: Fix the malfunction rh_sighandler(), handle only SIGTERM and
    	  adjust the code to let the program really exit gracefully.

 ChangeLog      |  5 +++++
 src/rahunasd.c | 31 +++++++++++++++----------------
 2 files changed, 20 insertions(+), 16 deletions(-)

commit 77b34156955024e8dac2efd5943a48eea9bfa23f
Author: Neutron Soutmun <neo.neutron@gmail.com>
Date:   Wed Dec 3 17:33:24 2008 +0700

    Fix the worst case kill process pid < 0

    2008-12-03  Neutron Soutmun <neo.neutron@gmail.com>

    	* src/rahunasd.c: Fix the worst case that the pid < 0 (fail) is parsed into
    	  the rh_sighandler() which the program must ignore this trigger.

 ChangeLog      | 5 +++++
 src/rahunasd.c | 6 +++---
 2 files changed, 8 insertions(+), 3 deletions(-)

commit 4590221e844df7e6c86b4cba54a71486a71f14fd
Author: Neutron Soutmun <neo.neutron@gmail.com>
Date:   Wed Dec 3 16:28:13 2008 +0700

    Use :retab to conver tab to 2 spaces

    2008-12-03  Neutron Soutmun <neo.neutron@gmail.com>

    	* src/rahunasd.{c,h}, src/rh-config.h, src/rh-ipset.{c,h},
    	  src/rh-task-ipset.c, src/rh-task-memset.c, src/rh-task.h,
    	  src/rh-xmlrpc-cmd.c, src/rh-xmlrpc-server.{c,h}:
    	  Use :retab to convert tab to 2 spaces.

 ChangeLog              |   7 ++
 src/rahunasd.c         | 239 ++++++++++++++++++++++++-------------------------
 src/rahunasd.h         |  14 +--
 src/rh-config.h        |   6 +-
 src/rh-ipset.c         | 200 ++++++++++++++++++++---------------------
 src/rh-ipset.h         |  64 ++++++-------
 src/rh-task-ipset.c    |   2 +-
 src/rh-task-memset.c   |  26 +++---
 src/rh-task.h          |   2 +-
 src/rh-xmlrpc-cmd.c    |  26 +++---
 src/rh-xmlrpc-server.c | 122 ++++++++++++-------------
 src/rh-xmlrpc-server.h |  18 ++--
 12 files changed, 366 insertions(+), 360 deletions(-)

commit b0eb270e37f52bae3060da805a0ca264ede0b6ae
Author: Neutron Soutmun <neo.neutron@gmail.com>
Date:   Mon Dec 1 09:57:59 2008 +0700

    Fix example/firewall.sh.in, excluded ip not work

    2008-12-01  Neutron Soutmun <neo.neutron@gmail.com>

    	* example/firewall.sh.in:
    	  - Fix the syntax error in excluded ip rules.
    	  - Fix the malfunction of whitespace trim in the get_config_value() by
    	    only left and right trim rather than trim every whitespace. This error
    	    affect the excluded value which have many values whitespace separated.
    	  - Fix $N malform declaration cause of the Usage message never show.

 ChangeLog              |  9 +++++++++
 example/firewall.sh.in | 12 ++++++------
 2 files changed, 15 insertions(+), 6 deletions(-)

commit 336404817c988958d3bf96e039e214a681bd48d0
Author: Neutron Soutmun <neo.neutron@gmail.com>
Date:   Fri Nov 28 02:30:12 2008 +0700

    Add default language setting for weblogin

    2008-11-28  Neutron Soutmun <neo.neutron@gmail.com>

    	* weblogin/config.php, weblogin/locale.php: Add default language setting.

 ChangeLog           | 4 ++++
 weblogin/config.php | 1 +
 weblogin/locale.php | 5 +++++
 3 files changed, 10 insertions(+)

commit 4d2c06ee915febc5138d22096dc2708ffda8fd35
Author: Neutron Soutmun <neo.neutron@gmail.com>
Date:   Fri Nov 28 01:52:54 2008 +0700

    Fix mem free, replace free() with rh_free()

    2008-11-28  Neutron Soutmun <neo.neutron@gmail.com>

    	* src/rh-ipset.c: Fix mem free by replace free() with rh_free() for the
    	  variable allocated memory by rh_malloc() which prevent the double free.

 ChangeLog      |  5 +++++
 src/rh-ipset.c | 16 +++++++++-------
 2 files changed, 14 insertions(+), 7 deletions(-)

commit 1ed397241d9ed1ddd03b3b508165a5993c045e9c
Author: Neutron Soutmun <neo.neutron@gmail.com>
Date:   Fri Nov 28 00:58:34 2008 +0700

    Add multilingual weblogin, adjust rahunas template

    2008-11-28  Neutron Soutmun <neo.neutron@gmail.com>

    	* weblogin/locale.php, weblogin/locale/*, +weblogin/messages.php,
    	  weblogin/login.php, weblogin/logout.php:
    	  Add multilingual weblogin base on PHP gettext, now supported languages are
    	  Thai and English.
    	* weblogin/loading.gif, weblogin/note.txt:
    	  Change the loading animation picture which now is the hourclass spinning
    	  downloaded from www.clipartpoint.com. (Free to use it on website)
    	* -weblogin/rahu-{loading,waiting}.gif: Remove unused pictures.
    	* weblogin/templates/*/rahunas.css: Add new customized CSS for each template
    	  which now can customized independently from the core.
    	* weblogin/templates/rahunas/rahunas.html: Adjust the rahunas template.

 ChangeLog                                     |  14 ++++
 weblogin/index.php                            |  13 ++-
 weblogin/loading.gif                          | Bin 10833 -> 25156 bytes
 weblogin/locale.php                           |  59 +++++++++++++
 weblogin/locale/messages.po                   | 105 +++++++++++++++++++++++
 weblogin/locale/th_TH/LC_MESSAGES/messages.mo | Bin 0 -> 2988 bytes
 weblogin/locale/th_TH/LC_MESSAGES/messages.po | 107 ++++++++++++++++++++++++
 weblogin/login.php                            | 116 +++++++++++++-------------
 weblogin/logout.php                           | 115 +++++++++++--------------
 weblogin/messages.php                         |  20 +++++
 weblogin/note.txt                             |   2 +
 weblogin/rahu-loading.gif                     | Bin 4208 -> 0 bytes
 weblogin/rahu-waiting.gif                     | Bin 4051 -> 0 bytes
 weblogin/templates/kkulogin/rahunas.css       |  39 +++++++++
 weblogin/templates/kkuwifi/rahunas.css        |  39 +++++++++
 weblogin/templates/rahunas/rahunas.css        |  39 +++++++++
 weblogin/templates/rahunas/rahunas.html       |   2 +-
 17 files changed, 544 insertions(+), 126 deletions(-)

commit 3ae1e3374e1d38f56fc35eb9d5b7d582abb7824a
Author: Neutron Soutmun <neo.neutron@gmail.com>
Date:   Thu Nov 27 16:30:09 2008 +0700

    Adjust weblogin config and beautify php code

    2008-11-27  Neutron Soutmun <neo.neutron@gmail.com>

    	* weblogin/config.php:
    	  - Adjust the weblogin config value to satisfy the default settings of
    	    RahuNAS.
    	  - Set rahunas theme to be default theme.
    	* weblogin/{indedx,login,logout}.php,
    	  weblogin/{rahu_radius.class,rahu_xmlrpc.class,xmlrpc_service}.php:
    	  - Convert tab to 2 spaces (Beautify code for text editor compatibility).

 ChangeLog                      |  10 ++
 weblogin/config.php            |  26 ++---
 weblogin/index.php             |   2 +-
 weblogin/login.php             |  74 +++++++-------
 weblogin/logout.php            |  70 ++++++-------
 weblogin/rahu_radius.class.php | 220 ++++++++++++++++++++---------------------
 weblogin/rahu_xmlrpc.class.php |  72 +++++++-------
 weblogin/xmlrpc_service.php    |  28 +++---
 8 files changed, 256 insertions(+), 246 deletions(-)

commit b4a26aabb88b85808593bdd8ad8a81533ec24a36
Author: Neutron Soutmun <neo.neutron@gmail.com>
Date:   Thu Nov 27 15:56:06 2008 +0700

    Adjust example/* to autogenerated on build time

    2008-11-27  Neutron Soutmun <neo.neutron@gmail.com>

    	* -example/rahunas.{default,init,conf}, -example/{firewall,bandwidth}.sh
    	  +example/rahunas.{default,init,conf}.in,
    	  +example/{firewall,bandwidth}.sh.in:
    	  - Raname the wrapper script and example config files to .in which all of
    	    them will be autogenerated on build time with the respective prefix path.
    	* configure.ac: Add the files above to AC_CONFIG_FILES.

 ChangeLog                  |   9 +
 configure.ac               |   5 +
 example/bandwidth.sh       | 155 -----------------
 example/bandwidth.sh.in    | 158 ++++++++++++++++++
 example/firewall.sh        | 399 --------------------------------------------
 example/firewall.sh.in     | 404 +++++++++++++++++++++++++++++++++++++++++++++
 example/rahunas.conf       | 100 -----------
 example/rahunas.conf.in    | 100 +++++++++++
 example/rahunas.default    |   8 -
 example/rahunas.default.in |   8 +
 example/rahunas.init       |  76 ---------
 example/rahunas.init.in    |  79 +++++++++
 12 files changed, 763 insertions(+), 738 deletions(-)

commit 907730d5f0a9b31441da6f7b449d91a67e92b7d1
Author: Neutron Soutmun <neo.neutron@gmail.com>
Date:   Thu Nov 27 02:11:40 2008 +0700

    Add the liblcfg to handle config file

    2008-11-27  Neutron Soutmun <neo.neutron@gmail.com>

    	[ Suriya Soutmun ]
    	* +lcfg/lcfg_static.{h,c}, +lcfg/Makefile.am, +src/rh-config.c,
    	  src/rahunasd.{h,c}:
    	  Add liblcfg and their implementation to satisfy RahuNAS requirement.
    	* Makefile.am, configure.ac, src/Makefile.am:
    	  Add the lcfg and their implementation to build config and makefile.

    	[ Neutron Soutmun ]
    	* +example/rahunas.conf: Add example config file.
    	* -example/rahunas.firewall, -example/rahunas.bandwidth,
    	  +example/firewall.sh, +example/bandwidth.sh:
    	  - Rename the wrapper script.
    	  - Adjust the firewall.sh to satisfy the config implementation.
    	* example/rahunas.default:
    	  Remove the parts the moved to the config file.
    	* src/rh-ipset.c, src/rh-task-ipset.c, src/rh-xmlrpc-cmd.c:
    	  Update accordingly to new config implementation.

 ChangeLog                 |   20 +
 Makefile.am               |    2 +-
 configure.ac              |    1 +
 example/bandwidth.sh      |  155 ++++++
 example/firewall.sh       |  399 +++++++++++++++
 example/rahunas.bandwidth |  155 ------
 example/rahunas.conf      |  100 ++++
 example/rahunas.default   |   55 +--
 example/rahunas.firewall  |  374 --------------
 lcfg/Makefile.am          |    3 +
 lcfg/lcfg_static.c        | 1209 +++++++++++++++++++++++++++++++++++++++++++++
 lcfg/lcfg_static.h        |   55 +++
 src/Makefile.am           |    6 +-
 src/rahunasd.c            |   19 +-
 src/rahunasd.h            |    1 +
 src/rh-config.c           |   77 +++
 src/rh-config.h           |   43 +-
 src/rh-ipset.c            |    4 +-
 src/rh-task-ipset.c       |    6 +-
 src/rh-xmlrpc-cmd.c       |    5 +-
 20 files changed, 2075 insertions(+), 614 deletions(-)

commit 0cb7b249ab7bbd9c8135bf3302e8faae6ec53066
Author: Neutron Soutmun <neo.neutron@gmail.com>
Date:   Wed Nov 26 14:22:20 2008 +0700

    Fix the malfunction filter deleting

    2008-11-26  Neutron Soutmun <neo.neutron@gmail.com>

    	* example/rahunas.bandwidth: Fix the script delete all filters rather than
    	  the specified flowid.

 ChangeLog                 |  5 +++++
 example/rahunas.bandwidth | 10 ++++++----
 2 files changed, 11 insertions(+), 4 deletions(-)

commit 2b289a2e6753f91b7e66243147a1ac6f27f93e03
Author: Neutron Soutmun <neo.neutron@gmail.com>
Date:   Wed Nov 26 12:11:35 2008 +0700

    Move rahunas.* wrapper scripts to example dir

    2008-11-26  Neutron Soutmun <neo.neutron@gmail.com>

    	* -rahunas.{init,default,firewall,bandwidth},
    	  +example/rahunas.{init,default,firewall,bandwidth}:
    	  Move rahunas.* wrapper scripts to example dir.

 ChangeLog                 |   6 +
 example/rahunas.bandwidth | 153 +++++++++++++++++++
 example/rahunas.default   |  59 ++++++++
 example/rahunas.firewall  | 374 ++++++++++++++++++++++++++++++++++++++++++++++
 example/rahunas.init      |  76 ++++++++++
 rahunas.bandwidth         | 153 -------------------
 rahunas.default           |  59 --------
 rahunas.firewall          | 374 ----------------------------------------------
 rahunas.init              |  76 ----------
 9 files changed, 668 insertions(+), 662 deletions(-)

commit e55edf4bb72502279c7404db4f9f73d9b33015fb
Author: Neutron Soutmun <neo.neutron@gmail.com>
Date:   Wed Nov 26 12:05:42 2008 +0700

    Remove old RAHUNAS_VERSION definition

    2008-11-26  Neutron Soutmun <neo.neutron@gmail.com>

    	* configure.ac: Remove old RAHUNAS_VERSION which now replaced by
    	  AC_SUBST(RAHUNAS_VERSION, major.minor.micro).

 ChangeLog    | 5 +++++
 configure.ac | 1 -
 2 files changed, 5 insertions(+), 1 deletion(-)

commit 83ebe9bc38aa3fa85605831531071e3546adc32c
Author: Neutron Soutmun <neo.neutron@gmail.com>
Date:   Tue Nov 25 20:19:36 2008 +0700

    Add bandwidth shaping support

    2008-11-25  Neutron Soutmun <neo.neutron@gmail.com>

    	* rahunas.default:
    	  Add bandwidth shaping support by using the IMQ and iproute2.
    	* rahunas.firewall:
    	  Adjust to prevent the re-init firewall that cause the failure on the
    		stop process.
    	* rahunas.init:
    	  Adjust the firewall script caller.
    	* +rahunas.bandwidth: Add the rahunas bandwidth wrapper script.

    	* src/rh-task-bandwidth.{h,c}: Add bandwidth shaping task which response to
    	  the WISPr-Bandwidth-Max-{Up,Down} that reply from RADIUS.
    	* src/rahunasd.h: Add bandwidth_slot_id into members structure.
    	* src/rh-task-dbset.c:
    	  - Add bandwidth_* into dbset_row structure.
    	  - Add insert, fetch and restore code of bandwidth_* from DB into dbset_row
    	    structure.
    	  - Change task priority to 10. (Lowest priority now).
    	* src/rh-task-ipset.c:
    	  Change task priority to 30.
    	* src/rh-task-memset.c:
    	  Change task priority to 40. (Highest priority).
    	* src/rh-task.c:
    	  Include and register new task, bandwidth task.
    	* src/rh-task.h:
    	  Change the bandwidth_max_* type from long to unsigned long.
    	* src/Makefile.am:
    	  Update accordingly to bandwidth task implementation.
    	* weblogin/logout.php:
    	  Update CSS style for loginbox background.
    	* weblogin/templates/kkulogin/kkulogin.html:
    	  Update KKU-Login template.
    	* data/rahunas.db:
    	  Alter the schema of dbset table to support bandwidth fields.

 ChangeLog                                 |  36 ++++
 data/rahunas.db                           | Bin 3072 -> 3072 bytes
 rahunas.bandwidth                         | 153 ++++++++++++++
 rahunas.default                           |   4 +
 rahunas.firewall                          |  26 ++-
 rahunas.init                              |   9 +-
 src/Makefile.am                           |   2 +
 src/rahunasd.h                            |   1 +
 src/rh-task-bandwidth.c                   | 331 ++++++++++++++++++++++++++++++
 src/rh-task-bandwidth.h                   |  11 +
 src/rh-task-dbset.c                       |  35 +++-
 src/rh-task-ipset.c                       |   2 +-
 src/rh-task-memset.c                      |   2 +-
 src/rh-task.c                             |   3 +
 src/rh-task.h                             |   4 +-
 weblogin/logout.php                       |   2 +-
 weblogin/templates/kkulogin/kkulogin.html |   4 +
 17 files changed, 610 insertions(+), 15 deletions(-)

commit 15a4e97807a23ec22dfeb0542aaa28728b689716
Author: Neutron Soutmun <neo.neutron@gmail.com>
Date:   Thu Nov 20 16:37:09 2008 +0700

    Add excluded IP support

    2008-11-20  Neutron Soutmun <neo.neutron@gmail.com>

    	* rahunas.firewall: Add excluded IP support.

 ChangeLog        |  4 ++++
 rahunas.firewall | 26 +++++++++++++++++++-------
 2 files changed, 23 insertions(+), 7 deletions(-)

commit 8f099d6cf204334522362a8eef3adb5e07f688cc
Author: Neutron Soutmun <neo.neutron@gmail.com>
Date:   Wed Nov 19 02:16:17 2008 +0700

    Fixed half-close socket in rh-xmlrpc-cmd

    2008-11-19  Neutron Soutmun <neo.neutron@gmail.com>

    	* src/rh-xmlrpc-cmd.c: Fixed half-close socket, cause of the socket stay in
    	  the CLOSE_WAIT state (TCP resources starvation by mistake - forgot to close
    	  the socket).

 ChangeLog           |  6 ++++++
 src/rh-xmlrpc-cmd.c | 22 ++++++++++++----------
 2 files changed, 18 insertions(+), 10 deletions(-)

commit 2aec40fdd60728ab45ce2a606bca16ff903d96ae
Author: Neutron Soutmun <neo.neutron@gmail.com>
Date:   Tue Nov 18 17:37:52 2008 +0700

    Fix syslog flooding by shutdown() socket error

    2008-11-18  Neutron Soutmun <neo.neutron@gmail.com>

    	* src/rh-ipset.c:
    	  Do not warning in syslog when the shutdown() and close() socket, fix syslog 	  flooding.

 ChangeLog      |  5 +++++
 src/rh-ipset.c | 14 ++++----------
 2 files changed, 9 insertions(+), 10 deletions(-)

commit 59d8d7c52024d97ae04580a3b24782eaf370fa15
Author: Neutron Soutmun <neo.neutron@gmail.com>
Date:   Fri Nov 14 11:10:33 2008 +0700

    Fixed too many open files and session-timeout

    2008-11-14  Neutron Soutmun <neo.neutron@gmail.com>

    	* src/rh-ipset.c:
    	  Fixed the too many open files due to the uncleanly close sockets.
    	* src/rh-task-dbset.c:
    	  Fixed the too many open temporary files due to unclosed connections.
    	* src/rh-xmlrpc-server.c:
    	  Fixed the Session-Timeout handler which it does not set the session_timeout
    	  in members data to 0 when the Session-Timeout is not set.

 ChangeLog              | 10 ++++++++++
 src/rh-ipset.c         |  6 ++++++
 src/rh-task-dbset.c    |  6 ++++++
 src/rh-xmlrpc-server.c | 11 +++++++----
 4 files changed, 29 insertions(+), 4 deletions(-)

commit 1896dee479eae5bb18ce876773b3f32ff8f36ade
Author: Neutron Soutmun <neo.neutron@gmail.com>
Date:   Wed Nov 12 12:32:51 2008 +0700

    substring the request url on display in logout.php

    2008-11-12  Neutron Soutmun <neo.neutron@gmail.com>

    	* weblogin/logout.php: Substring the request url to shorten the line
    	  when it length longer than 20 chars.

 ChangeLog           | 5 +++++
 weblogin/logout.php | 3 ++-
 2 files changed, 7 insertions(+), 1 deletion(-)

commit bce70864aab3506a820c9496736a32ff4bf1ec9c
Author: Neutron Soutmun <neo.neutron@gmail.com>
Date:   Tue Nov 11 12:27:38 2008 +0700

    Modify firewall script and add new login template

    2008-11-11  Neutron Soutmun <neo.neutron@gmail.com>

    	* rahunas.{default,firewall}: Add supporting for DHCP and DNS forwarding,
    	  Proxy, Transparent-Proxy and the Natwork Address Translation (Masquerading).
    	* weblogin/templates/rahunas/*: Add new login template for rahunas,
    	  "My inspiration" - featuring by my daughter, "Music".
    	* weblogin/{login,logout}.php: Adjust to support new template.

 ChangeLog                                     |   8 ++
 rahunas.default                               |  38 ++++++--
 rahunas.firewall                              | 122 ++++++++++++++++++++++----
 weblogin/config.php                           |   1 +
 weblogin/login.php                            |   4 +-
 weblogin/logout.php                           |   4 +-
 weblogin/templates/rahunas/images/rahunas.png | Bin 0 -> 160054 bytes
 weblogin/templates/rahunas/images/rahunas.xcf | Bin 0 -> 1276972 bytes
 weblogin/templates/rahunas/rahunas.html       |  48 ++++++++++
 9 files changed, 201 insertions(+), 24 deletions(-)

commit 0d27863e1a2f4901713c95d52945ac881232b58b
Author: Neutron Soutmun <neo.neutron@gmail.com>
Date:   Thu Nov 6 14:15:01 2008 +0700

    Add Session-Timeout support, prepare bandwidth var

    2008-11-06  Neutron Soutmun <neo.neutron@gmail.com>

    	* src/rahunas.{h,c}, src/rh-task-memset.c, rh-task.h, src/rh-xmlrpc-server.c:
    		Add Session-Timeout support

    	* weblogin/login.php, weblogin/logout.php, weblogin/rahu_radius.class.php,
    	  weblogin/rahu_xmlrpc.class.php:
    	  Add Session-Timeout support and prepare the WISPr-Bandwidth-Max-{Down,Up}.

 ChangeLog                      |  9 +++++++++
 src/rahunasd.c                 | 17 ++++++++++++++---
 src/rahunasd.h                 |  3 +++
 src/rh-task-memset.c           |  8 ++++++++
 src/rh-task.h                  |  3 +++
 src/rh-xmlrpc-server.c         | 27 +++++++++++++++++++++++++--
 weblogin/login.php             | 14 +++++++++++---
 weblogin/logout.php            |  8 +++++++-
 weblogin/rahu_dictionary.php   | 26 ++++++++++++++++++++++++++
 weblogin/rahu_radius.class.php | 32 ++++++++++++++++++++++++++------
 weblogin/rahu_xmlrpc.class.php | 12 ++++++++----
 11 files changed, 140 insertions(+), 19 deletions(-)

commit 8aa7b5adf4c77422bc8604ed5dbca5993772cd39
Author: Neutron Soutmun <neo.neutron@gmail.com>
Date:   Mon Nov 3 01:16:16 2008 +0700

    Adjust firewall script for cleanly start and stop

    2008-11-03  Neutron Soutmun <neo.neutron@gmail.com>

    	* rahunas.firewall:
    	  - Adjust the firewall to define new chain for easy start and stop.
    	  - The firewall now cleanly start and stop by do not disturb other rules
    	    than this script done.
    	* rahunas.init: Update respectively to rahunas.firewall changes.

 ChangeLog        |   8 ++
 rahunas.firewall | 291 ++++++++++++++++++++++++++++++++++++++++---------------
 rahunas.init     |  11 ++-
 3 files changed, 229 insertions(+), 81 deletions(-)

commit 82099d441fa7e589a332c3ba630a7faeddf56d57
Author: Neutron Soutmun <neutron@rahunas.kku.net>
Date:   Fri Oct 24 15:47:16 2008 +0700

    Add new ignoremac feature and adjust weblogin.

    2008-10-24  Neutron Soutmun <neo.neutron@gmail.com>

    	* src/rahunasd.h, src/rh-xmlrpc-server.c:
    	  Empty MAC Address now substitute by DEFAULT_MAC (00:00:00:00:00:00) to
    		support the new ignoremac feature (Tested with the OSPF Routing Protocol).

    	* weblogin/config.php, weblogin/index.php, weblogin/login.php,
    	  weblogin/logout.php:
    		- Add supporting for https port number other than default 443.
    		- Default https port for RahuNAS is 8443.

    	* rahunas.firewall:
    	  - Adjust the wrong connmark from 10 to 0x2;
    	  - Remove unnecessary command.

 ChangeLog              | 15 +++++++++++++++
 rahunas.firewall       |  6 ++----
 src/rahunasd.h         |  2 ++
 src/rh-xmlrpc-server.c | 10 ++++++++--
 weblogin/config.php    |  1 +
 weblogin/index.php     |  7 +++----
 weblogin/login.php     |  5 +++--
 weblogin/logout.php    |  6 ++++--
 8 files changed, 38 insertions(+), 14 deletions(-)

commit d1be87500d54c0667874c9b11886b2686413633a
Author: Neutron Soutmun <neo.neutron@gmail.com>
Date:   Thu Oct 16 16:31:42 2008 +0700

    Add the PHP web login

    2008-10-16  Neutron Soutmun <neo.neutron@gmail.com>

    	* +weblogin/*: Add the PHP web login.

 ChangeLog                                      |   4 +
 weblogin/.htaccess                             |   4 +
 weblogin/config.php                            |  18 ++
 weblogin/getmacaddr.php                        |  60 +++++++
 weblogin/header.php                            |   5 +
 weblogin/index.php                             |  45 +++++
 weblogin/loading.gif                           | Bin 0 -> 10833 bytes
 weblogin/login.php                             | 194 ++++++++++++++++++++++
 weblogin/logout.php                            | 218 +++++++++++++++++++++++++
 weblogin/rahu-loading.gif                      | Bin 0 -> 4208 bytes
 weblogin/rahu-waiting.gif                      | Bin 0 -> 4051 bytes
 weblogin/rahu_radius.class.php                 | 206 +++++++++++++++++++++++
 weblogin/rahu_xmlrpc.class.php                 |  65 ++++++++
 weblogin/templates/kkulogin/images/bg.gif      | Bin 0 -> 846 bytes
 weblogin/templates/kkulogin/images/head01.gif  | Bin 0 -> 1329 bytes
 weblogin/templates/kkulogin/images/kku.gif     | Bin 0 -> 10141 bytes
 weblogin/templates/kkulogin/images/tail01.gif  | Bin 0 -> 1347 bytes
 weblogin/templates/kkulogin/kkulogin.html      |  94 +++++++++++
 weblogin/templates/kkuwifi/images/bg_02.jpg    | Bin 0 -> 1451 bytes
 weblogin/templates/kkuwifi/images/bullet01.gif | Bin 0 -> 53 bytes
 weblogin/templates/kkuwifi/images/button02.jpg | Bin 0 -> 2914 bytes
 weblogin/templates/kkuwifi/images/note.jpg     | Bin 0 -> 10039 bytes
 weblogin/templates/kkuwifi/images/w2_01.jpg    | Bin 0 -> 22018 bytes
 weblogin/templates/kkuwifi/images/w2_02.jpg    | Bin 0 -> 49959 bytes
 weblogin/templates/kkuwifi/images/w2_03.jpg    | Bin 0 -> 71529 bytes
 weblogin/templates/kkuwifi/images/w2_04.jpg    | Bin 0 -> 17817 bytes
 weblogin/templates/kkuwifi/kkuwifi.html        | 149 +++++++++++++++++
 weblogin/xmlrpc_service.php                    |  82 ++++++++++
 28 files changed, 1144 insertions(+)

commit bb6aa015dfc870f0dcd29ea031588890999b8013
Author: Neutron Soutmun <neo.neutron@gmail.com>
Date:   Thu Oct 16 16:09:14 2008 +0700

    Add rahunas.init

 rahunas.init | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 4fdd19812ed0468d0560dd0e2b18f804a4c17fc8
Author: Neutron Soutmun <neo.neutron@gmail.com>
Date:   Thu Oct 16 16:06:39 2008 +0700

    Remove unused rahunas.in

    2008-10-16  Neutron Soutmun <neo.neutron@gmail.com>

    	* -rahunas.in: Remove unnecessary.

 ChangeLog  |  4 ++++
 rahunas.in | 68 --------------------------------------------------------------
 2 files changed, 4 insertions(+), 68 deletions(-)

commit de2e0e7903b47c53c601455ed54d78eaa17f6a96
Author: Neutron Soutmun <neo.neutron@gmail.com>
Date:   Thu Oct 16 15:39:43 2008 +0700

    Add data/rahunas.db, changes in ChangeLog.

 ChangeLog       |   6 ++++++
 data/rahunas.db | Bin 3072 -> 3072 bytes
 2 files changed, 6 insertions(+)

commit 1ade179cf87fe3f8aba4862327e0f232e240e0da
Author: Neutron Soutmun <neo.neutron@gmail.com>
Date:   Thu Oct 16 15:33:31 2008 +0700

    Add default config, init and firewall script

    2008-10-16  Neutron Soutmun <neo.neutron@gmail.com>

    	* +rahunas.{init.default,firewall}: Add the support scripts for do the
    	  initialize daemon, firewall and daemon config.
    	* data/rahunas.db: Remove the tested data from db.

 rahunas.default  |  27 +++++++++++++
 rahunas.firewall | 117 +++++++++++++++++++++++++++++++++++++++++++++++++++++++
 rahunas.init     |  68 ++++++++++++++++++++++++++++++++
 3 files changed, 212 insertions(+)

commit f51abe393259f4b3a94cea5d277c2dd5865696ee
Author: Neutron Soutmun <neo.neutron@gmail.com>
Date:   Fri Oct 10 03:26:19 2008 +0700

    Add the database session backups task

    2008-10-10  Neutron Soutmun <neo.neutron@gmail.com>

    	* configure.ac:
    	  - Add the module checking for libgda which require to build the new
    	    database session backups (sqlite3).
    	  - Add the major, minor and micro variables to easy handle the future
    	    version bump.
    	  - Add VERSION and PROGRAM variables which will be used in the core program.
    	  - Add data/Makefile.
    		- Add src/include/linux/netfilter_ipv4/Makefile to include it in the
    		  distribution. (make dist-*)
    	* src/rahunasd.{h,c}: Update the code which using VERSION and PROGRAM
    		  corresponding to the build config.
    	* +data/Makefile.am, +data/rahunas.db, Makefile.am:
    	  Add data dir which now contains sqlite3 db file and update makefile.
    	* +src/rh-task-dbset.{h,c}:
    	  Add the database session backups task.
    	* src/Makefile.am:
    	  - Update corresponding to the new database session backups task.
    	  - Add missing header files to rahunasd_SOURCES which they are not included
    		  in the distribution. (make dist-*)
    	* src/rh-config.h: Define DB_NAME which using by task-dbset.
    	* src/rh-task-ipset.c:
    	  - Update taskprio from 1 to 2 for the appropriate
    	    point of working which now the ipset is the middle priority task.
    	  - Update the positions of the logmsg. (Debuging purpose)
    	* src/rh-task-memset.c:
    	  - Update taskprio from 2 to 3 for the appropriate
    	    point of working which now the memset is the most priority task.
    	  - Update the positions of the logmsg. (Debuging purpose)
    	* src/rh-task.{h,c}:
    	  - Change the way to handle the tasklist from singly linked-list to the
    	    GList from GLib which can handle the forward and backward link. (Doubly
    		  linked-list), the tasks eq. stopservice, stopsess, cleanup need to start
    	    from the least priority first. (Prevent the most significant data in
    	    memset was deleted which will cause the failures of the other tasks that
    			depend on it.
    	  - Update the struct task structure by remove unneeded *next which now we
    	    handle the task list by the GList.
    	* src/rh-xmlrpc-server.c: Move the req.id and req.req_opt to the inner of
    	  the condition checking because of their values not even use if the
    	  conditions are not true.
    	* +src/include/linux/netfilter_ipv4/Makefile.am: Add the header files in this
    	  dir to EXTRA_DIST which they will be distribute in the distribution.

 ChangeLog                                    |  45 +++
 Makefile.am                                  |   2 +-
 configure.ac                                 |  19 +-
 data/Makefile.am                             |   5 +
 data/rahunas.db                              | Bin 0 -> 3072 bytes
 src/Makefile.am                              |  32 +-
 src/include/linux/netfilter_ipv4/Makefile.am |   3 +
 src/rahunasd.c                               |   2 +-
 src/rahunasd.h                               |   2 -
 src/rh-config.h                              |   2 +
 src/rh-task-dbset.c                          | 360 ++++++++++++++++-----
 src/rh-task-ipset.c                          |   6 +-
 src/rh-task-memset.c                         |   5 +-
 src/rh-task.c                                | 147 ++++-----
 src/rh-task.h                                |   5 +-
 src/rh-xmlrpc-server.c                       |   5 +-
 xmlrpc/Makefile.in                           | 448 ---------------------------
 17 files changed, 454 insertions(+), 634 deletions(-)

commit cf90d9f4e60f515ae835451b841ce4df92ca1a34
Author: Neutron Soutmun <neo.neutron@gmail.com>
Date:   Fri Sep 12 18:56:30 2008 +0700

    Add the tasks list concept

    2008-09-12  Neutron Soutmun <neo.neutron@gmail.com>

    	* +src/rh-task-*.{h,c}:
    		- Add the tasks concept of the workers. eg. memset, ipset,
    	    dbset and etc.
    	  - Each tasks provide the function to handle each events,
    			eg. init, start and stop service, start and stop session.
    	* src/rahunas.{h,c}, src/rh-ipset.{h,c}, src/rh-utils.{h,c},
    	  src/rh-xmlrpc-server.c:
    	  Change respectively to new tasks concept and do code beautifier.
    	* +src/rh-config.h: Move the configuration definitions from rahunasd.h.
    	* src/Makefile.am: Change respectively to properly build the tasks concept.
    	* AUTHORS: Add Suriya Soutmun to the author team.

 AUTHORS                |   1 +
 ChangeLog              |  14 +++
 src/Makefile.am        |   5 +-
 src/rahunasd.c         | 263 ++++---------------------------------------------
 src/rahunasd.h         |  26 ++---
 src/rh-config.h        |  27 +++++
 src/rh-ipset.c         |  85 +++++++++++++++-
 src/rh-ipset.h         |   7 ++
 src/rh-task-dbset.c    | 182 ++++++++++++++++++++++++++++++++++
 src/rh-task-dbset.h    |  12 +++
 src/rh-task-ipset.c    | 146 +++++++++++++++++++++++++++
 src/rh-task-ipset.h    |  12 +++
 src/rh-task-memset.c   | 195 ++++++++++++++++++++++++++++++++++++
 src/rh-task-memset.h   |  12 +++
 src/rh-task.c          | 186 ++++++++++++++++++++++++++++++++++
 src/rh-task.h          |  75 ++++++++++++++
 src/rh-utils.c         |   1 +
 src/rh-utils.h         |   1 -
 src/rh-xmlrpc-server.c |  68 ++++---------
 19 files changed, 998 insertions(+), 320 deletions(-)

commit b1bb912de56607e397dd65f43cce29f66f79a172
Author: Neutron Soutmun <neo.neutron@gmail.com>
Date:   Wed Sep 3 01:32:54 2008 +0700

    Child signal handler, radius accounting on reboot

    2008-09-03  Neutron Soutmun <neo.neutron@gmail.com>

    	* src/rahunasd.{h,c}:
    	  - Handle the signal and when child process is stopped or restart,
    	    send the stop accounting to Radius with NAS Reboot code.
    	* +src/rh-radius.h: Add predefined termination code of Radius.
    	* src/rh-xmlrpc-cmd.{h,c}: Change send_xmlrpc_stopacct() API, which provide
    	  the ability to send the cause of the stop accounting.

 ChangeLog           |   9 ++++
 src/rahunasd.c      | 139 ++++++++++++++++++++++++++++++++++------------------
 src/rahunasd.h      |  12 ++++-
 src/rh-radius.h     |  30 ++++++++++++
 src/rh-xmlrpc-cmd.c |  12 +++--
 src/rh-xmlrpc-cmd.h |   3 +-
 6 files changed, 149 insertions(+), 56 deletions(-)

commit 9c2bbecb9759d371e20a8cf371d294767121790a
Author: Neutron Soutmun <neo.neutron@gmail.com>
Date:   Tue Sep 2 20:17:12 2008 +0700

    Add header for rh-{utils,xmlrpc-cmd}

    2008-09-02  Neutron Soutmun <neo.neutron@gmail.com>

    	* src/rh-xmlrpc-cmd.h, src/rh-utils.h: Add header definitions.

 ChangeLog           | 4 ++++
 src/rh-utils.h      | 5 +++++
 src/rh-xmlrpc-cmd.h | 6 +++---
 3 files changed, 12 insertions(+), 3 deletions(-)

commit 2d4b30a1d4c58387ef376326ae78744ea9c49cac
Author: Neutron Soutmun <neo.neutron@gmail.com>
Date:   Tue Sep 2 19:42:51 2008 +0700

    Add xmlrpc client command sender

    2008-09-02  Neutron Soutmun <neo.neutron@gmail.com>

    	* +src/rh-xmlrpc-cmd.{h,c}: Add new xmlrpc client command sender.
    	* src/rahunasd.c: Move the send_xmlrpc_stopacct() code to rh-xmlrpc-cmd.
    	* src/Makefile.am: Update accordingly to new change.

 ChangeLog           |  6 ++++++
 src/Makefile.am     |  1 +
 src/rahunasd.c      | 51 +----------------------------------------------
 src/rh-xmlrpc-cmd.c | 57 +++++++++++++++++++++++++++++++++++++++++++++++++++++
 src/rh-xmlrpc-cmd.h | 11 +++++++++++
 5 files changed, 76 insertions(+), 50 deletions(-)

commit 519335242b7470dc89e5e91d52582195e45396f2
Author: Neutron Soutmun <neo.neutron@gmail.com>
Date:   Mon Sep 1 17:53:20 2008 +0700

    Remove unused functions, memory handler

    2008-09-01  Neutron Soutmun <neo.neutron@gmail.com>

    	* src/rahunasd.c: Remove unnecessary functions.
    	* src/rh-xmlrpc-server.c: Free the allocated memory of the the vars that
    	  calling rh_string_get_sep().

 ChangeLog              |  6 ++++
 src/rahunasd.c         | 88 --------------------------------------------------
 src/rh-xmlrpc-server.c | 33 ++++++++++++-------
 3 files changed, 27 insertions(+), 100 deletions(-)

commit 12686296a0e00688288092cda40598010f20765e
Author: Neutron Soutmun <neo.neutron@gmail.com>
Date:   Sun Aug 31 02:14:57 2008 +0700

    Add utility functions

    2008-08-31  Neutron Soutmun <neo.neutron@gmail.com>

    	* +src/rh-utils.{h,c}: Add new utility functions.
    	* src/rahunasd.{h,c}:
    	  - Move rh_malloc() and rh_free() to rh-utils.
    	  - include file rh-utils.h which now provide rh_{malloc,free}().
    	* src/rh-ipset.c: include file rh-utils.h.
    	* src/rh-xmlrpc-server.c:
    	  - Implement new function rh_string_get_sep() which more clean looking code.
    	* src/Makefile.am: Update accordingly to new change.

 ChangeLog              | 11 ++++++++
 src/Makefile.am        |  3 ++-
 src/rahunasd.c         | 25 +-----------------
 src/rahunasd.h         |  3 ---
 src/rh-ipset.c         |  1 +
 src/rh-utils.c         | 71 ++++++++++++++++++++++++++++++++++++++++++++++++++
 src/rh-utils.h         | 12 +++++++++
 src/rh-xmlrpc-server.c | 50 +++++++----------------------------
 8 files changed, 108 insertions(+), 68 deletions(-)

commit bc408385bb5f639a83ce50f33837671db99b5185
Author: Neutron Soutmun <neo.neutron@gmail.com>
Date:   Mon Aug 25 22:30:47 2008 +0700

    Do close the socket after the ipset request

    2008-08-25  Neutron Soutmun <neo.neutron@gmail.com>

    	* src/rh-ipset.c:
    	  - Shutdown will not close the socket after finish the request,
    	    try close() to done.

 ChangeLog      | 6 ++++++
 src/rh-ipset.c | 6 ++++--
 2 files changed, 10 insertions(+), 2 deletions(-)

commit 494c48e9eb92df77541776b33e66985a9c03ab47
Author: Neutron Soutmun <neo.neutron@gmail.com>
Date:   Sat Aug 23 13:02:57 2008 +0700

    Shutdown the socket after ipset request

    2008-08-23  Neutron Soutmun <neo.neutron@gmail.com>

    	* src/rh-ipset.c:
    	  - Shutdown the socket after finish the request.
    	  - Log the errno of the failure of the kernel_getsocket() to syslog for
    	    later debuging.

 ChangeLog      | 7 +++++++
 src/rh-ipset.c | 8 ++++++--
 2 files changed, 13 insertions(+), 2 deletions(-)

commit 6f9f304b9690532266b69b538e784f628345f213
Author: Neutron Soutmun <neo.neutron@gmail.com>
Date:   Sat Aug 23 02:55:53 2008 +0700

    Fix try to open the socket until over limit

    2008-08-23  Neutron Soutmun <neo.neutron@gmail.com>

    	* src/rahunasd.h:
    	  - Fix typo the project name, it is shame.
    	  - Change POLLING interval from 30 seconds to 60 seconds,
    	    try to prevent the socket access overload.
    	* src/rh-ipset.{h,c}:
    	  - Try to open the socket until over the limit GETSOCK_TRIES before exit with 		  EXIT_FAILURE status.

 ChangeLog      |  9 +++++++++
 src/rahunasd.h |  4 ++--
 src/rh-ipset.c | 24 ++++++++++++++++++------
 src/rh-ipset.h |  1 +
 4 files changed, 30 insertions(+), 8 deletions(-)

commit ff1a85e6e39d18e4a172ee1c715d9d659f54d694
Author: Neutron Soutmun <neo.neutron@gmail.com>
Date:   Fri Aug 22 11:42:47 2008 +0700

    Segfault prevention

    2008-08-22  Neutron Soutmun <neo.neutron@gmail.com>

    	* src/rahunasd.c, src/rh-xmlrpc-server.c:
    	  - Rename dummy to termstring (make sense).
    	  - More preventing the segfault due to print NULL string pointer.

 ChangeLog              |  6 ++++++
 src/rahunasd.c         | 19 +++++++++++--------
 src/rh-xmlrpc-server.c | 14 +++++++-------
 3 files changed, 24 insertions(+), 15 deletions(-)

commit 9a8cbea7fb6bdf2f8317ac8b0599ffd7d10c2b9d
Author: Neutron Soutmun <neo.neutron@gmail.com>
Date:   Thu Aug 21 12:25:09 2008 +0700

    Segfault prevention due to NULL printing

    2008-08-21  Neutron Soutmun <neo.neutron@gmail.com>

    	* src/rahunasd.{h,c}, src/rh-xmlrpc-server.c:
    	  - Prevent the segfault due to the log printing username and session_id
    	    pointing to NULL.
    	  - Implement the ipset Flush set command.
    	* src/rh-ipset.{h,c}: Add code to support ipset Flush set command.
    	* + rahunas.in: Add init script example.

 ChangeLog              |  9 ++++++
 rahunas.in             | 68 ++++++++++++++++++++++++++++++++++++++++
 src/rahunasd.c         | 84 +++++++++++++++++++++++++++++++++++---------------
 src/rahunasd.h         | 38 +++++++++++------------
 src/rh-ipset.c         | 14 ++++++++-
 src/rh-ipset.h         |  2 ++
 src/rh-xmlrpc-server.c | 22 +++++++++----
 7 files changed, 186 insertions(+), 51 deletions(-)

commit 940b7164fee2c46618ac60a14f649090e0e5825f
Author: Neutron Soutmun <neo.neutron@gmail.com>
Date:   Thu Aug 21 00:22:02 2008 +0700

    Remove the including of ipset-control.h

    2008-08-21  Neutron Soutmun <neo.neutron@gmail.com>

    	* src/rahunasd.c: Remove the including to ipset-control.h which not exist now.

 ChangeLog      | 4 ++++
 src/rahunasd.c | 1 -
 2 files changed, 4 insertions(+), 1 deletion(-)

commit 4779ef2ad69195f0e8b3c5eb6d2ab82ef0d178f9
Author: Neutron Soutmun <neo.neutron@gmail.com>
Date:   Thu Aug 21 00:17:12 2008 +0700

    Add .../ip_set*.h, resolve FTBFS

    2008-08-21  Neutron Soutmun <neo.neutron@gmail.com>

    	* src/include/linux/netfilter_ipv4/ip_set*.h:
    	  add to resolve FTBFS when clone from git (forgot to commit last time).

 ChangeLog                                         |   7 +-
 src/include/linux/netfilter_ipv4/ip_set.h         | 499 ++++++++++++++++++++++
 src/include/linux/netfilter_ipv4/ip_set_rahunas.h |  45 ++
 3 files changed, 550 insertions(+), 1 deletion(-)

commit 80e39d7f90a349fc628223c0a231a3728da74118
Author: Neutron Soutmun <neo.neutron@gmail.com>
Date:   Thu Aug 21 00:09:13 2008 +0700

    Implement native ipset request (netlink request)

    2008-08-21  Neutron Soutmun <neo.neutron@gmail.com>

    	* src/rahunasd.{h,c}, src/rh-ipset.{h,c}, src/rh-xmlrpc-server.c:
    	  Implement the native ipset command, the codes are adapted from ipset
    	  userspace program.
    	* src/ipset-control.{h,c}: Removed as they are replaced by new native ipset
    	  implementation.
    	* src/Makefile.am: Adjust to support new native ipset implementation.

 ChangeLog              |   9 ++
 src/Makefile.am        |  10 +-
 src/Makefile.in        | 421 -------------------------------------------------
 src/ipset-control.c    | 139 ----------------
 src/ipset-control.h    |  23 ---
 src/rahunasd.c         | 261 ++++++++++++++++--------------
 src/rahunasd.h         |   8 +-
 src/rh-ipset.c         | 320 +++++++++++++++++++++++++++++++++++++
 src/rh-ipset.h         |  91 +++++++++++
 src/rh-xmlrpc-server.c | 136 ++++++++++------
 10 files changed, 670 insertions(+), 748 deletions(-)

commit 9bcbb39e77274e7b57e807c3856eaca7ad30ed41
Author: Neutron Soutmun <neo.neutron@gmail.com>
Date:   Wed Aug 20 00:30:46 2008 +0700

    Using DP() instead of logmsg() for RH_DEBUG msg

    2008-08-20  Neutron Soutmun <neo.neutron@gmail.com>

    	* src/rahunas.{h,c}:
    	  - Replace logmsg which using RH_DEBUG to new DP().

 ChangeLog      |  5 +++++
 src/rahunasd.c | 30 +++++++++++++++---------------
 src/rahunasd.h |  2 +-
 3 files changed, 21 insertions(+), 16 deletions(-)

commit c49eed4dcca7c974def967e082190300d3835322
Author: Neutron Soutmun <neo.neutron@gmail.com>
Date:   Wed Aug 20 00:12:03 2008 +0700

    Add predefine RH_LOG_{LEVEL,NORMAL}

    2008-08-20  Neutron Soutmun <neo.neutron@gmail.com>

    	* src/rahunas.h:
    	  - Add predefine RH_LOG_LEVEL and set it to RH_LOG_NORMAL.
    	  - Remove unneccessary code.

 ChangeLog      |  6 ++++++
 src/rahunasd.h | 13 +------------
 2 files changed, 7 insertions(+), 12 deletions(-)

commit 7610792a5f12277c6b1b7043d4a3dc18355bffbb
Author: Neutron Soutmun <neo.neutron@gmail.com>
Date:   Wed Aug 20 00:08:07 2008 +0700

    Add timemsg() for logging

    2008-08-20  Neutron Soutmun <neo.neutron@gmail.com>

    	* src/rahunas.h:
    	  - Add timemsg(), static funtion returning the time message for logging.
    	  - Adjust DP() for the DEBUG logging, which activate by define RH_DEBUG in
    	    compilation time.

    	* src/rahunas.c:
    	  - Adjust logmsg() to use the new timemsg().

 ChangeLog      | 10 ++++++++++
 src/rahunasd.c | 18 +----------------
 src/rahunasd.h | 62 ++++++++++++++++++++++++++++++++++------------------------
 3 files changed, 47 insertions(+), 43 deletions(-)

commit 1e3eada120a4707336e838eac0384f12d2e61031
Author: Neutron Soutmun <neo.neutron@gmail.com>
Date:   Tue Aug 19 23:17:51 2008 +0700

    Do pipe the stderr stream to logfile

    2008-08-19  Neutron Soutmun <neo.neutron@gmail.com>

    	* src/rahunas.{h,c}:
    	  - pipe stderr stream to logfile.

    	* src/rahunas.h:
    	  - Add minor version numbering to VERSION.
    	  - Change MAX_MEMBERS from dec to hex.

 ChangeLog      |  9 +++++++++
 src/rahunasd.c | 22 ++++++++--------------
 src/rahunasd.h |  4 ++--
 3 files changed, 19 insertions(+), 16 deletions(-)

commit 4d5414be312c5c56d30626b4bb38872c118ccd12
Author: Neutron Soutmun <neo.neutron@gmail.com>
Date:   Tue Aug 19 22:49:00 2008 +0700

    First import

    2008-08-19  Neutron Soutmun <neo.neutron@gmail.com>

    	* === First import the project ===

 AUTHORS                         |   1 +
 COPYING                         | 339 +++++++++++++++++++
 ChangeLog                       |   3 +
 INSTALL                         |   0
 Makefile.am                     |   1 +
 NEWS                            |   0
 README                          |   0
 autogen.sh                      |   5 +
 config.h.in                     | 111 +++++++
 configure.ac                    |  47 +++
 src/Makefile.am                 |   8 +
 src/Makefile.in                 | 421 ++++++++++++++++++++++++
 src/ipset-control.c             | 139 ++++++++
 src/ipset-control.h             |  23 ++
 src/rahunasd.c                  | 701 ++++++++++++++++++++++++++++++++++++++++
 src/rahunasd.h                  |  80 +++++
 src/rh-ipset.c                  |   0
 src/rh-ipset.h                  |   0
 src/rh-xmlrpc-server.c          | 217 +++++++++++++
 src/rh-xmlrpc-server.h          |  29 ++
 xmlrpc/Makefile.am              |  29 ++
 xmlrpc/Makefile.in              | 448 +++++++++++++++++++++++++
 xmlrpc/README                   |  63 ++++
 xmlrpc/test-xmlrpc-client-php.c |  60 ++++
 xmlrpc/test-xmlrpc-client.c     |  71 ++++
 xmlrpc/test-xmlrpc-server.c     | 132 ++++++++
 xmlrpc/xmlrpc-client.c          | 279 ++++++++++++++++
 xmlrpc/xmlrpc-server.c          | 411 +++++++++++++++++++++++
 xmlrpc/xmlrpc.h                 |  85 +++++
 29 files changed, 3703 insertions(+)
